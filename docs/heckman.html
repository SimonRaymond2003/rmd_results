<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Heckman Selection Model Analysis</title>

<script src="site_libs/header-attrs-2.22/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">4th Downs in the NFL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="heckman.html">Heckman Selection</a>
</li>
<li>
  <a href="xgboost.html">XGBoost Prediction</a>
</li>
<li>
  <a href="attendance_binary.html">Attendance Impact Binary</a>
</li>
<li>
  <a href="attendance_pcts.html">Attendance Impact Percentages</a>
</li>
<li>
  <a href="attendance_totals.html">Attendance Impact Totals</a>
</li>
<li>
  <a href="thirddown.html">Third Down Analysis</a>
</li>
<li>
  <a href="attempt_ols.html">Attempts OLS</a>
</li>
<li>
  <a href="Introduction.html">Writing Introduction</a>
</li>
<li>
  <a href="Data.html">Writing Data</a>
</li>
<li>
  <a href="Methodology.html">Writing Methodology</a>
</li>
<li>
  <a href="Results.html">Writing Results</a>
</li>
<li>
  <a href="robustness_checks.html">Robustness Checks</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Heckman Selection Model Analysis</h1>

</div>


<pre class="r"><code>library(data.table)
outcome_data &lt;- fread(&quot;predict_outcome.csv.gz&quot;)
select_data &lt;- fread(&quot;predict_select.csv.gz&quot;)</code></pre>
<pre class="r"><code>select_data[, attempt := as.numeric(as.character(attempt))]</code></pre>
<pre class="r"><code># Commented out original version
# # Load required libraries
# library(data.table)
# library(xgboost)
# library(ROCR)
# library(parallel)
# 
# # Prepare the XGBoost matrices
# xs &lt;- model.matrix(~ . - 1 - attempt - my_id, data = select_data)
# y &lt;- as.numeric(as.character(select_data$attempt))
# 
# # Create parameter grid
# grid &lt;- expand.grid(
#   eta = seq(0.001, 0.1, by = 0.02),
#   max_depth = seq(5, 7, by = 2),
#   min_child_weight = seq(1, 1, by = 1),        
#   subsample = seq(0.8, 0.8, by = 0.2),
#   colsample_bytree = seq(0.8, 0.8, by = 0.2),
#   lambda = seq(1, 1, by = 1),                
#   alpha = seq(0, 0, by = 1),                  
#   gamma = seq(0, 0, by = 0.1),               
#   nrounds = seq(100, 500, by = 500)
# )
# 
# # Sample grid points
# conf_lev &lt;- .95
# num_max &lt;- 5
# n &lt;- ceiling(log(1-conf_lev)/log(1-num_max/nrow(grid)))
# ind &lt;- sample(nrow(grid), n, replace = FALSE)
# rgrid &lt;- grid[ind, ]
# 
# # Set up parallel processing
# nc &lt;- detectCores() - 1
# 
# # Validation phase
# cat(&quot;\nPhase 1: Validation Phase\n&quot;)
# n_validations &lt;- 2
# validation_results &lt;- matrix(nrow = nrow(rgrid), ncol = n_validations)
# 
# for (j in 1:nrow(rgrid)) {
#   cat(&quot;\nTesting parameter set&quot;, j, &quot;of&quot;, nrow(rgrid), &quot;\n&quot;)
#   
#   for (i in 1:n_validations) {
#     # Create validation split
#     idx &lt;- unique(sample(nrow(xs), nrow(xs), TRUE))
#     train_x &lt;- xs[idx, ]
#     train_y &lt;- y[idx]
#     val_x &lt;- xs[-idx, ]
#     val_y &lt;- y[-idx]
#     
#     # Undersample majority class in training data
#     train_idx_0 &lt;- which(train_y == 0)
#     train_idx_1 &lt;- which(train_y == 1)
#     
#     # Get number of minority class samples
#     n_minority &lt;- length(train_idx_1)
#     
#     # Randomly sample from majority class
#     train_idx_0_sampled &lt;- sample(train_idx_0, n_minority)
#     
#     # Combine indices for balanced dataset
#     balanced_idx &lt;- c(train_idx_0_sampled, train_idx_1)
#     
#     # Create balanced training dataset
#     train_x_balanced &lt;- train_x[balanced_idx, ]
#     train_y_balanced &lt;- train_y[balanced_idx]
#     
#     prm &lt;- list(
#       booster = &quot;gbtree&quot;,
#       objective = &quot;binary:logistic&quot;,
#       max_depth = rgrid[j, &quot;max_depth&quot;],
#       eta = rgrid[j, &quot;eta&quot;],
#       subsample = rgrid[j, &quot;subsample&quot;],
#       colsample_bytree = rgrid[j, &quot;colsample_bytree&quot;],
#       gamma = rgrid[j, &quot;gamma&quot;],
#       min_child_weight = rgrid[j, &quot;min_child_weight&quot;],
#       alpha = rgrid[j, &quot;alpha&quot;],
#       lambda = rgrid[j, &quot;lambda&quot;],
#       nthread = nc
#     )
#     
#     dm_train &lt;- xgb.DMatrix(data = train_x_balanced, label = train_y_balanced)
#     mdl &lt;- xgb.train(
#       params = prm,
#       data = dm_train,
#       nrounds = rgrid[j, &quot;nrounds&quot;],
#       verbose = FALSE
#     )
#     
#     p &lt;- predict(mdl, xgb.DMatrix(data = val_x))
#     pred &lt;- prediction(p, val_y)
#     validation_results[j, i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
#   }
# }
# 
# # Run 100 tests with best parameters
# cat(&quot;\nRunning X test iterations with best parameters...\n&quot;)
# test_aucs &lt;- c()
# 
# best_params_idx &lt;- which.max(rowMeans(validation_results))
# best_params &lt;- rgrid[best_params_idx,]
# 
# # Train final model with best parameters
# best_params_list &lt;- as.list(best_params[-which(names(best_params) == &quot;nrounds&quot;)])
# best_params_list$booster &lt;- &quot;gbtree&quot;
# best_params_list$objective &lt;- &quot;binary:logistic&quot;
# best_params_list$nthread &lt;- nc
# 
# for(i in 1:100) {
#   # Create test split
#   idx &lt;- unique(sample(nrow(xs), nrow(xs), T))
#   train_x &lt;- xs[idx, ]
#   train_y &lt;- y[idx]
#   test_x &lt;- xs[-idx, ]
#   test_y &lt;- y[-idx]
#   
#   # Undersample training data
#   train_idx_0 &lt;- which(train_y == 0)
#   train_idx_1 &lt;- which(train_y == 1)
#   n_minority &lt;- length(train_idx_1)
#   train_idx_0_sampled &lt;- sample(train_idx_0, n_minority)
#   balanced_idx &lt;- c(train_idx_0_sampled, train_idx_1)
#   
#   # Create balanced training dataset
#   train_x_balanced &lt;- train_x[balanced_idx, ]
#   train_y_balanced &lt;- train_y[balanced_idx]
#   
#   # Train model
#   dm_train &lt;- xgb.DMatrix(data = train_x_balanced, label = train_y_balanced)
#   mdl &lt;- xgb.train(
#     params = best_params_list,
#     data = dm_train,
#     nrounds = best_params[[&quot;nrounds&quot;]],
#     verbose = FALSE
#   )
#   
#   # Test on unbalanced test set
#   p &lt;- predict(mdl, xgb.DMatrix(data = test_x))
#   pred &lt;- prediction(p, test_y)
#   test_aucs[i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
# }
# 
# # Print results
# cat(&quot;\nTest Results over 100 iterations:\n&quot;)
# cat(&quot;Mean AUC:&quot;, mean(test_aucs), &quot;\n&quot;)
# cat(&quot;SD AUC:&quot;, sd(test_aucs), &quot;\n&quot;)
# cat(&quot;95% CI:&quot;, mean(test_aucs) - 1.96 * sd(test_aucs), 
#     &quot;to&quot;, mean(test_aucs) + 1.96 * sd(test_aucs), &quot;\n&quot;)
# 
# # Plotting AUC distribution
# plot(test_aucs, col=&quot;red&quot;, pch=20,
#      main=&quot;AUC Test Distribution&quot;,
#      xlab=&quot;Iteration&quot;, ylab=&quot;AUC&quot;)
# abline(h=mean(test_aucs), col=&quot;blue&quot;, lwd=2, lty=2)
# abline(h=mean(test_aucs) - 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
# abline(h=mean(test_aucs) + 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
# legend(&quot;bottomright&quot;, 
#        legend=c(&quot;AUC Values&quot;, &quot;Mean&quot;, &quot;95% CI Bounds&quot;),
#        col=c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;),
#        lty=c(NA, 2, 3),
#        pch=c(20, NA, NA))
# 
# # Now train final model on full data for z scores
# final_idx_0 &lt;- which(y == 0)
# final_idx_1 &lt;- which(y == 1)
# n_minority_final &lt;- length(final_idx_1)
# final_idx_0_sampled &lt;- sample(final_idx_0, n_minority_final)
# final_balanced_idx &lt;- c(final_idx_0_sampled, final_idx_1)
# 
# # Create balanced final dataset
# xs_balanced &lt;- xs[final_balanced_idx, ]
# y_balanced &lt;- y[final_balanced_idx]
# 
# dm_full &lt;- xgb.DMatrix(data = xs_balanced, label = y_balanced)
# final_model &lt;- xgb.train(
#   params = best_params_list,
#   data = dm_full,
#   nrounds = best_params[[&quot;nrounds&quot;]],
#   verbose = FALSE
# )
# 
# # Get probability predictions (z) for ALL data
# z &lt;- predict(final_model, xgb.DMatrix(data = xs))</code></pre>
<pre class="r"><code>library(data.table)
library(xgboost)
library(ROCR)
library(parallel)

# Prepare the XGBoost matrices
xs &lt;- model.matrix(~ . - 1 - attempt - my_id, data = select_data)
y &lt;- as.numeric(as.character(select_data$attempt))


# Create parameter grid
grid &lt;- expand.grid(
  eta = seq(0.001, 0.1, by = 0.01),
  max_depth = seq(5, 7, by = 2),
  min_child_weight = seq(1, 1, by = 1),        
  subsample = seq(1, 1, by = 0.2),
  colsample_bytree = seq(01, 1, by = 0.2),
  lambda = seq(1, 1, by = 1),                
  alpha = seq(0, 0, by = 1),                  
  gamma = seq(0, 0, by = 0.1),               
  nrounds = seq(100, 200, by = 100)
)


# Sample grid points
conf_lev &lt;- .95
num_max &lt;- 5
n &lt;- ceiling(log(1-conf_lev)/log(1-num_max/nrow(grid)))
ind &lt;- sample(nrow(grid), n, replace = FALSE)
rgrid &lt;- grid[ind, ]

# Set up parallel processing
nc &lt;- detectCores() - 1

# Calculate scale_pos_weight for imbalanced dataset
scale_pos_weight &lt;- sum(y == 0) / sum(y == 1)

# Validation phase
#cat(&quot;\nPhase 1: Validation Phase\n&quot;)
n_validations &lt;- 5
validation_results &lt;- matrix(nrow = nrow(rgrid), ncol = n_validations)

for (j in 1:nrow(rgrid)) {
  #cat(&quot;\nTesting parameter set&quot;, j, &quot;of&quot;, nrow(rgrid), &quot;\n&quot;)
  
  for (i in 1:n_validations) {
    #cat(&quot;\nValidation iteration&quot;, i, &quot;of&quot;, n_validations, &quot;\n&quot;)             
    # Create validation split
    idx &lt;- unique(sample(nrow(xs), nrow(xs), TRUE))
    train_x &lt;- xs[idx, ]
    train_y &lt;- y[idx]
    val_x &lt;- xs[-idx, ]
    val_y &lt;- y[-idx]
    
    prm &lt;- list(
      booster = &quot;gbtree&quot;,
      objective = &quot;binary:logistic&quot;,
      max_depth = rgrid[j, &quot;max_depth&quot;],
      eta = rgrid[j, &quot;eta&quot;],
      subsample = rgrid[j, &quot;subsample&quot;],
      colsample_bytree = rgrid[j, &quot;colsample_bytree&quot;],
      gamma = rgrid[j, &quot;gamma&quot;],
      min_child_weight = rgrid[j, &quot;min_child_weight&quot;],
      alpha = rgrid[j, &quot;alpha&quot;],
      lambda = rgrid[j, &quot;lambda&quot;],
      scale_pos_weight = scale_pos_weight,
      nthread = nc
    )
    
    dm_train &lt;- xgb.DMatrix(data = train_x, label = train_y)
    mdl &lt;- xgb.train(
      params = prm,
      data = dm_train,
      nrounds = rgrid[j, &quot;nrounds&quot;],
      verbose = FALSE
    )
    
    p &lt;- predict(mdl, xgb.DMatrix(data = val_x))
    pred &lt;- prediction(p, val_y)
    validation_results[j, i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
  }
}

# Run 100 tests with best parameters
cat(&quot;\nRunning X test iterations with best parameters...\n&quot;)</code></pre>
<pre><code>## 
## Running X test iterations with best parameters...</code></pre>
<pre class="r"><code>test_aucs &lt;- c()

best_params_idx &lt;- which.max(rowMeans(validation_results))
best_params &lt;- rgrid[best_params_idx,]

# Train final model with best parameters
best_params_list &lt;- as.list(best_params[-which(names(best_params) == &quot;nrounds&quot;)])
best_params_list$booster &lt;- &quot;gbtree&quot;
best_params_list$objective &lt;- &quot;binary:logistic&quot;
best_params_list$scale_pos_weight &lt;- scale_pos_weight
best_params_list$nthread &lt;- nc

for(i in 1:25) {
  # Create test split
  idx &lt;- unique(sample(nrow(xs), nrow(xs), T))
  train_x &lt;- xs[idx, ]
  train_y &lt;- y[idx]
  test_x &lt;- xs[-idx, ]
  test_y &lt;- y[-idx]
  
  # Train model on full unbalanced dataset
  dm_train &lt;- xgb.DMatrix(data = train_x, label = train_y)
  mdl &lt;- xgb.train(
    params = best_params_list,
    data = dm_train,
    nrounds = best_params[[&quot;nrounds&quot;]],
    verbose = FALSE
  )
  
  # Test on unbalanced test set
  p &lt;- predict(mdl, xgb.DMatrix(data = test_x))
  pred &lt;- prediction(p, test_y)
  test_aucs[i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
}
# Print results
cat(&quot;\nTest Results over 100 iterations:\n&quot;)</code></pre>
<pre><code>## 
## Test Results over 100 iterations:</code></pre>
<pre class="r"><code>cat(&quot;Mean AUC:&quot;, mean(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## Mean AUC: 0.8870244</code></pre>
<pre class="r"><code>cat(&quot;SD AUC:&quot;, sd(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## SD AUC: 0.003430824</code></pre>
<pre class="r"><code>cat(&quot;95% CI:&quot;, mean(test_aucs) - 1.96 * sd(test_aucs), 
    &quot;to&quot;, mean(test_aucs) + 1.96 * sd(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## 95% CI: 0.8803 to 0.8937488</code></pre>
<pre class="r"><code># Plotting AUC distribution
plot(test_aucs, col=&quot;red&quot;, pch=20,
     main=&quot;AUC Test Distribution&quot;,
     xlab=&quot;Iteration&quot;, ylab=&quot;AUC&quot;)
abline(h=mean(test_aucs), col=&quot;blue&quot;, lwd=2, lty=2)  # Add this line to show mean
abline(h=mean(test_aucs) - 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
abline(h=mean(test_aucs) + 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
legend(&quot;bottomright&quot;, 
       legend=c(&quot;AUC Values&quot;, &quot;Mean&quot;, &quot;95% CI Bounds&quot;),
       col=c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;),
       lty=c(NA, 2, 3),
       pch=c(20, NA, NA))</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code># Now train final model on full data for z scores
dm_full &lt;- xgb.DMatrix(data = xs, label = y)
final_model &lt;- xgb.train(
  params = best_params_list,
  data = dm_full,
  nrounds = best_params[[&quot;nrounds&quot;]],
  verbose = FALSE
)

# Get probability predictions (z) for ALL data
z &lt;- predict(final_model, xgb.DMatrix(data = xs))</code></pre>
<pre class="r"><code># Calculate residuals for XGBoost predictions
y &lt;- as.numeric(as.character(select_data$attempt))
residuals &lt;- y - z

# Histogram of residuals
hist(residuals, main=&quot;Distribution of XGBoost Model Residuals&quot;, xlab=&quot;Residual&quot;, breaks=100)</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code># plot out the z values\
plot(density(z), 
     main = &quot;Density of Z Predictions&quot;,
     xlab = &quot;Predicted Probability of Attempt&quot;,
     ylab = &quot;Density&quot;)</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code># Calculate GIMR (lambda) This is Generalized inverse mills ratio
GIMR &lt;- dnorm(qnorm(z)) / (1 - pnorm(qnorm(z)))

# Add GIMR to the data
select_data[, GIMR := GIMR]

# Print variable importa</code></pre>
<pre class="r"><code># Create a data.table with just my_id and GIMR from select_data
GIMR_dt &lt;- data.table(my_id = select_data$my_id, GIMR = GIMR)

# Add GIMR to outcome_data by matching on my_id
outcome_data[GIMR_dt, GIMR := i.GIMR, on = &quot;my_id&quot;]</code></pre>
<pre class="r"><code>#remove columns to prevent perfect colinearity
outcome_data &lt;- outcome_data[, my_id := NULL]
outcome_data[, yardline_31_40 := NULL]
outcome_data[, year2022_team_CLE := NULL] # tied for most attempts with 31</code></pre>
<pre class="r"><code>outcome_data[, conversion := as.numeric(as.character(conversion))]
# Then run OLS with GIMR correction
ols_model &lt;- lm(conversion ~  ., data = outcome_data)</code></pre>
<pre class="r"><code>library(sandwich)
library(lmtest)

# Get HC0-adjusted t-values and p-values
robust_test &lt;- coeftest(ols_model, vcov = vcovHC(ols_model, type = &quot;HC0&quot;))
t_stats &lt;- robust_test[, &quot;t value&quot;]
p_values &lt;- robust_test[, &quot;Pr(&gt;|t|)&quot;]

# Function to add significance stars
get_stars &lt;- function(p) {
    if (p &lt;= 0.01) return(&quot;***&quot;)
    if (p &lt;= 0.05) return(&quot;**&quot;)
    if (p &lt;= 0.1) return(&quot;*&quot;)
    if (p &lt;= 0.15) return(&quot;.&quot;)
    return(&quot;&quot;)
}

# Maximum width for variable names
name_width &lt;- 60

# Print header with alignment
cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;Variable&quot;, &quot;t-value&quot;, &quot;p-value&quot;, &quot;sig&quot;))</code></pre>
<pre><code>## Variable                                                         t-value     p-value   sig</code></pre>
<pre class="r"><code>cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;---------&quot;, &quot;-------&quot;, &quot;-------&quot;, &quot;----&quot;))</code></pre>
<pre><code>## ---------                                                        -------     -------  ----</code></pre>
<pre class="r"><code># Loop through and print values
for (i in 1:length(t_stats)) {
    var_name &lt;- rownames(robust_test)[i]
    # Truncate name if too long
    if (nchar(var_name) &gt; name_width) {
        var_name &lt;- paste0(substr(var_name, 1, name_width-3), &quot;...&quot;)
    }
    cat(sprintf(&quot;%-*s  %10.4f  %10.4f  %4s\n&quot;, 
                name_width, var_name, 
                t_stats[i], p_values[i],
                get_stars(p_values[i])))
}</code></pre>
<pre><code>## (Intercept)                                                      -1.5216      0.1282     .
## ydstogo                                                         -12.1380      0.0000   ***
## posteam_timeouts_remaining                                        1.5392      0.1238     .
## defteam_timeouts_remaining                                        0.8574      0.3913      
## rush_attempt                                                      7.2976      0.0000   ***
## week                                                              1.2009      0.2299      
## temp                                                             -0.1719      0.8635      
## wind                                                              0.4868      0.6264      
## vegas_wp                                                          1.2024      0.2293      
## total_line                                                        1.4629      0.1436     .
## prep_days                                                         1.3314      0.1831      
## overall_win_pct                                                   0.0376      0.9700      
## team_win_pct                                                      1.8716      0.0613     *
## prev_win_pct                                                     -3.1975      0.0014   ***
## prev_shotgun_rate                                                 0.7458      0.4558      
## prev_singleback_rate                                              0.7296      0.4657      
## prev_empty_rate                                                   1.2319      0.2181      
## prev_iform_rate                                                   0.2709      0.7865      
## prev_shotgun_success                                              0.6297      0.5290      
## prev_singleback_success                                           0.4306      0.6668      
## prev_empty_success                                                1.2146      0.2246      
## prev_iform_success                                                1.8038      0.0714     *
## prev_stop_rate_run                                                0.6421      0.5208      
## prev_stop_rate_pass                                              -3.8632      0.0001   ***
## shotgun_rate                                                      0.7492      0.4538      
## singleback_rate                                                   0.2356      0.8138      
## empty_rate                                                        1.1450      0.2523      
## iform_rate                                                       -1.9968      0.0459    **
## shotgun_success                                                  -1.9051      0.0568     *
## singleback_success                                               -1.5384      0.1241     .
## empty_success                                                    -2.1377      0.0326    **
## iform_success                                                    -2.5329      0.0114    **
## def_stop_rate_run                                                 1.8291      0.0675     *
## def_stop_rate_pass                                               -0.8459      0.3977      
## avg_pass_rushers                                                  0.4650      0.6419      
## avg_box_defenders                                                -0.8135      0.4160      
## cover0_rate                                                      -1.2956      0.1952      
## cover1_rate                                                       0.3006      0.7637      
## cover2_rate                                                      -0.1457      0.8842      
## cover3_rate                                                       1.5301      0.1261     .
## cover4_rate                                                       1.6139      0.1067     .
## cover6_rate                                                       0.0210      0.9833      
## two_man_rate                                                      0.5803      0.5618      
## prevent_rate                                                      2.3418      0.0192    **
## attendance_raw                                                   -1.4255      0.1541      
## roof_outdoors                                                     0.4007      0.6887      
## posteam_type_home                                                -2.5182      0.0118    **
## offense_formation_EMPTY                                           1.0667      0.2862      
## offense_formation_SHOTGUN                                         0.6359      0.5249      
## offense_formation_SINGLEBACK                                     -0.0004      0.9997      
## offense_formation_I_FORM                                         -0.3584      0.7201      
## offense_player_1_present                                          2.8347      0.0046   ***
## offense_player_2_present                                         -1.2486      0.2119      
## offense_player_4_present                                          0.5732      0.5665      
## offense_player_5_present                                          0.2436      0.8076      
## offense_player_6_present                                         -0.9018      0.3672      
## offense_player_8_present                                         -1.5239      0.1276     .
## offense_player_9_present                                         -0.5677      0.5702      
## offense_player_10_present                                        -0.0398      0.9682      
## offense_player_11_present                                        -0.3551      0.7226      
## offense_player_12_present                                         2.6103      0.0091   ***
## offense_player_14_present                                        -0.6149      0.5386      
## offense_player_15_present                                        -1.2093      0.2266      
## offense_player_16_present                                        -0.3108      0.7560      
## offense_player_17_present                                         0.0773      0.9384      
## offense_player_20_present                                         0.0554      0.9558      
## offense_player_22_present                                        -0.6364      0.5246      
## offense_player_23_present                                         1.6541      0.0982     *
## offense_player_24_present                                        -4.5285      0.0000   ***
## offense_player_1_passing_concept_no_screen_grades_pass_12w        0.1851      0.8531      
## offense_player_4_rushing_grades_yards_2w                          0.5643      0.5726      
## offense_player_8_receiving_grades_pass_plays_12w                 -1.9336      0.0532     *
## offense_player_14_blocking_grades_pass_block_percent_2w           1.0524      0.2927      
## offense_player_15_blocking_grades_block_percent_2w               -0.0108      0.9914      
## offense_player_17_pass_blocking_non_spike_pass_block_12w          0.2234      0.8232      
## offense_player_18_pass_blocking_snap_counts_pass_play_12w         0.5791      0.5626      
## offense_player_19_blocking_grades_grades_pass_block_2w            0.8637      0.3878      
## offense_player_20_blocking_grades_snap_counts_pass_play_12w      -1.0355      0.3005      
## offense_player_21_run_blocking_gap_snap_counts_run_block_...      2.7943      0.0052   ***
## offense_player_1_passing_concept_no_screen_yards_12w             -1.6191      0.1055     .
## offense_player_4_rushing_grades_designed_yards_12w                1.4104      0.1585      
## offense_player_8_receiving_depth_short_longest_12w               -0.0907      0.9277      
## offense_player_10_blocking_grades_snap_counts_pass_play_12w       0.3020      0.7627      
## offense_player_14_run_blocking_snap_counts_run_block_12w          1.1480      0.2511      
## offense_player_15_blocking_grades_snap_counts_block_2w            1.6367      0.1018     .
## offense_player_17_blocking_grades_snap_counts_pass_play_12w       0.8694      0.3847      
## offense_player_18_blocking_grades_snap_counts_pass_play_12w      -0.3322      0.7397      
## offense_player_19_blocking_grades_grades_offense_12w             -0.2803      0.7792      
## offense_player_20_pass_blocking_true_pass_set_non_spike_p...      1.9846      0.0473    **
## offense_player_21_run_blocking_snap_counts_run_play_12w          -2.3581      0.0184    **
## offense_player_1_passing_concept_pa_qb_rating_12w                 1.0999      0.2715      
## offense_player_4_rushing_grades_elu_yco_12w                      -1.2420      0.2143      
## offense_player_8_blocking_grades_snap_counts_pass_play_12w        2.0779      0.0378    **
## offense_player_10_receiving_concept_base_targets_12w              0.1385      0.8899      
## offense_player_14_blocking_grades_grades_pass_block_2w            1.1520      0.2494      
## offense_player_15_blocking_grades_block_percent_12w               0.4320      0.6657      
## offense_player_17_pass_blocking_snap_counts_pass_block_12w       -0.5875      0.5569      
## offense_player_18_blocking_grades_non_spike_pass_block_12w        0.1558      0.8762      
## offense_player_19_pass_blocking_pbe_12w                          -1.7368      0.0825     *
## offense_player_20_blocking_grades_snap_counts_pass_block_2w       0.3847      0.7005      
## offense_player_21_special_teams_grades_grades_special_tea...      0.3088      0.7575      
## defense_player_1_present                                         -0.9951      0.3198      
## defense_player_2_present                                          3.1977      0.0014   ***
## defense_player_3_present                                          0.2256      0.8215      
## defense_player_4_present                                         -1.4758      0.1401     .
## defense_player_5_present                                         -0.5620      0.5741      
## defense_player_6_present                                         -1.5191      0.1288     .
## defense_player_9_present                                          0.3959      0.6922      
## defense_player_10_present                                        -1.2879      0.1979      
## defense_player_11_present                                        -0.5519      0.5811      
## defense_player_12_present                                        -0.2433      0.8078      
## defense_player_13_present                                         1.8042      0.0713     *
## defense_player_14_present                                         0.2953      0.7678      
## defense_player_15_present                                         0.5461      0.5851      
## defense_player_16_present                                         1.5783      0.1146     .
## defense_player_17_present                                         0.7501      0.4532      
## defense_player_18_present                                         1.6695      0.0951     *
## defense_player_19_present                                         0.4778      0.6328      
## defense_player_20_present                                        -1.1466      0.2516      
## defense_player_21_present                                         0.7162      0.4739      
## defense_player_22_present                                         2.9772      0.0029   ***
## defense_player_23_present                                         1.9062      0.0567     *
## defense_player_1_pass_rush_grades_pass_rush_opp_12w              -1.2302      0.2187      
## defense_player_2_defensive_grades_snap_counts_run_defense_2w      0.0436      0.9652      
## defense_player_3_defensive_grades_snap_counts_run_defense...     -0.5856      0.5582      
## defense_player_4_defensive_grades_snap_counts_run_defense...      0.5250      0.5996      
## defense_player_9_defensive_grades_grades_defense_penalty_12w      0.2827      0.7775      
## defense_player_10_run_defense_grades_grades_defense_penal...      0.4360      0.6629      
## defense_player_11_coverage_grades_coverage_percent_12w            0.8003      0.4236      
## defense_player_12_pass_rush_grades_true_pass_set_snap_cou...     -0.3867      0.6990      
## defense_player_15_coverage_schemes_man_qb_rating_against_12w      1.1378      0.2553      
## defense_player_16_coverage_grades_grades_defense_12w              0.1779      0.8588      
## defense_player_17_coverage_schemes_man_snap_counts_covera...     -0.8894      0.3739      
## defense_player_20_defense_coverage_scheme_man_catch_rate_3y       2.5006      0.0124    **
## defense_player_21_defensive_grades_grades_tackle_12w             -2.7689      0.0057   ***
## defense_player_22_coverage_grades_longest_12w                    -2.4180      0.0157    **
## defense_player_1_defensive_grades_snap_counts_dl_over_t_12w      -0.8913      0.3728      
## defense_player_2_run_defense_grades_grades_pass_rush_defe...     -2.5414      0.0111    **
## defense_player_3_run_defense_grades_snap_counts_run_12w           0.3671      0.7136      
## defense_player_4_pass_rushing_productivity_pass_snaps_12w        -1.5304      0.1260     .
## defense_player_9_coverage_grades_avg_depth_of_target_2w          -1.6552      0.0980     *
## defense_player_10_coverage_schemes_zone_coverage_percent_12w      1.4150      0.1571      
## defense_player_11_pass_rushing_productivity_prp_12w              -0.8079      0.4192      
## defense_player_12_run_defense_grades_avg_depth_of_tackle_12w      2.6518      0.0080   ***
## defense_player_15_run_defense_grades_grades_defense_12w           0.9768      0.3287      
## defense_player_16_run_defense_grades_grades_defense_12w          -0.0531      0.9576      
## defense_player_17_coverage_schemes_man_snap_counts_pass_p...     -0.4802      0.6311      
## defense_player_20_coverage_schemes_zone_snap_counts_cover...      0.4851      0.6277      
## defense_player_21_coverage_grades_grades_defense_penalty_2w      -1.3795      0.1678      
## defense_player_22_coverage_schemes_man_qb_rating_against_12w     -2.2449      0.0248    **
## defense_player_1_pass_rush_grades_true_pass_set_total_pre...      1.0929      0.2745      
## defense_player_2_pass_rush_grades_snap_counts_pass_play_12w       0.9185      0.3584      
## defense_player_3_run_defense_grades_run_stop_opp_12w              0.0122      0.9903      
## defense_player_4_run_defense_grades_grades_defense_penalt...      1.2503      0.2113      
## defense_player_9_coverage_grades_coverage_snaps_per_recep...      1.4554      0.1456     .
## defense_player_10_pass_rushing_productivity_pass_rush_per...      0.3395      0.7342      
## defense_player_11_run_defense_grades_snap_counts_run_2w           0.7945      0.4270      
## defense_player_12_special_teams_grades_grades_misc_st_12w        -0.2417      0.8090      
## defense_player_15_coverage_grades_grades_defense_12w             -1.4944      0.1352     .
## defense_player_16_defensive_grades_grades_defense_12w            -0.6971      0.4858      
## defense_player_17_coverage_grades_snap_counts_pass_play_12w       0.5576      0.5772      
## defense_player_20_defensive_grades_grades_defense_penalty...      0.3653      0.7149      
## defense_player_21_coverage_grades_grades_run_defense_12w          2.2149      0.0268    **
## defense_player_22_defensive_grades_grades_defense_12w            -1.9025      0.0572     *
## starter_offense_1                                                -0.3805      0.7036      
## starter_defense_1                                                 0.5516      0.5813      
## starter_offense_2                                                -2.2706      0.0232    **
## starter_defense_2                                                -0.7037      0.4817      
## starter_defense_3                                                -0.4990      0.6178      
## starter_offense_4                                                 3.2218      0.0013   ***
## starter_defense_4                                                -2.0011      0.0455    **
## starter_offense_5                                                 0.0653      0.9480      
## starter_defense_5                                                -2.0404      0.0414    **
## starter_offense_6                                                -1.4723      0.1410     .
## starter_defense_6                                                 0.0284      0.9774      
## starter_offense_7                                                -0.1216      0.9032      
## starter_defense_7                                                -0.4249      0.6709      
## starter_offense_8                                                 0.5884      0.5563      
## starter_defense_8                                                -0.7234      0.4695      
## starter_offense_9                                                 0.6750      0.4997      
## starter_defense_9                                                 1.3346      0.1821      
## starter_offense_10                                                1.2162      0.2240      
## starter_defense_10                                               -0.1561      0.8760      
## starter_offense_11                                                0.3164      0.7517      
## starter_defense_11                                               -0.6193      0.5358      
## starter_offense_12                                                2.1389      0.0325    **
## starter_defense_12                                               -0.0950      0.9243      
## starter_offense_13                                                1.8326      0.0669     *
## starter_defense_13                                                0.4719      0.6370      
## starter_offense_14                                               -0.2962      0.7671      
## starter_defense_14                                               -0.4408      0.6594      
## starter_offense_15                                               -0.2695      0.7875      
## starter_defense_15                                                0.8964      0.3701      
## starter_offense_16                                               -0.7018      0.4829      
## starter_defense_16                                                0.4702      0.6382      
## starter_offense_17                                                2.1437      0.0321    **
## starter_defense_17                                                0.0525      0.9582      
## starter_offense_18                                                1.7850      0.0743     *
## starter_defense_18                                               -1.5034      0.1328     .
## starter_offense_19                                               -0.3472      0.7285      
## starter_defense_19                                               -0.0292      0.9767      
## starter_offense_20                                                1.1842      0.2364      
## starter_defense_20                                               -2.9347      0.0034   ***
## starter_offense_21                                                0.2279      0.8197      
## starter_defense_21                                               -1.3284      0.1841      
## starter_offense_22                                               -1.1120      0.2662      
## starter_defense_22                                               -0.8566      0.3917      
## starter_offense_23                                               -0.3391      0.7346      
## starter_defense_23                                               -0.5006      0.6167      
## starter_offense_24                                                0.2995      0.7646      
## starter_offense_player_1_present                                  1.1607      0.2458      
## starter_offense_player_2_present                                 -0.1292      0.8972      
## starter_offense_player_3_present                                 -0.0943      0.9249      
## starter_offense_player_5_present                                  2.8661      0.0042   ***
## starter_offense_player_6_present                                  0.1652      0.8688      
## starter_offense_player_7_present                                  0.8210      0.4117      
## starter_offense_player_11_present                                 0.6270      0.5307      
## starter_offense_player_12_present                                 0.8860      0.3757      
## starter_offense_player_13_present                                -1.9926      0.0464    **
## starter_offense_player_15_present                                -0.3724      0.7096      
## starter_offense_player_16_present                                -0.3359      0.7370      
## starter_offense_player_22_present                                -1.8692      0.0617     *
## starter_offense_player_23_present                                -0.1373      0.8908      
## starter_offense_player_24_present                                -1.3139      0.1890      
## starter_defense_player_4_present                                 -1.3636      0.1728      
## starter_defense_player_5_present                                  0.0359      0.9714      
## starter_defense_player_6_present                                 -2.3227      0.0203    **
## starter_defense_player_7_present                                 -0.1254      0.9002      
## starter_defense_player_8_present                                  1.3797      0.1678      
## starter_defense_player_14_present                                -1.3882      0.1652      
## starter_defense_player_16_present                                -1.3518      0.1765      
## starter_defense_player_17_present                                 0.7816      0.4345      
## starter_defense_player_18_present                                 0.4818      0.6300      
## starter_defense_player_19_present                                 0.2489      0.8035      
## starter_defense_player_21_present                                 2.2961      0.0217    **
## starter_defense_player_22_present                                 0.4519      0.6514      
## starter_defense_player_23_present                                 1.1053      0.2691      
## starter_offense_player_1_passing_pressure_no_blitz_comple...      1.7063      0.0880     *
## starter_offense_player_4_receiving_vs_scheme_zone_route_r...     -1.6319      0.1028     .
## starter_offense_player_8_receiving_depth_short_yards_afte...      0.2554      0.7984      
## starter_offense_player_9_receiving_depth_center_deep_avg_...      3.9544      0.0001   ***
## starter_offense_player_10_receiving_depth_left_medium_yar...      1.2377      0.2159      
## starter_offense_player_14_receiving_vs_scheme_man_targets...      1.5675      0.1171     .
## starter_offense_player_15_receiving_concept_slot_yards_12w       -1.7298      0.0838     *
## starter_offense_player_17_run_blocking_grades_run_block_2w        2.7093      0.0068   ***
## starter_offense_player_18_blocking_grades_non_spike_pass_...     -0.1877      0.8512      
## starter_offense_player_19_blocking_grades_grades_pass_blo...     -2.0918      0.0365    **
## starter_offense_player_20_blocking_grades_grades_pass_blo...      1.1127      0.2659      
## starter_offense_player_21_offense_blocking_snap_counts_ru...      2.3207      0.0204    **
## starter_offense_player_1_passing_depth_right_short_yards_12w      0.1242      0.9012      
## starter_offense_player_4_receiving_depth_short_grades_pas...     -0.3486      0.7274      
## starter_offense_player_8_receiving_depth_left_short_targe...     -1.7488      0.0804     *
## starter_offense_player_9_receiving_grades_contested_catch...      1.7465      0.0808     *
## starter_offense_player_10_receiving_vs_scheme_man_route_r...      0.4325      0.6654      
## starter_offense_player_14_blocking_grades_snap_counts_off...     -1.4803      0.1389     .
## starter_offense_player_15_receiving_depth_right_short_pas...     -0.2715      0.7860      
## starter_offense_player_18_blocking_grades_snap_counts_pas...      0.2764      0.7822      
## starter_offense_player_20_blocking_grades_grades_offense_2w      -0.3458      0.7295      
## starter_offense_player_21_offense_blocking_snap_counts_of...     -2.2035      0.0276    **
## starter_offense_player_1_time_in_pocket_less_completions_12w     -0.2780      0.7810      
## starter_offense_player_4_receiving_depth_center_medium_pa...     -3.2103      0.0013   ***
## starter_offense_player_8_receiving_depth_left_short_targe...      2.9748      0.0030   ***
## starter_offense_player_9_receiving_depth_deep_contested_r...      0.5351      0.5926      
## starter_offense_player_10_run_blocking_zone_grades_run_bl...      1.2957      0.1952      
## starter_offense_player_14_receiving_depth_medium_yards_12w       -0.3006      0.7637      
## starter_offense_player_15_receiving_grades_grades_offense...      0.0482      0.9616      
## starter_offense_player_17_blocking_grades_snap_counts_run...     -0.3657      0.7146      
## starter_offense_player_18_blocking_grades_pbe_12w                -1.4969      0.1345     .
## starter_offense_player_19_blocking_grades_snap_counts_run...      0.2744      0.7838      
## starter_offense_player_20_blocking_grades_grades_run_bloc...     -0.3729      0.7092      
## starter_offense_player_21_pass_blocking_non_spike_pass_bl...      0.2324      0.8163      
## starter_defense_player_1_defensive_grades_grades_defense_2w      -2.0521      0.0402    **
## starter_defense_player_2_defensive_grades_grades_defense_2w       0.1578      0.8746      
## starter_defense_player_3_defensive_grades_missed_tackles_12w     -0.5986      0.5495      
## starter_defense_player_4_defensive_grades_grades_run_defe...     -1.3155      0.1884      
## starter_defense_player_9_defensive_grades_snap_counts_dl_...      1.1621      0.2453      
## starter_defense_player_10_defense_coverage_scheme_zone_sn...     -0.1387      0.8897      
## starter_defense_player_11_run_defense_grades_grades_run_d...     -0.5718      0.5675      
## starter_defense_player_12_coverage_grades_grades_run_defe...     -0.1571      0.8751      
## starter_defense_player_15_coverage_schemes_zone_coverage_...     -1.3756      0.1690      
## starter_defense_player_16_defensive_grades_grades_defense_2w      0.1613      0.8719      
## starter_defense_player_17_coverage_schemes_zone_yards_12w        -0.7588      0.4480      
## starter_defense_player_20_coverage_schemes_zone_grades_co...      0.9815      0.3264      
## starter_defense_player_21_run_defense_grades_snap_counts_...     -0.2782      0.7809      
## starter_defense_player_22_coverage_grades_yards_per_recep...     -0.5322      0.5947      
## starter_defense_player_1_defensive_grades_tackles_12w            -0.6936      0.4880      
## starter_defense_player_2_defensive_grades_snap_counts_dl_...      0.8948      0.3709      
## starter_defense_player_3_defensive_grades_grades_run_defe...      1.5907      0.1118     .
## starter_defense_player_4_days_since_injury                        1.1078      0.2680      
## starter_defense_player_9_coverage_grades_qb_rating_agains...      1.5855      0.1129     .
## starter_defense_player_10_defense_coverage_scheme_zone_sn...      0.9559      0.3392      
## starter_defense_player_11_defense_coverage_scheme_man_cov...     -3.4631      0.0005   ***
## starter_defense_player_12_coverage_grades_yards_12w               2.4434      0.0146    **
## starter_defense_player_15_coverage_grades_coverage_percen...      0.3790      0.7047      
## starter_defense_player_16_coverage_grades_grades_tackle_2w       -0.6104      0.5416      
## starter_defense_player_17_coverage_grades_qb_rating_again...     -1.3573      0.1748      
## starter_defense_player_20_coverage_schemes_zone_yards_per...     -0.0948      0.9245      
## starter_defense_player_21_defensive_grades_snap_counts_ru...     -0.2712      0.7862      
## starter_defense_player_22_defensive_grades_longest_12w           -0.0177      0.9859      
## starter_defense_player_1_pass_rushing_productivity_prp_2w         0.3675      0.7133      
## starter_defense_player_2_pass_rush_grades_true_pass_set_p...     -1.0100      0.3126      
## starter_defense_player_3_defensive_grades_grades_tackle_12w       0.8713      0.3837      
## starter_defense_player_4_defensive_grades_grades_tackle_2w        4.1404      0.0000   ***
## starter_defense_player_9_coverage_schemes_zone_coverage_p...     -0.0378      0.9698      
## starter_defense_player_10_defensive_grades_missed_tackle_...      0.4999      0.6172      
## starter_defense_player_11_run_defense_grades_grades_defen...     -1.0531      0.2924      
## starter_defense_player_12_defensive_grades_grades_defense_2w      0.7182      0.4727      
## starter_defense_player_15_coverage_schemes_man_yards_per_...      1.0780      0.2811      
## starter_defense_player_16_defense_coverage_scheme_zone_sn...      1.0286      0.3037      
## starter_defense_player_17_coverage_grades_yards_after_cat...     -0.2040      0.8384      
## starter_defense_player_20_run_defense_grades_stop_percent...      1.6014      0.1094     .
## starter_defense_player_21_defensive_grades_grades_pass_ru...      0.4427      0.6580      
## yardline_1_10                                                    -2.7847      0.0054   ***
## yardline_11_20                                                    0.0563      0.9551      
## yardline_21_30                                                    0.1546      0.8772      
## yardline_41_50                                                    1.4250      0.1543      
## yardline_51_60                                                    0.7538      0.4510      
## yardline_61_70                                                    1.3786      0.1681      
## yardline_71_80                                                    2.0065      0.0449    **
## yardline_81_90                                                    2.3534      0.0187    **
## yardline_91_100                                                   0.9215      0.3569      
## year2017_team_ARI                                                 0.2651      0.7909      
## year2017_team_BUF                                                -0.8064      0.4201      
## year2017_team_CHI                                                 1.2525      0.2105      
## year2017_team_CLE                                                 0.7414      0.4585      
## year2017_team_DAL                                                 0.0283      0.9775      
## year2017_team_DET                                                 0.4161      0.6774      
## year2017_team_GB                                                  2.6503      0.0081   ***
## year2017_team_HOU                                                 1.4637      0.1434     .
## year2017_team_MIA                                                -0.1661      0.8681      
## year2017_team_MIN                                                 0.6903      0.4901      
## year2017_team_NE                                                  0.5056      0.6131      
## year2017_team_SF                                                  2.1033      0.0355    **
## year2017_team_BAL                                                 1.1248      0.2607      
## year2017_team_DEN                                                 0.9407      0.3469      
## year2017_team_LA                                                  0.9542      0.3400      
## year2017_team_NYG                                                 0.3079      0.7582      
## year2017_team_OAK                                                -0.2901      0.7718      
## year2017_team_SEA                                                 1.4424      0.1493     .
## year2017_team_CAR                                                 0.6450      0.5190      
## year2017_team_CIN                                                 1.7793      0.0753     *
## year2017_team_IND                                                 1.2559      0.2092      
## year2017_team_NO                                                  0.6119      0.5406      
## year2017_team_PHI                                                 1.2352      0.2168      
## year2017_team_PIT                                                 0.1805      0.8568      
## year2017_team_TEN                                                 0.6160      0.5380      
## year2017_team_WAS                                                 0.8074      0.4195      
## year2017_team_KC                                                  2.0388      0.0415    **
## year2017_team_LAC                                                 0.8135      0.4160      
## year2017_team_NYJ                                                 0.8379      0.4022      
## year2017_team_TB                                                 -0.1933      0.8467      
## year2017_team_ATL                                                 0.4033      0.6867      
## year2017_team_JAX                                                 0.4830      0.6291      
## year2018_team_ARI                                                 0.6293      0.5292      
## year2018_team_BAL                                                 1.3988      0.1620      
## year2018_team_CAR                                                 0.3838      0.7012      
## year2018_team_CLE                                                 0.2534      0.7999      
## year2018_team_DET                                                 0.6042      0.5457      
## year2018_team_HOU                                                 1.1537      0.2487      
## year2018_team_IND                                                -0.0953      0.9241      
## year2018_team_KC                                                  1.2395      0.2152      
## year2018_team_NYG                                                 0.3156      0.7523      
## year2018_team_OAK                                                -0.0852      0.9321      
## year2018_team_PHI                                                 1.3518      0.1765      
## year2018_team_SEA                                                 0.5134      0.6077      
## year2018_team_BUF                                                -0.1821      0.8555      
## year2018_team_CHI                                                -0.2446      0.8068      
## year2018_team_CIN                                                 0.3902      0.6964      
## year2018_team_DAL                                                -0.2635      0.7922      
## year2018_team_DEN                                                -0.1482      0.8822      
## year2018_team_GB                                                  0.5890      0.5559      
## year2018_team_LAC                                                 0.6258      0.5315      
## year2018_team_NE                                                  0.1421      0.8870      
## year2018_team_NO                                                  1.8073      0.0708     *
## year2018_team_PIT                                                 0.2561      0.7979      
## year2018_team_SF                                                  0.8230      0.4105      
## year2018_team_MIA                                                 1.3281      0.1842      
## year2018_team_MIN                                                 0.4235      0.6720      
## year2018_team_NYJ                                                 0.0605      0.9518      
## year2018_team_TB                                                  0.9637      0.3353      
## year2018_team_ATL                                                 0.5398      0.5893      
## year2018_team_JAX                                                 0.9890      0.3227      
## year2018_team_LA                                                 -0.4075      0.6836      
## year2018_team_TEN                                                 1.6442      0.1002     .
## year2018_team_WAS                                                 0.3397      0.7341      
## year2019_team_ARI                                                -0.3741      0.7083      
## year2019_team_BUF                                                 0.4192      0.6751      
## year2019_team_CHI                                                 0.5616      0.5744      
## year2019_team_CLE                                                 1.3943      0.1633      
## year2019_team_DAL                                                 0.0728      0.9420      
## year2019_team_IND                                                -0.0122      0.9903      
## year2019_team_JAX                                                 0.7328      0.4637      
## year2019_team_KC                                                  1.3334      0.1825      
## year2019_team_LAC                                                -0.3401      0.7338      
## year2019_team_MIN                                                 0.4505      0.6524      
## year2019_team_NE                                                  0.3933      0.6941      
## year2019_team_NO                                                 -0.8160      0.4145      
## year2019_team_PHI                                                 0.9427      0.3459      
## year2019_team_SEA                                                -0.0248      0.9802      
## year2019_team_SF                                                 -0.0576      0.9541      
## year2019_team_TB                                                 -0.7245      0.4688      
## year2019_team_BAL                                                 0.6757      0.4992      
## year2019_team_CAR                                                -0.4451      0.6562      
## year2019_team_DEN                                                 1.1884      0.2347      
## year2019_team_DET                                                -0.4132      0.6795      
## year2019_team_HOU                                                 0.5802      0.5618      
## year2019_team_LA                                                  0.2101      0.8336      
## year2019_team_MIA                                                 0.2276      0.8200      
## year2019_team_NYG                                                -0.1847      0.8535      
## year2019_team_NYJ                                                -1.2212      0.2221      
## year2019_team_OAK                                                 0.0516      0.9589      
## year2019_team_PIT                                                -1.8530      0.0640     *
## year2019_team_TEN                                                -0.3922      0.6950      
## year2019_team_CIN                                                 1.0703      0.2846      
## year2019_team_WAS                                                 0.7408      0.4589      
## year2019_team_ATL                                                -0.0267      0.9787      
## year2019_team_GB                                                 -0.8081      0.4191      
## year2020_team_ATL                                                 0.4703      0.6382      
## year2020_team_BAL                                                 1.5883      0.1123     .
## year2020_team_BUF                                                 1.0223      0.3067      
## year2020_team_CAR                                                 1.5285      0.1265     .
## year2020_team_CIN                                                 1.2360      0.2165      
## year2020_team_DEN                                                 0.4487      0.6537      
## year2020_team_DET                                                -0.1633      0.8703      
## year2020_team_JAX                                                 0.4955      0.6203      
## year2020_team_KC                                                  1.4872      0.1371     .
## year2020_team_LA                                                 -0.5250      0.5996      
## year2020_team_MIN                                                 1.9187      0.0551     *
## year2020_team_NE                                                  0.8197      0.4124      
## year2020_team_NO                                                  0.8572      0.3914      
## year2020_team_NYG                                                 0.8774      0.3803      
## year2020_team_SF                                                  0.1858      0.8526      
## year2020_team_WAS                                                 1.0897      0.2759      
## year2020_team_CHI                                                 1.0819      0.2794      
## year2020_team_DAL                                                 0.7014      0.4831      
## year2020_team_GB                                                  1.3765      0.1688      
## year2020_team_HOU                                                 0.0437      0.9651      
## year2020_team_MIA                                                 0.3913      0.6956      
## year2020_team_NYJ                                                 0.5272      0.5981      
## year2020_team_TB                                                  1.4399      0.1500     .
## year2020_team_TEN                                                 0.7002      0.4838      
## year2020_team_ARI                                                 1.3619      0.1733      
## year2020_team_CLE                                                -0.5659      0.5715      
## year2020_team_IND                                                 0.1581      0.8744      
## year2020_team_LAC                                                 0.3057      0.7599      
## year2020_team_PHI                                                 1.7993      0.0721     *
## year2020_team_SEA                                                 0.5704      0.5684      
## year2020_team_LV                                                 -1.0317      0.3023      
## year2020_team_PIT                                                 0.4670      0.6406      
## year2021_team_ATL                                                 0.5193      0.6036      
## year2021_team_BUF                                                 1.5628      0.1182     .
## year2021_team_CIN                                                -0.7511      0.4526      
## year2021_team_DAL                                                 0.1749      0.8612      
## year2021_team_DEN                                                 1.3981      0.1622      
## year2021_team_DET                                                -0.4155      0.6778      
## year2021_team_KC                                                  0.6618      0.5081      
## year2021_team_LA                                                  0.1132      0.9099      
## year2021_team_LV                                                  1.2681      0.2048      
## year2021_team_MIN                                                -0.1645      0.8694      
## year2021_team_NE                                                  1.1216      0.2621      
## year2021_team_NO                                                 -0.1368      0.8912      
## year2021_team_NYG                                                 1.6185      0.1057     .
## year2021_team_SF                                                  0.5649      0.5722      
## year2021_team_TEN                                                 0.3357      0.7371      
## year2021_team_ARI                                                 1.8775      0.0605     *
## year2021_team_BAL                                                 0.3791      0.7046      
## year2021_team_CAR                                                 1.3983      0.1621      
## year2021_team_CHI                                                -0.4602      0.6454      
## year2021_team_GB                                                  1.5100      0.1311     .
## year2021_team_IND                                                 0.0973      0.9225      
## year2021_team_LAC                                                 0.2997      0.7644      
## year2021_team_MIA                                                 1.1405      0.2541      
## year2021_team_NYJ                                                 0.2350      0.8142      
## year2021_team_PHI                                                 0.3131      0.7543      
## year2021_team_SEA                                                -0.1187      0.9055      
## year2021_team_TB                                                  0.9879      0.3233      
## year2021_team_WAS                                                 1.1476      0.2512      
## year2021_team_CLE                                                -0.0771      0.9385      
## year2021_team_HOU                                                -0.3148      0.7529      
## year2021_team_JAX                                                -0.1614      0.8718      
## year2021_team_PIT                                                 0.2907      0.7713      
## year2022_team_ARI                                                -0.3452      0.7300      
## year2022_team_ATL                                                -1.3917      0.1641      
## year2022_team_CAR                                                 0.4477      0.6544      
## year2022_team_CHI                                                 1.0369      0.2999      
## year2022_team_CIN                                                 0.0500      0.9601      
## year2022_team_HOU                                                 1.1782      0.2388      
## year2022_team_IND                                                 0.1530      0.8784      
## year2022_team_LAC                                                -0.5960      0.5512      
## year2022_team_MIA                                                 0.6978      0.4853      
## year2022_team_SEA                                                -0.4515      0.6516      
## year2022_team_TB                                                 -0.3513      0.7254      
## year2022_team_TEN                                                 1.4031      0.1607      
## year2022_team_WAS                                                 1.3107      0.1900      
## year2022_team_BAL                                                -1.0188      0.3084      
## year2022_team_BUF                                                 1.8086      0.0706     *
## year2022_team_DAL                                                 0.7878      0.4308      
## year2022_team_DET                                                 0.7559      0.4498      
## year2022_team_GB                                                 -1.0065      0.3143      
## year2022_team_JAX                                                 0.3143      0.7533      
## year2022_team_KC                                                 -0.5077      0.6117      
## year2022_team_LA                                                  1.3745      0.1694      
## year2022_team_LV                                                  1.1164      0.2643      
## year2022_team_NO                                                 -0.1066      0.9151      
## year2022_team_PHI                                                 1.5050      0.1324     .
## year2022_team_PIT                                                 1.1818      0.2374      
## year2022_team_DEN                                                 1.3166      0.1881      
## year2022_team_MIN                                                -0.0969      0.9228      
## year2022_team_NE                                                  0.6889      0.4909      
## year2022_team_NYJ                                                -0.5600      0.5755      
## year2022_team_NYG                                                 1.0229      0.3064      
## year2022_team_SF                                                 -0.0073      0.9941      
## year2023_team_BAL                                                 0.4673      0.6403      
## year2023_team_CHI                                                -0.5529      0.5804      
## year2023_team_CLE                                                -0.5058      0.6130      
## year2023_team_GB                                                  0.5058      0.6131      
## year2023_team_IND                                                 1.2248      0.2207      
## year2023_team_KC                                                  0.9935      0.3205      
## year2023_team_LAC                                                 0.3830      0.7018      
## year2023_team_LV                                                  0.2394      0.8108      
## year2023_team_MIA                                                 1.8169      0.0693     *
## year2023_team_MIN                                                 1.7544      0.0794     *
## year2023_team_NO                                                  0.0527      0.9580      
## year2023_team_NYG                                                 2.3234      0.0202    **
## year2023_team_SEA                                                -0.5601      0.5755      
## year2023_team_SF                                                  0.3853      0.7000      
## year2023_team_WAS                                                 1.6792      0.0932     *
## year2023_team_ATL                                                -0.0559      0.9554      
## year2023_team_BUF                                                -0.0308      0.9755      
## year2023_team_CAR                                                 0.8761      0.3810      
## year2023_team_DAL                                                 0.9081      0.3639      
## year2023_team_DEN                                                 0.7769      0.4373      
## year2023_team_HOU                                                 0.2803      0.7793      
## year2023_team_LA                                                  0.6204      0.5350      
## year2023_team_NE                                                  1.0912      0.2753      
## year2023_team_PHI                                                 0.9376      0.3485      
## year2023_team_PIT                                                 0.7699      0.4414      
## year2023_team_TEN                                                -0.0652      0.9480      
## year2023_team_ARI                                                -0.4249      0.6709      
## year2023_team_CIN                                                -0.8515      0.3945      
## year2023_team_DET                                                 1.6422      0.1006     .
## year2023_team_TB                                                  0.8826      0.3775      
## year2023_team_JAX                                                -0.7439      0.4570      
## year2023_team_NYJ                                                 2.1184      0.0342    **
## is_first_half                                                    -0.5287      0.5971      
## time_in_half                                                      1.8550      0.0637     *
## attendance_pct                                                    1.3849      0.1662      
## home_attendance                                                   0.1181      0.9060      
## GIMR                                                              2.0275      0.0427    **</code></pre>
<pre class="r"><code>cat(&quot;\nSignificance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15&quot;)</code></pre>
<pre><code>## 
## Significance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15</code></pre>
<pre class="r"><code># Create a copy of outcome_data without GIMR
outcome_data_no_gimr &lt;- copy(outcome_data)
outcome_data_no_gimr[, GIMR := NULL]
outcome_data_no_gimr[, my_id := NULL]</code></pre>
<pre><code>## Warning in `[.data.table`(outcome_data_no_gimr, , `:=`(my_id, NULL)): Column
## &#39;my_id&#39; does not exist to remove</code></pre>
<pre class="r"><code># Run OLS without GIMR correction
ols_model_no_gimr &lt;- lm(conversion ~ ., data = outcome_data_no_gimr)

# Get HC0-adjusted t-values and p-values
robust_test_no_gimr &lt;- coeftest(ols_model_no_gimr, vcov = vcovHC(ols_model_no_gimr, type = &quot;HC0&quot;))
t_stats_no_gimr &lt;- robust_test_no_gimr[, &quot;t value&quot;]
p_values_no_gimr &lt;- robust_test_no_gimr[, &quot;Pr(&gt;|t|)&quot;]

# Print header with alignment
cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;Variable&quot;, &quot;t-value&quot;, &quot;p-value&quot;, &quot;sig&quot;))</code></pre>
<pre><code>## Variable                                                         t-value     p-value   sig</code></pre>
<pre class="r"><code>cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;---------&quot;, &quot;-------&quot;, &quot;-------&quot;, &quot;----&quot;))</code></pre>
<pre><code>## ---------                                                        -------     -------  ----</code></pre>
<pre class="r"><code># Loop through and print values
for (i in 1:length(t_stats_no_gimr)) {
    var_name &lt;- rownames(robust_test_no_gimr)[i]
    # Truncate name if too long
    if (nchar(var_name) &gt; name_width) {
        var_name &lt;- paste0(substr(var_name, 1, name_width-3), &quot;...&quot;)
    }
    cat(sprintf(&quot;%-*s  %10.4f  %10.4f  %4s\n&quot;, 
                name_width, var_name, 
                t_stats_no_gimr[i], p_values_no_gimr[i],
                get_stars(p_values_no_gimr[i])))
}</code></pre>
<pre><code>## (Intercept)                                                      -1.4589      0.1447     .
## ydstogo                                                         -13.0143      0.0000   ***
## posteam_timeouts_remaining                                        1.1800      0.2381      
## defteam_timeouts_remaining                                        0.9245      0.3553      
## rush_attempt                                                      7.7324      0.0000   ***
## week                                                              1.2058      0.2280      
## temp                                                             -0.1556      0.8764      
## wind                                                              0.4242      0.6715      
## vegas_wp                                                          0.4045      0.6858      
## total_line                                                        1.5271      0.1268     .
## prep_days                                                         1.3750      0.1692      
## overall_win_pct                                                  -0.0114      0.9909      
## team_win_pct                                                      1.9764      0.0482    **
## prev_win_pct                                                     -3.0997      0.0020   ***
## prev_shotgun_rate                                                 0.8327      0.4051      
## prev_singleback_rate                                              0.8095      0.4183      
## prev_empty_rate                                                   1.2846      0.1990      
## prev_iform_rate                                                   0.3485      0.7275      
## prev_shotgun_success                                              0.5943      0.5524      
## prev_singleback_success                                           0.4485      0.6538      
## prev_empty_success                                                1.1902      0.2340      
## prev_iform_success                                                1.8284      0.0676     *
## prev_stop_rate_run                                                0.6117      0.5408      
## prev_stop_rate_pass                                              -3.8243      0.0001   ***
## shotgun_rate                                                      0.7816      0.4345      
## singleback_rate                                                   0.3031      0.7619      
## empty_rate                                                        1.1770      0.2393      
## iform_rate                                                       -2.0228      0.0432    **
## shotgun_success                                                  -1.8581      0.0632     *
## singleback_success                                               -1.5065      0.1320     .
## empty_success                                                    -2.1358      0.0328    **
## iform_success                                                    -2.5105      0.0121    **
## def_stop_rate_run                                                 1.7905      0.0735     *
## def_stop_rate_pass                                               -0.8585      0.3907      
## avg_pass_rushers                                                  0.4461      0.6555      
## avg_box_defenders                                                -0.8524      0.3941      
## cover0_rate                                                      -1.2662      0.2055      
## cover1_rate                                                       0.3336      0.7387      
## cover2_rate                                                      -0.1490      0.8815      
## cover3_rate                                                       1.5495      0.1213     .
## cover4_rate                                                       1.6403      0.1010     .
## cover6_rate                                                       0.0356      0.9716      
## two_man_rate                                                      0.5709      0.5681      
## prevent_rate                                                      2.3581      0.0184    **
## attendance_raw                                                   -1.4382      0.1505      
## roof_outdoors                                                     0.4743      0.6353      
## posteam_type_home                                                -2.4567      0.0141    **
## offense_formation_EMPTY                                           0.8924      0.3723      
## offense_formation_SHOTGUN                                         0.4641      0.6426      
## offense_formation_SINGLEBACK                                      0.0421      0.9664      
## offense_formation_I_FORM                                         -0.3039      0.7612      
## offense_player_1_present                                          2.9806      0.0029   ***
## offense_player_2_present                                         -1.1872      0.2352      
## offense_player_4_present                                          0.5442      0.5863      
## offense_player_5_present                                          0.2140      0.8305      
## offense_player_6_present                                         -0.9746      0.3298      
## offense_player_8_present                                         -1.5704      0.1164     .
## offense_player_9_present                                         -0.5859      0.5580      
## offense_player_10_present                                        -0.0105      0.9917      
## offense_player_11_present                                        -0.3654      0.7149      
## offense_player_12_present                                         2.5174      0.0119    **
## offense_player_14_present                                        -0.6322      0.5273      
## offense_player_15_present                                        -1.2357      0.2167      
## offense_player_16_present                                        -0.3532      0.7239      
## offense_player_17_present                                         0.1737      0.8621      
## offense_player_20_present                                        -0.1398      0.8889      
## offense_player_22_present                                        -0.6353      0.5253      
## offense_player_23_present                                         1.6393      0.1012     .
## offense_player_24_present                                        -4.4740      0.0000   ***
## offense_player_1_passing_concept_no_screen_grades_pass_12w        0.1752      0.8610      
## offense_player_4_rushing_grades_yards_2w                          0.5777      0.5635      
## offense_player_8_receiving_grades_pass_plays_12w                 -1.9117      0.0560     *
## offense_player_14_blocking_grades_pass_block_percent_2w           1.1213      0.2622      
## offense_player_15_blocking_grades_block_percent_2w               -0.0280      0.9777      
## offense_player_17_pass_blocking_non_spike_pass_block_12w          0.2172      0.8281      
## offense_player_18_pass_blocking_snap_counts_pass_play_12w         0.5911      0.5545      
## offense_player_19_blocking_grades_grades_pass_block_2w            0.8866      0.3753      
## offense_player_20_blocking_grades_snap_counts_pass_play_12w      -0.9880      0.3232      
## offense_player_21_run_blocking_gap_snap_counts_run_block_...      2.7983      0.0052   ***
## offense_player_1_passing_concept_no_screen_yards_12w             -1.5845      0.1132     .
## offense_player_4_rushing_grades_designed_yards_12w                1.4302      0.1528      
## offense_player_8_receiving_depth_short_longest_12w               -0.1064      0.9153      
## offense_player_10_blocking_grades_snap_counts_pass_play_12w       0.2897      0.7721      
## offense_player_14_run_blocking_snap_counts_run_block_12w          1.1180      0.2636      
## offense_player_15_blocking_grades_snap_counts_block_2w            1.6374      0.1016     .
## offense_player_17_blocking_grades_snap_counts_pass_play_12w       0.8406      0.4006      
## offense_player_18_blocking_grades_snap_counts_pass_play_12w      -0.2911      0.7710      
## offense_player_19_blocking_grades_grades_offense_12w             -0.3076      0.7584      
## offense_player_20_pass_blocking_true_pass_set_non_spike_p...      1.9475      0.0516     *
## offense_player_21_run_blocking_snap_counts_run_play_12w          -2.3809      0.0173    **
## offense_player_1_passing_concept_pa_qb_rating_12w                 1.0788      0.2808      
## offense_player_4_rushing_grades_elu_yco_12w                      -1.2648      0.2060      
## offense_player_8_blocking_grades_snap_counts_pass_play_12w        2.0686      0.0387    **
## offense_player_10_receiving_concept_base_targets_12w              0.0920      0.9267      
## offense_player_14_blocking_grades_grades_pass_block_2w            1.1812      0.2376      
## offense_player_15_blocking_grades_block_percent_12w               0.4946      0.6209      
## offense_player_17_pass_blocking_snap_counts_pass_block_12w       -0.5769      0.5640      
## offense_player_18_blocking_grades_non_spike_pass_block_12w        0.1127      0.9103      
## offense_player_19_pass_blocking_pbe_12w                          -1.7887      0.0737     *
## offense_player_20_blocking_grades_snap_counts_pass_block_2w       0.4051      0.6854      
## offense_player_21_special_teams_grades_grades_special_tea...      0.2818      0.7781      
## defense_player_1_present                                         -0.9736      0.3303      
## defense_player_2_present                                          3.2878      0.0010   ***
## defense_player_3_present                                          0.2929      0.7696      
## defense_player_4_present                                         -1.4384      0.1504      
## defense_player_5_present                                         -0.4361      0.6628      
## defense_player_6_present                                         -1.5174      0.1293     .
## defense_player_9_present                                          0.4033      0.6868      
## defense_player_10_present                                        -1.2221      0.2218      
## defense_player_11_present                                        -0.4726      0.6365      
## defense_player_12_present                                        -0.2237      0.8230      
## defense_player_13_present                                         1.8448      0.0652     *
## defense_player_14_present                                         0.3135      0.7539      
## defense_player_15_present                                         0.5770      0.5640      
## defense_player_16_present                                         1.5960      0.1106     .
## defense_player_17_present                                         0.8230      0.4105      
## defense_player_18_present                                         1.6987      0.0895     *
## defense_player_19_present                                         0.5033      0.6148      
## defense_player_20_present                                        -1.1135      0.2656      
## defense_player_21_present                                         0.7541      0.4508      
## defense_player_22_present                                         2.9228      0.0035   ***
## defense_player_23_present                                         1.9033      0.0571     *
## defense_player_1_pass_rush_grades_pass_rush_opp_12w              -1.2757      0.2022      
## defense_player_2_defensive_grades_snap_counts_run_defense_2w      0.0842      0.9329      
## defense_player_3_defensive_grades_snap_counts_run_defense...     -0.5557      0.5784      
## defense_player_4_defensive_grades_snap_counts_run_defense...      0.5840      0.5592      
## defense_player_9_defensive_grades_grades_defense_penalty_12w      0.2626      0.7929      
## defense_player_10_run_defense_grades_grades_defense_penal...      0.4374      0.6618      
## defense_player_11_coverage_grades_coverage_percent_12w            0.8333      0.4047      
## defense_player_12_pass_rush_grades_true_pass_set_snap_cou...     -0.4230      0.6724      
## defense_player_15_coverage_schemes_man_qb_rating_against_12w      1.1533      0.2489      
## defense_player_16_coverage_grades_grades_defense_12w              0.2501      0.8025      
## defense_player_17_coverage_schemes_man_snap_counts_covera...     -0.8995      0.3684      
## defense_player_20_defense_coverage_scheme_man_catch_rate_3y       2.5108      0.0121    **
## defense_player_21_defensive_grades_grades_tackle_12w             -2.7987      0.0052   ***
## defense_player_22_coverage_grades_longest_12w                    -2.3415      0.0193    **
## defense_player_1_defensive_grades_snap_counts_dl_over_t_12w      -0.8882      0.3745      
## defense_player_2_run_defense_grades_grades_pass_rush_defe...     -2.5817      0.0099   ***
## defense_player_3_run_defense_grades_snap_counts_run_12w           0.3748      0.7078      
## defense_player_4_pass_rushing_productivity_pass_snaps_12w        -1.5639      0.1179     .
## defense_player_9_coverage_grades_avg_depth_of_target_2w          -1.5849      0.1131     .
## defense_player_10_coverage_schemes_zone_coverage_percent_12w      1.4105      0.1585      
## defense_player_11_pass_rushing_productivity_prp_12w              -0.8992      0.3686      
## defense_player_12_run_defense_grades_avg_depth_of_tackle_12w      2.6948      0.0071   ***
## defense_player_15_run_defense_grades_grades_defense_12w           0.9655      0.3343      
## defense_player_16_run_defense_grades_grades_defense_12w          -0.0474      0.9622      
## defense_player_17_coverage_schemes_man_snap_counts_pass_p...     -0.5427      0.5874      
## defense_player_20_coverage_schemes_zone_snap_counts_cover...      0.4839      0.6285      
## defense_player_21_coverage_grades_grades_defense_penalty_2w      -1.3915      0.1642      
## defense_player_22_coverage_schemes_man_qb_rating_against_12w     -2.2502      0.0245    **
## defense_player_1_pass_rush_grades_true_pass_set_total_pre...      1.0538      0.2921      
## defense_player_2_pass_rush_grades_snap_counts_pass_play_12w       0.8402      0.4008      
## defense_player_3_run_defense_grades_run_stop_opp_12w             -0.0128      0.9898      
## defense_player_4_run_defense_grades_grades_defense_penalt...      1.2371      0.2161      
## defense_player_9_coverage_grades_coverage_snaps_per_recep...      1.4252      0.1542      
## defense_player_10_pass_rushing_productivity_pass_rush_per...      0.3421      0.7323      
## defense_player_11_run_defense_grades_snap_counts_run_2w           0.8086      0.4188      
## defense_player_12_special_teams_grades_grades_misc_st_12w        -0.2339      0.8151      
## defense_player_15_coverage_grades_grades_defense_12w             -1.4808      0.1387     .
## defense_player_16_defensive_grades_grades_defense_12w            -0.7657      0.4439      
## defense_player_17_coverage_grades_snap_counts_pass_play_12w       0.5371      0.5912      
## defense_player_20_defensive_grades_grades_defense_penalty...      0.3528      0.7243      
## defense_player_21_coverage_grades_grades_run_defense_12w          2.2162      0.0267    **
## defense_player_22_defensive_grades_grades_defense_12w            -1.8553      0.0636     *
## starter_offense_1                                                -0.3882      0.6979      
## starter_defense_1                                                 0.5316      0.5951      
## starter_offense_2                                                -2.2927      0.0219    **
## starter_defense_2                                                -0.6893      0.4907      
## starter_defense_3                                                -0.5064      0.6126      
## starter_offense_4                                                 3.2873      0.0010   ***
## starter_defense_4                                                -1.9940      0.0462    **
## starter_offense_5                                                 0.0941      0.9251      
## starter_defense_5                                                -2.0440      0.0410    **
## starter_offense_6                                                -1.4007      0.1614      
## starter_defense_6                                                -0.0441      0.9648      
## starter_offense_7                                                -0.0842      0.9329      
## starter_defense_7                                                -0.4190      0.6753      
## starter_offense_8                                                 0.5845      0.5590      
## starter_defense_8                                                -0.6885      0.4912      
## starter_offense_9                                                 0.6493      0.5162      
## starter_defense_9                                                 1.3022      0.1929      
## starter_offense_10                                                1.2597      0.2079      
## starter_defense_10                                               -0.1402      0.8885      
## starter_offense_11                                                0.2613      0.7939      
## starter_defense_11                                               -0.6171      0.5372      
## starter_offense_12                                                2.1865      0.0288    **
## starter_defense_12                                               -0.0840      0.9331      
## starter_offense_13                                                1.9176      0.0552     *
## starter_defense_13                                                0.5279      0.5976      
## starter_offense_14                                               -0.3341      0.7383      
## starter_defense_14                                               -0.4603      0.6453      
## starter_offense_15                                               -0.2806      0.7790      
## starter_defense_15                                                0.8327      0.4050      
## starter_offense_16                                               -0.7515      0.4524      
## starter_defense_16                                                0.4693      0.6389      
## starter_offense_17                                                2.1342      0.0329    **
## starter_defense_17                                                0.0923      0.9264      
## starter_offense_18                                                1.7887      0.0738     *
## starter_defense_18                                               -1.4589      0.1447     .
## starter_offense_19                                               -0.3707      0.7109      
## starter_defense_19                                               -0.0911      0.9274      
## starter_offense_20                                                1.2219      0.2218      
## starter_defense_20                                               -2.9514      0.0032   ***
## starter_offense_21                                                0.2200      0.8259      
## starter_defense_21                                               -1.3309      0.1833      
## starter_offense_22                                               -1.0467      0.2953      
## starter_defense_22                                               -0.8713      0.3836      
## starter_offense_23                                               -0.2980      0.7657      
## starter_defense_23                                               -0.4324      0.6655      
## starter_offense_24                                                0.3133      0.7541      
## starter_offense_player_1_present                                  1.1189      0.2633      
## starter_offense_player_2_present                                 -0.1108      0.9118      
## starter_offense_player_3_present                                 -0.1099      0.9125      
## starter_offense_player_5_present                                  2.8574      0.0043   ***
## starter_offense_player_6_present                                  0.1504      0.8805      
## starter_offense_player_7_present                                  0.8167      0.4142      
## starter_offense_player_11_present                                 0.6082      0.5431      
## starter_offense_player_12_present                                 0.8415      0.4001      
## starter_offense_player_13_present                                -2.0753      0.0380    **
## starter_offense_player_15_present                                -0.2815      0.7784      
## starter_offense_player_16_present                                -0.3737      0.7086      
## starter_offense_player_22_present                                -1.8328      0.0669     *
## starter_offense_player_23_present                                -0.1746      0.8614      
## starter_offense_player_24_present                                -1.3219      0.1863      
## starter_defense_player_4_present                                 -1.3194      0.1871      
## starter_defense_player_5_present                                 -0.0168      0.9866      
## starter_defense_player_6_present                                 -2.2844      0.0224    **
## starter_defense_player_7_present                                 -0.1494      0.8813      
## starter_defense_player_8_present                                  1.3787      0.1681      
## starter_defense_player_14_present                                -1.3376      0.1811      
## starter_defense_player_16_present                                -1.3646      0.1725      
## starter_defense_player_17_present                                 0.7249      0.4686      
## starter_defense_player_18_present                                 0.4698      0.6386      
## starter_defense_player_19_present                                 0.2832      0.7770      
## starter_defense_player_21_present                                 2.2911      0.0220    **
## starter_defense_player_22_present                                 0.4222      0.6729      
## starter_defense_player_23_present                                 1.0861      0.2775      
## starter_offense_player_1_passing_pressure_no_blitz_comple...      1.7169      0.0861     *
## starter_offense_player_4_receiving_vs_scheme_zone_route_r...     -1.6477      0.0995     *
## starter_offense_player_8_receiving_depth_short_yards_afte...      0.2313      0.8171      
## starter_offense_player_9_receiving_depth_center_deep_avg_...      3.9420      0.0001   ***
## starter_offense_player_10_receiving_depth_left_medium_yar...      1.2546      0.2097      
## starter_offense_player_14_receiving_vs_scheme_man_targets...      1.5973      0.1103     .
## starter_offense_player_15_receiving_concept_slot_yards_12w       -1.7123      0.0869     *
## starter_offense_player_17_run_blocking_grades_run_block_2w        2.6592      0.0079   ***
## starter_offense_player_18_blocking_grades_non_spike_pass_...     -0.0904      0.9279      
## starter_offense_player_19_blocking_grades_grades_pass_blo...     -2.1262      0.0336    **
## starter_offense_player_20_blocking_grades_grades_pass_blo...      1.0864      0.2774      
## starter_offense_player_21_offense_blocking_snap_counts_ru...      2.3472      0.0190    **
## starter_offense_player_1_passing_depth_right_short_yards_12w      0.1498      0.8809      
## starter_offense_player_4_receiving_depth_short_grades_pas...     -0.3302      0.7413      
## starter_offense_player_8_receiving_depth_left_short_targe...     -1.7197      0.0856     *
## starter_offense_player_9_receiving_grades_contested_catch...      1.7127      0.0869     *
## starter_offense_player_10_receiving_vs_scheme_man_route_r...      0.3757      0.7072      
## starter_offense_player_14_blocking_grades_snap_counts_off...     -1.4309      0.1525      
## starter_offense_player_15_receiving_depth_right_short_pas...     -0.2958      0.7674      
## starter_offense_player_18_blocking_grades_snap_counts_pas...      0.1785      0.8583      
## starter_offense_player_20_blocking_grades_grades_offense_2w      -0.3142      0.7534      
## starter_offense_player_21_offense_blocking_snap_counts_of...     -2.2364      0.0254    **
## starter_offense_player_1_time_in_pocket_less_completions_12w     -0.2797      0.7797      
## starter_offense_player_4_receiving_depth_center_medium_pa...     -3.1862      0.0015   ***
## starter_offense_player_8_receiving_depth_left_short_targe...      2.9852      0.0029   ***
## starter_offense_player_9_receiving_depth_deep_contested_r...      0.5581      0.5768      
## starter_offense_player_10_run_blocking_zone_grades_run_bl...      1.3789      0.1680      
## starter_offense_player_14_receiving_depth_medium_yards_12w       -0.2982      0.7655      
## starter_offense_player_15_receiving_grades_grades_offense...      0.0470      0.9625      
## starter_offense_player_17_blocking_grades_snap_counts_run...     -0.3311      0.7406      
## starter_offense_player_18_blocking_grades_pbe_12w                -1.4870      0.1371     .
## starter_offense_player_19_blocking_grades_snap_counts_run...      0.3303      0.7412      
## starter_offense_player_20_blocking_grades_grades_run_bloc...     -0.3946      0.6932      
## starter_offense_player_21_pass_blocking_non_spike_pass_bl...      0.2443      0.8070      
## starter_defense_player_1_defensive_grades_grades_defense_2w      -2.0513      0.0403    **
## starter_defense_player_2_defensive_grades_grades_defense_2w       0.1148      0.9086      
## starter_defense_player_3_defensive_grades_missed_tackles_12w     -0.5993      0.5490      
## starter_defense_player_4_defensive_grades_grades_run_defe...     -1.3035      0.1925      
## starter_defense_player_9_defensive_grades_snap_counts_dl_...      1.1593      0.2464      
## starter_defense_player_10_defense_coverage_scheme_zone_sn...     -0.1879      0.8509      
## starter_defense_player_11_run_defense_grades_grades_run_d...     -0.5804      0.5617      
## starter_defense_player_12_coverage_grades_grades_run_defe...     -0.1306      0.8961      
## starter_defense_player_15_coverage_schemes_zone_coverage_...     -1.4186      0.1561      
## starter_defense_player_16_defensive_grades_grades_defense_2w      0.1689      0.8659      
## starter_defense_player_17_coverage_schemes_zone_yards_12w        -0.6976      0.4855      
## starter_defense_player_20_coverage_schemes_zone_grades_co...      0.9937      0.3204      
## starter_defense_player_21_run_defense_grades_snap_counts_...     -0.2730      0.7849      
## starter_defense_player_22_coverage_grades_yards_per_recep...     -0.5303      0.5959      
## starter_defense_player_1_defensive_grades_tackles_12w            -0.6537      0.5133      
## starter_defense_player_2_defensive_grades_snap_counts_dl_...      0.9512      0.3416      
## starter_defense_player_3_defensive_grades_grades_run_defe...      1.6068      0.1082     .
## starter_defense_player_4_days_since_injury                        1.0621      0.2883      
## starter_defense_player_9_coverage_grades_qb_rating_agains...      1.5722      0.1160     .
## starter_defense_player_10_defense_coverage_scheme_zone_sn...      0.9754      0.3294      
## starter_defense_player_11_defense_coverage_scheme_man_cov...     -3.4222      0.0006   ***
## starter_defense_player_12_coverage_grades_yards_12w               2.4112      0.0160    **
## starter_defense_player_15_coverage_grades_coverage_percen...      0.4238      0.6717      
## starter_defense_player_16_coverage_grades_grades_tackle_2w       -0.6122      0.5404      
## starter_defense_player_17_coverage_grades_qb_rating_again...     -1.3129      0.1893      
## starter_defense_player_20_coverage_schemes_zone_yards_per...     -0.0979      0.9220      
## starter_defense_player_21_defensive_grades_snap_counts_ru...     -0.2728      0.7850      
## starter_defense_player_22_defensive_grades_longest_12w            0.0145      0.9885      
## starter_defense_player_1_pass_rushing_productivity_prp_2w         0.3668      0.7138      
## starter_defense_player_2_pass_rush_grades_true_pass_set_p...     -1.0591      0.2896      
## starter_defense_player_3_defensive_grades_grades_tackle_12w       0.8472      0.3969      
## starter_defense_player_4_defensive_grades_grades_tackle_2w        4.1238      0.0000   ***
## starter_defense_player_9_coverage_schemes_zone_coverage_p...     -0.0421      0.9665      
## starter_defense_player_10_defensive_grades_missed_tackle_...      0.4707      0.6379      
## starter_defense_player_11_run_defense_grades_grades_defen...     -1.0029      0.3160      
## starter_defense_player_12_defensive_grades_grades_defense_2w      0.7224      0.4701      
## starter_defense_player_15_coverage_schemes_man_yards_per_...      1.0799      0.2803      
## starter_defense_player_16_defense_coverage_scheme_zone_sn...      1.0330      0.3017      
## starter_defense_player_17_coverage_grades_yards_after_cat...     -0.2248      0.8222      
## starter_defense_player_20_run_defense_grades_stop_percent...      1.6243      0.1044     .
## starter_defense_player_21_defensive_grades_grades_pass_ru...      0.4766      0.6336      
## yardline_1_10                                                    -2.8876      0.0039   ***
## yardline_11_20                                                   -0.2767      0.7820      
## yardline_21_30                                                   -0.2265      0.8208      
## yardline_41_50                                                    1.4148      0.1572      
## yardline_51_60                                                    0.4227      0.6725      
## yardline_61_70                                                    0.8850      0.3762      
## yardline_71_80                                                    1.6955      0.0901     *
## yardline_81_90                                                    2.1527      0.0314    **
## yardline_91_100                                                   0.9265      0.3542      
## year2017_team_ARI                                                 0.2412      0.8095      
## year2017_team_BUF                                                -0.8305      0.4063      
## year2017_team_CHI                                                 1.2894      0.1973      
## year2017_team_CLE                                                 0.8088      0.4187      
## year2017_team_DAL                                                 0.0055      0.9956      
## year2017_team_DET                                                 0.4055      0.6851      
## year2017_team_GB                                                  2.6924      0.0071   ***
## year2017_team_HOU                                                 1.4657      0.1428     .
## year2017_team_MIA                                                -0.1582      0.8743      
## year2017_team_MIN                                                 0.7247      0.4687      
## year2017_team_NE                                                  0.5232      0.6009      
## year2017_team_SF                                                  2.1190      0.0342    **
## year2017_team_BAL                                                 1.1381      0.2552      
## year2017_team_DEN                                                 0.9512      0.3416      
## year2017_team_LA                                                  0.9676      0.3333      
## year2017_team_NYG                                                 0.2947      0.7682      
## year2017_team_OAK                                                -0.2899      0.7719      
## year2017_team_SEA                                                 1.4812      0.1387     .
## year2017_team_CAR                                                 0.6346      0.5258      
## year2017_team_CIN                                                 1.7758      0.0758     *
## year2017_team_IND                                                 1.2252      0.2206      
## year2017_team_NO                                                  0.6265      0.5310      
## year2017_team_PHI                                                 1.2418      0.2144      
## year2017_team_PIT                                                 0.1824      0.8553      
## year2017_team_TEN                                                 0.6422      0.5208      
## year2017_team_WAS                                                 0.8143      0.4156      
## year2017_team_KC                                                  2.0122      0.0443    **
## year2017_team_LAC                                                 0.8266      0.4085      
## year2017_team_NYJ                                                 0.8508      0.3949      
## year2017_team_TB                                                 -0.2156      0.8293      
## year2017_team_ATL                                                 0.3848      0.7004      
## year2017_team_JAX                                                 0.5196      0.6034      
## year2018_team_ARI                                                 0.6436      0.5199      
## year2018_team_BAL                                                 1.3634      0.1729      
## year2018_team_CAR                                                 0.3910      0.6959      
## year2018_team_CLE                                                 0.2450      0.8064      
## year2018_team_DET                                                 0.6083      0.5430      
## year2018_team_HOU                                                 1.1209      0.2624      
## year2018_team_IND                                                -0.1095      0.9128      
## year2018_team_KC                                                  1.2517      0.2108      
## year2018_team_NYG                                                 0.3191      0.7497      
## year2018_team_OAK                                                -0.0976      0.9223      
## year2018_team_PHI                                                 1.3585      0.1744      
## year2018_team_SEA                                                 0.5031      0.6149      
## year2018_team_BUF                                                -0.2211      0.8251      
## year2018_team_CHI                                                -0.2652      0.7909      
## year2018_team_CIN                                                 0.3465      0.7290      
## year2018_team_DAL                                                -0.2639      0.7919      
## year2018_team_DEN                                                -0.1329      0.8943      
## year2018_team_GB                                                  0.5977      0.5501      
## year2018_team_LAC                                                 0.6716      0.5019      
## year2018_team_NE                                                  0.1741      0.8618      
## year2018_team_NO                                                  1.8280      0.0676     *
## year2018_team_PIT                                                 0.2467      0.8051      
## year2018_team_SF                                                  0.7906      0.4292      
## year2018_team_MIA                                                 1.3605      0.1738      
## year2018_team_MIN                                                 0.4175      0.6763      
## year2018_team_NYJ                                                 0.0710      0.9434      
## year2018_team_TB                                                  0.9685      0.3329      
## year2018_team_ATL                                                 0.5869      0.5573      
## year2018_team_JAX                                                 1.0096      0.3128      
## year2018_team_LA                                                 -0.4285      0.6683      
## year2018_team_TEN                                                 1.6861      0.0919     *
## year2018_team_WAS                                                 0.3525      0.7245      
## year2019_team_ARI                                                -0.3958      0.6923      
## year2019_team_BUF                                                 0.4243      0.6714      
## year2019_team_CHI                                                 0.5278      0.5976      
## year2019_team_CLE                                                 1.3882      0.1652      
## year2019_team_DAL                                                 0.0438      0.9650      
## year2019_team_IND                                                -0.0359      0.9713      
## year2019_team_JAX                                                 0.7263      0.4677      
## year2019_team_KC                                                  1.2990      0.1940      
## year2019_team_LAC                                                -0.3154      0.7525      
## year2019_team_MIN                                                 0.4178      0.6761      
## year2019_team_NE                                                  0.3980      0.6907      
## year2019_team_NO                                                 -0.7981      0.4248      
## year2019_team_PHI                                                 0.9381      0.3483      
## year2019_team_SEA                                                -0.0279      0.9778      
## year2019_team_SF                                                 -0.0576      0.9541      
## year2019_team_TB                                                 -0.7051      0.4808      
## year2019_team_BAL                                                 0.6835      0.4944      
## year2019_team_CAR                                                -0.4246      0.6712      
## year2019_team_DEN                                                 1.2151      0.2244      
## year2019_team_DET                                                -0.4146      0.6785      
## year2019_team_HOU                                                 0.5787      0.5628      
## year2019_team_LA                                                  0.1621      0.8712      
## year2019_team_MIA                                                 0.2239      0.8228      
## year2019_team_NYG                                                -0.1699      0.8651      
## year2019_team_NYJ                                                -1.1706      0.2418      
## year2019_team_OAK                                                 0.0134      0.9893      
## year2019_team_PIT                                                -1.7865      0.0741     *
## year2019_team_TEN                                                -0.3726      0.7094      
## year2019_team_CIN                                                 1.0768      0.2816      
## year2019_team_WAS                                                 0.7394      0.4597      
## year2019_team_ATL                                                -0.0338      0.9730      
## year2019_team_GB                                                 -0.7904      0.4294      
## year2020_team_ATL                                                 0.4937      0.6215      
## year2020_team_BAL                                                 1.6347      0.1022     .
## year2020_team_BUF                                                 1.0849      0.2781      
## year2020_team_CAR                                                 1.5764      0.1150     .
## year2020_team_CIN                                                 1.2551      0.2095      
## year2020_team_DEN                                                 0.4786      0.6322      
## year2020_team_DET                                                -0.1269      0.8991      
## year2020_team_JAX                                                 0.5215      0.6020      
## year2020_team_KC                                                  1.5316      0.1257     .
## year2020_team_LA                                                 -0.5304      0.5959      
## year2020_team_MIN                                                 1.9426      0.0521     *
## year2020_team_NE                                                  0.8600      0.3899      
## year2020_team_NO                                                  0.8893      0.3739      
## year2020_team_NYG                                                 0.9315      0.3517      
## year2020_team_SF                                                  0.1620      0.8713      
## year2020_team_WAS                                                 1.0928      0.2745      
## year2020_team_CHI                                                 1.1011      0.2709      
## year2020_team_DAL                                                 0.7475      0.4548      
## year2020_team_GB                                                  1.4028      0.1608      
## year2020_team_HOU                                                 0.0984      0.9216      
## year2020_team_MIA                                                 0.3969      0.6915      
## year2020_team_NYJ                                                 0.5634      0.5732      
## year2020_team_TB                                                  1.4718      0.1412     .
## year2020_team_TEN                                                 0.6846      0.4936      
## year2020_team_ARI                                                 1.4284      0.1533      
## year2020_team_CLE                                                -0.5206      0.6027      
## year2020_team_IND                                                 0.2094      0.8341      
## year2020_team_LAC                                                 0.3055      0.7600      
## year2020_team_PHI                                                 1.8241      0.0682     *
## year2020_team_SEA                                                 0.5624      0.5739      
## year2020_team_LV                                                 -1.0472      0.2951      
## year2020_team_PIT                                                 0.4687      0.6393      
## year2021_team_ATL                                                 0.5322      0.5946      
## year2021_team_BUF                                                 1.5341      0.1251     .
## year2021_team_CIN                                                -0.7371      0.4611      
## year2021_team_DAL                                                 0.1535      0.8780      
## year2021_team_DEN                                                 1.3830      0.1668      
## year2021_team_DET                                                -0.4077      0.6835      
## year2021_team_KC                                                  0.6893      0.4907      
## year2021_team_LA                                                  0.0987      0.9213      
## year2021_team_LV                                                  1.2389      0.2155      
## year2021_team_MIN                                                -0.2054      0.8372      
## year2021_team_NE                                                  1.1738      0.2406      
## year2021_team_NO                                                 -0.1302      0.8964      
## year2021_team_NYG                                                 1.6440      0.1003     .
## year2021_team_SF                                                  0.5446      0.5861      
## year2021_team_TEN                                                 0.3447      0.7304      
## year2021_team_ARI                                                 1.8898      0.0589     *
## year2021_team_BAL                                                 0.3722      0.7097      
## year2021_team_CAR                                                 1.4220      0.1551      
## year2021_team_CHI                                                -0.4567      0.6479      
## year2021_team_GB                                                  1.4782      0.1394     .
## year2021_team_IND                                                 0.0761      0.9394      
## year2021_team_LAC                                                 0.2471      0.8049      
## year2021_team_MIA                                                 1.1055      0.2690      
## year2021_team_NYJ                                                 0.2610      0.7941      
## year2021_team_PHI                                                 0.3451      0.7301      
## year2021_team_SEA                                                -0.1141      0.9091      
## year2021_team_TB                                                  0.9593      0.3375      
## year2021_team_WAS                                                 1.1716      0.2414      
## year2021_team_CLE                                                -0.1107      0.9118      
## year2021_team_HOU                                                -0.3205      0.7486      
## year2021_team_JAX                                                -0.1705      0.8646      
## year2021_team_PIT                                                 0.2770      0.7818      
## year2022_team_ARI                                                -0.3556      0.7222      
## year2022_team_ATL                                                -1.3795      0.1678      
## year2022_team_CAR                                                 0.4373      0.6619      
## year2022_team_CHI                                                 1.0344      0.3010      
## year2022_team_CIN                                                 0.0595      0.9526      
## year2022_team_HOU                                                 1.1839      0.2365      
## year2022_team_IND                                                 0.1552      0.8766      
## year2022_team_LAC                                                -0.6437      0.5198      
## year2022_team_MIA                                                 0.7021      0.4826      
## year2022_team_SEA                                                -0.4787      0.6322      
## year2022_team_TB                                                 -0.3698      0.7116      
## year2022_team_TEN                                                 1.3658      0.1721      
## year2022_team_WAS                                                 1.2997      0.1938      
## year2022_team_BAL                                                -1.0418      0.2976      
## year2022_team_BUF                                                 1.7719      0.0765     *
## year2022_team_DAL                                                 0.7673      0.4430      
## year2022_team_DET                                                 0.7419      0.4582      
## year2022_team_GB                                                 -1.0255      0.3052      
## year2022_team_JAX                                                 0.3125      0.7547      
## year2022_team_KC                                                 -0.5375      0.5910      
## year2022_team_LA                                                  1.2698      0.2042      
## year2022_team_LV                                                  1.0830      0.2789      
## year2022_team_NO                                                 -0.1203      0.9043      
## year2022_team_PHI                                                 1.4878      0.1369     .
## year2022_team_PIT                                                 1.1314      0.2580      
## year2022_team_DEN                                                 1.3291      0.1839      
## year2022_team_MIN                                                -0.1275      0.8985      
## year2022_team_NE                                                  0.7106      0.4774      
## year2022_team_NYJ                                                -0.6020      0.5472      
## year2022_team_NYG                                                 1.0499      0.2938      
## year2022_team_SF                                                  0.0151      0.9879      
## year2023_team_BAL                                                 0.4647      0.6422      
## year2023_team_CHI                                                -0.6014      0.5476      
## year2023_team_CLE                                                -0.5382      0.5905      
## year2023_team_GB                                                  0.4708      0.6378      
## year2023_team_IND                                                 1.1575      0.2471      
## year2023_team_KC                                                  0.9410      0.3468      
## year2023_team_LAC                                                 0.3433      0.7314      
## year2023_team_LV                                                  0.2046      0.8379      
## year2023_team_MIA                                                 1.7805      0.0751     *
## year2023_team_MIN                                                 1.7436      0.0813     *
## year2023_team_NO                                                  0.0135      0.9892      
## year2023_team_NYG                                                 2.3366      0.0195    **
## year2023_team_SEA                                                -0.5566      0.5778      
## year2023_team_SF                                                  0.3599      0.7190      
## year2023_team_WAS                                                 1.7051      0.0883     *
## year2023_team_ATL                                                -0.0629      0.9498      
## year2023_team_BUF                                                -0.0305      0.9757      
## year2023_team_CAR                                                 0.8592      0.3903      
## year2023_team_DAL                                                 0.8933      0.3718      
## year2023_team_DEN                                                 0.7452      0.4562      
## year2023_team_HOU                                                 0.2359      0.8135      
## year2023_team_LA                                                  0.6269      0.5308      
## year2023_team_NE                                                  1.0834      0.2787      
## year2023_team_PHI                                                 0.9150      0.3603      
## year2023_team_PIT                                                 0.7724      0.4399      
## year2023_team_TEN                                                -0.1065      0.9152      
## year2023_team_ARI                                                -0.4153      0.6779      
## year2023_team_CIN                                                -0.8512      0.3947      
## year2023_team_DET                                                 1.6388      0.1013     .
## year2023_team_TB                                                  0.8684      0.3853      
## year2023_team_JAX                                                -0.7742      0.4388      
## year2023_team_NYJ                                                 2.1074      0.0352    **
## is_first_half                                                    -1.0631      0.2878      
## time_in_half                                                      1.5500      0.1212     .
## attendance_pct                                                    1.4008      0.1614      
## home_attendance                                                   0.1597      0.8731</code></pre>
<pre class="r"><code>cat(&quot;\nSignificance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15&quot;)</code></pre>
<pre><code>## 
## Significance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15</code></pre>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkhlY2ttYW4gU2VsZWN0aW9uIE1vZGVsIEFuYWx5c2lzIg0Kb3V0cHV0OiBodG1sX2RvY3VtZW50DQotLS0NCg0KYGBge3Igb3B0aW9ucywgaW5jbHVkZT1GQUxTRX0NCm9wdGlvbnMobWF4LnByaW50PTEwMDAwKQ0KYGBgDQoNCmBgYHtyfQ0KbGlicmFyeShkYXRhLnRhYmxlKQ0Kb3V0Y29tZV9kYXRhIDwtIGZyZWFkKCJwcmVkaWN0X291dGNvbWUuY3N2Lmd6IikNCnNlbGVjdF9kYXRhIDwtIGZyZWFkKCJwcmVkaWN0X3NlbGVjdC5jc3YuZ3oiKQ0KYGBgDQoNCmBgYHtyfQ0Kc2VsZWN0X2RhdGFbLCBhdHRlbXB0IDo9IGFzLm51bWVyaWMoYXMuY2hhcmFjdGVyKGF0dGVtcHQpKV0NCmBgYA0KDQoNCg0KYGBge3J9DQojIENvbW1lbnRlZCBvdXQgb3JpZ2luYWwgdmVyc2lvbg0KIyAjIExvYWQgcmVxdWlyZWQgbGlicmFyaWVzDQojIGxpYnJhcnkoZGF0YS50YWJsZSkNCiMgbGlicmFyeSh4Z2Jvb3N0KQ0KIyBsaWJyYXJ5KFJPQ1IpDQojIGxpYnJhcnkocGFyYWxsZWwpDQojIA0KIyAjIFByZXBhcmUgdGhlIFhHQm9vc3QgbWF0cmljZXMNCiMgeHMgPC0gbW9kZWwubWF0cml4KH4gLiAtIDEgLSBhdHRlbXB0IC0gbXlfaWQsIGRhdGEgPSBzZWxlY3RfZGF0YSkNCiMgeSA8LSBhcy5udW1lcmljKGFzLmNoYXJhY3RlcihzZWxlY3RfZGF0YSRhdHRlbXB0KSkNCiMgDQojICMgQ3JlYXRlIHBhcmFtZXRlciBncmlkDQojIGdyaWQgPC0gZXhwYW5kLmdyaWQoDQojICAgZXRhID0gc2VxKDAuMDAxLCAwLjEsIGJ5ID0gMC4wMiksDQojICAgbWF4X2RlcHRoID0gc2VxKDUsIDcsIGJ5ID0gMiksDQojICAgbWluX2NoaWxkX3dlaWdodCA9IHNlcSgxLCAxLCBieSA9IDEpLCAgICAgICAgDQojICAgc3Vic2FtcGxlID0gc2VxKDAuOCwgMC44LCBieSA9IDAuMiksDQojICAgY29sc2FtcGxlX2J5dHJlZSA9IHNlcSgwLjgsIDAuOCwgYnkgPSAwLjIpLA0KIyAgIGxhbWJkYSA9IHNlcSgxLCAxLCBieSA9IDEpLCAgICAgICAgICAgICAgICANCiMgICBhbHBoYSA9IHNlcSgwLCAwLCBieSA9IDEpLCAgICAgICAgICAgICAgICAgIA0KIyAgIGdhbW1hID0gc2VxKDAsIDAsIGJ5ID0gMC4xKSwgICAgICAgICAgICAgICANCiMgICBucm91bmRzID0gc2VxKDEwMCwgNTAwLCBieSA9IDUwMCkNCiMgKQ0KIyANCiMgIyBTYW1wbGUgZ3JpZCBwb2ludHMNCiMgY29uZl9sZXYgPC0gLjk1DQojIG51bV9tYXggPC0gNQ0KIyBuIDwtIGNlaWxpbmcobG9nKDEtY29uZl9sZXYpL2xvZygxLW51bV9tYXgvbnJvdyhncmlkKSkpDQojIGluZCA8LSBzYW1wbGUobnJvdyhncmlkKSwgbiwgcmVwbGFjZSA9IEZBTFNFKQ0KIyByZ3JpZCA8LSBncmlkW2luZCwgXQ0KIyANCiMgIyBTZXQgdXAgcGFyYWxsZWwgcHJvY2Vzc2luZw0KIyBuYyA8LSBkZXRlY3RDb3JlcygpIC0gMQ0KIyANCiMgIyBWYWxpZGF0aW9uIHBoYXNlDQojIGNhdCgiXG5QaGFzZSAxOiBWYWxpZGF0aW9uIFBoYXNlXG4iKQ0KIyBuX3ZhbGlkYXRpb25zIDwtIDINCiMgdmFsaWRhdGlvbl9yZXN1bHRzIDwtIG1hdHJpeChucm93ID0gbnJvdyhyZ3JpZCksIG5jb2wgPSBuX3ZhbGlkYXRpb25zKQ0KIyANCiMgZm9yIChqIGluIDE6bnJvdyhyZ3JpZCkpIHsNCiMgICBjYXQoIlxuVGVzdGluZyBwYXJhbWV0ZXIgc2V0IiwgaiwgIm9mIiwgbnJvdyhyZ3JpZCksICJcbiIpDQojICAgDQojICAgZm9yIChpIGluIDE6bl92YWxpZGF0aW9ucykgew0KIyAgICAgIyBDcmVhdGUgdmFsaWRhdGlvbiBzcGxpdA0KIyAgICAgaWR4IDwtIHVuaXF1ZShzYW1wbGUobnJvdyh4cyksIG5yb3coeHMpLCBUUlVFKSkNCiMgICAgIHRyYWluX3ggPC0geHNbaWR4LCBdDQojICAgICB0cmFpbl95IDwtIHlbaWR4XQ0KIyAgICAgdmFsX3ggPC0geHNbLWlkeCwgXQ0KIyAgICAgdmFsX3kgPC0geVstaWR4XQ0KIyAgICAgDQojICAgICAjIFVuZGVyc2FtcGxlIG1ham9yaXR5IGNsYXNzIGluIHRyYWluaW5nIGRhdGENCiMgICAgIHRyYWluX2lkeF8wIDwtIHdoaWNoKHRyYWluX3kgPT0gMCkNCiMgICAgIHRyYWluX2lkeF8xIDwtIHdoaWNoKHRyYWluX3kgPT0gMSkNCiMgICAgIA0KIyAgICAgIyBHZXQgbnVtYmVyIG9mIG1pbm9yaXR5IGNsYXNzIHNhbXBsZXMNCiMgICAgIG5fbWlub3JpdHkgPC0gbGVuZ3RoKHRyYWluX2lkeF8xKQ0KIyAgICAgDQojICAgICAjIFJhbmRvbWx5IHNhbXBsZSBmcm9tIG1ham9yaXR5IGNsYXNzDQojICAgICB0cmFpbl9pZHhfMF9zYW1wbGVkIDwtIHNhbXBsZSh0cmFpbl9pZHhfMCwgbl9taW5vcml0eSkNCiMgICAgIA0KIyAgICAgIyBDb21iaW5lIGluZGljZXMgZm9yIGJhbGFuY2VkIGRhdGFzZXQNCiMgICAgIGJhbGFuY2VkX2lkeCA8LSBjKHRyYWluX2lkeF8wX3NhbXBsZWQsIHRyYWluX2lkeF8xKQ0KIyAgICAgDQojICAgICAjIENyZWF0ZSBiYWxhbmNlZCB0cmFpbmluZyBkYXRhc2V0DQojICAgICB0cmFpbl94X2JhbGFuY2VkIDwtIHRyYWluX3hbYmFsYW5jZWRfaWR4LCBdDQojICAgICB0cmFpbl95X2JhbGFuY2VkIDwtIHRyYWluX3lbYmFsYW5jZWRfaWR4XQ0KIyAgICAgDQojICAgICBwcm0gPC0gbGlzdCgNCiMgICAgICAgYm9vc3RlciA9ICJnYnRyZWUiLA0KIyAgICAgICBvYmplY3RpdmUgPSAiYmluYXJ5OmxvZ2lzdGljIiwNCiMgICAgICAgbWF4X2RlcHRoID0gcmdyaWRbaiwgIm1heF9kZXB0aCJdLA0KIyAgICAgICBldGEgPSByZ3JpZFtqLCAiZXRhIl0sDQojICAgICAgIHN1YnNhbXBsZSA9IHJncmlkW2osICJzdWJzYW1wbGUiXSwNCiMgICAgICAgY29sc2FtcGxlX2J5dHJlZSA9IHJncmlkW2osICJjb2xzYW1wbGVfYnl0cmVlIl0sDQojICAgICAgIGdhbW1hID0gcmdyaWRbaiwgImdhbW1hIl0sDQojICAgICAgIG1pbl9jaGlsZF93ZWlnaHQgPSByZ3JpZFtqLCAibWluX2NoaWxkX3dlaWdodCJdLA0KIyAgICAgICBhbHBoYSA9IHJncmlkW2osICJhbHBoYSJdLA0KIyAgICAgICBsYW1iZGEgPSByZ3JpZFtqLCAibGFtYmRhIl0sDQojICAgICAgIG50aHJlYWQgPSBuYw0KIyAgICAgKQ0KIyAgICAgDQojICAgICBkbV90cmFpbiA8LSB4Z2IuRE1hdHJpeChkYXRhID0gdHJhaW5feF9iYWxhbmNlZCwgbGFiZWwgPSB0cmFpbl95X2JhbGFuY2VkKQ0KIyAgICAgbWRsIDwtIHhnYi50cmFpbigNCiMgICAgICAgcGFyYW1zID0gcHJtLA0KIyAgICAgICBkYXRhID0gZG1fdHJhaW4sDQojICAgICAgIG5yb3VuZHMgPSByZ3JpZFtqLCAibnJvdW5kcyJdLA0KIyAgICAgICB2ZXJib3NlID0gRkFMU0UNCiMgICAgICkNCiMgICAgIA0KIyAgICAgcCA8LSBwcmVkaWN0KG1kbCwgeGdiLkRNYXRyaXgoZGF0YSA9IHZhbF94KSkNCiMgICAgIHByZWQgPC0gcHJlZGljdGlvbihwLCB2YWxfeSkNCiMgICAgIHZhbGlkYXRpb25fcmVzdWx0c1tqLCBpXSA8LSBwZXJmb3JtYW5jZShwcmVkLCAiYXVjIilAeS52YWx1ZXNbWzFdXQ0KIyAgIH0NCiMgfQ0KIyANCiMgIyBSdW4gMTAwIHRlc3RzIHdpdGggYmVzdCBwYXJhbWV0ZXJzDQojIGNhdCgiXG5SdW5uaW5nIFggdGVzdCBpdGVyYXRpb25zIHdpdGggYmVzdCBwYXJhbWV0ZXJzLi4uXG4iKQ0KIyB0ZXN0X2F1Y3MgPC0gYygpDQojIA0KIyBiZXN0X3BhcmFtc19pZHggPC0gd2hpY2gubWF4KHJvd01lYW5zKHZhbGlkYXRpb25fcmVzdWx0cykpDQojIGJlc3RfcGFyYW1zIDwtIHJncmlkW2Jlc3RfcGFyYW1zX2lkeCxdDQojIA0KIyAjIFRyYWluIGZpbmFsIG1vZGVsIHdpdGggYmVzdCBwYXJhbWV0ZXJzDQojIGJlc3RfcGFyYW1zX2xpc3QgPC0gYXMubGlzdChiZXN0X3BhcmFtc1std2hpY2gobmFtZXMoYmVzdF9wYXJhbXMpID09ICJucm91bmRzIildKQ0KIyBiZXN0X3BhcmFtc19saXN0JGJvb3N0ZXIgPC0gImdidHJlZSINCiMgYmVzdF9wYXJhbXNfbGlzdCRvYmplY3RpdmUgPC0gImJpbmFyeTpsb2dpc3RpYyINCiMgYmVzdF9wYXJhbXNfbGlzdCRudGhyZWFkIDwtIG5jDQojIA0KIyBmb3IoaSBpbiAxOjEwMCkgew0KIyAgICMgQ3JlYXRlIHRlc3Qgc3BsaXQNCiMgICBpZHggPC0gdW5pcXVlKHNhbXBsZShucm93KHhzKSwgbnJvdyh4cyksIFQpKQ0KIyAgIHRyYWluX3ggPC0geHNbaWR4LCBdDQojICAgdHJhaW5feSA8LSB5W2lkeF0NCiMgICB0ZXN0X3ggPC0geHNbLWlkeCwgXQ0KIyAgIHRlc3RfeSA8LSB5Wy1pZHhdDQojICAgDQojICAgIyBVbmRlcnNhbXBsZSB0cmFpbmluZyBkYXRhDQojICAgdHJhaW5faWR4XzAgPC0gd2hpY2godHJhaW5feSA9PSAwKQ0KIyAgIHRyYWluX2lkeF8xIDwtIHdoaWNoKHRyYWluX3kgPT0gMSkNCiMgICBuX21pbm9yaXR5IDwtIGxlbmd0aCh0cmFpbl9pZHhfMSkNCiMgICB0cmFpbl9pZHhfMF9zYW1wbGVkIDwtIHNhbXBsZSh0cmFpbl9pZHhfMCwgbl9taW5vcml0eSkNCiMgICBiYWxhbmNlZF9pZHggPC0gYyh0cmFpbl9pZHhfMF9zYW1wbGVkLCB0cmFpbl9pZHhfMSkNCiMgICANCiMgICAjIENyZWF0ZSBiYWxhbmNlZCB0cmFpbmluZyBkYXRhc2V0DQojICAgdHJhaW5feF9iYWxhbmNlZCA8LSB0cmFpbl94W2JhbGFuY2VkX2lkeCwgXQ0KIyAgIHRyYWluX3lfYmFsYW5jZWQgPC0gdHJhaW5feVtiYWxhbmNlZF9pZHhdDQojICAgDQojICAgIyBUcmFpbiBtb2RlbA0KIyAgIGRtX3RyYWluIDwtIHhnYi5ETWF0cml4KGRhdGEgPSB0cmFpbl94X2JhbGFuY2VkLCBsYWJlbCA9IHRyYWluX3lfYmFsYW5jZWQpDQojICAgbWRsIDwtIHhnYi50cmFpbigNCiMgICAgIHBhcmFtcyA9IGJlc3RfcGFyYW1zX2xpc3QsDQojICAgICBkYXRhID0gZG1fdHJhaW4sDQojICAgICBucm91bmRzID0gYmVzdF9wYXJhbXNbWyJucm91bmRzIl1dLA0KIyAgICAgdmVyYm9zZSA9IEZBTFNFDQojICAgKQ0KIyAgIA0KIyAgICMgVGVzdCBvbiB1bmJhbGFuY2VkIHRlc3Qgc2V0DQojICAgcCA8LSBwcmVkaWN0KG1kbCwgeGdiLkRNYXRyaXgoZGF0YSA9IHRlc3RfeCkpDQojICAgcHJlZCA8LSBwcmVkaWN0aW9uKHAsIHRlc3RfeSkNCiMgICB0ZXN0X2F1Y3NbaV0gPC0gcGVyZm9ybWFuY2UocHJlZCwgImF1YyIpQHkudmFsdWVzW1sxXV0NCiMgfQ0KIyANCiMgIyBQcmludCByZXN1bHRzDQojIGNhdCgiXG5UZXN0IFJlc3VsdHMgb3ZlciAxMDAgaXRlcmF0aW9uczpcbiIpDQojIGNhdCgiTWVhbiBBVUM6IiwgbWVhbih0ZXN0X2F1Y3MpLCAiXG4iKQ0KIyBjYXQoIlNEIEFVQzoiLCBzZCh0ZXN0X2F1Y3MpLCAiXG4iKQ0KIyBjYXQoIjk1JSBDSToiLCBtZWFuKHRlc3RfYXVjcykgLSAxLjk2ICogc2QodGVzdF9hdWNzKSwgDQojICAgICAidG8iLCBtZWFuKHRlc3RfYXVjcykgKyAxLjk2ICogc2QodGVzdF9hdWNzKSwgIlxuIikNCiMgDQojICMgUGxvdHRpbmcgQVVDIGRpc3RyaWJ1dGlvbg0KIyBwbG90KHRlc3RfYXVjcywgY29sPSJyZWQiLCBwY2g9MjAsDQojICAgICAgbWFpbj0iQVVDIFRlc3QgRGlzdHJpYnV0aW9uIiwNCiMgICAgICB4bGFiPSJJdGVyYXRpb24iLCB5bGFiPSJBVUMiKQ0KIyBhYmxpbmUoaD1tZWFuKHRlc3RfYXVjcyksIGNvbD0iYmx1ZSIsIGx3ZD0yLCBsdHk9MikNCiMgYWJsaW5lKGg9bWVhbih0ZXN0X2F1Y3MpIC0gMS45NiAqIHNkKHRlc3RfYXVjcyksIGNvbD0iZ3JlZW4iLCBsd2Q9MiwgbHR5PTMpDQojIGFibGluZShoPW1lYW4odGVzdF9hdWNzKSArIDEuOTYgKiBzZCh0ZXN0X2F1Y3MpLCBjb2w9ImdyZWVuIiwgbHdkPTIsIGx0eT0zKQ0KIyBsZWdlbmQoImJvdHRvbXJpZ2h0IiwgDQojICAgICAgICBsZWdlbmQ9YygiQVVDIFZhbHVlcyIsICJNZWFuIiwgIjk1JSBDSSBCb3VuZHMiKSwNCiMgICAgICAgIGNvbD1jKCJyZWQiLCAiYmx1ZSIsICJncmVlbiIpLA0KIyAgICAgICAgbHR5PWMoTkEsIDIsIDMpLA0KIyAgICAgICAgcGNoPWMoMjAsIE5BLCBOQSkpDQojIA0KIyAjIE5vdyB0cmFpbiBmaW5hbCBtb2RlbCBvbiBmdWxsIGRhdGEgZm9yIHogc2NvcmVzDQojIGZpbmFsX2lkeF8wIDwtIHdoaWNoKHkgPT0gMCkNCiMgZmluYWxfaWR4XzEgPC0gd2hpY2goeSA9PSAxKQ0KIyBuX21pbm9yaXR5X2ZpbmFsIDwtIGxlbmd0aChmaW5hbF9pZHhfMSkNCiMgZmluYWxfaWR4XzBfc2FtcGxlZCA8LSBzYW1wbGUoZmluYWxfaWR4XzAsIG5fbWlub3JpdHlfZmluYWwpDQojIGZpbmFsX2JhbGFuY2VkX2lkeCA8LSBjKGZpbmFsX2lkeF8wX3NhbXBsZWQsIGZpbmFsX2lkeF8xKQ0KIyANCiMgIyBDcmVhdGUgYmFsYW5jZWQgZmluYWwgZGF0YXNldA0KIyB4c19iYWxhbmNlZCA8LSB4c1tmaW5hbF9iYWxhbmNlZF9pZHgsIF0NCiMgeV9iYWxhbmNlZCA8LSB5W2ZpbmFsX2JhbGFuY2VkX2lkeF0NCiMgDQojIGRtX2Z1bGwgPC0geGdiLkRNYXRyaXgoZGF0YSA9IHhzX2JhbGFuY2VkLCBsYWJlbCA9IHlfYmFsYW5jZWQpDQojIGZpbmFsX21vZGVsIDwtIHhnYi50cmFpbigNCiMgICBwYXJhbXMgPSBiZXN0X3BhcmFtc19saXN0LA0KIyAgIGRhdGEgPSBkbV9mdWxsLA0KIyAgIG5yb3VuZHMgPSBiZXN0X3BhcmFtc1tbIm5yb3VuZHMiXV0sDQojICAgdmVyYm9zZSA9IEZBTFNFDQojICkNCiMgDQojICMgR2V0IHByb2JhYmlsaXR5IHByZWRpY3Rpb25zICh6KSBmb3IgQUxMIGRhdGENCiMgeiA8LSBwcmVkaWN0KGZpbmFsX21vZGVsLCB4Z2IuRE1hdHJpeChkYXRhID0geHMpKQ0KYGBgDQoNCmBgYHtyfQ0KbGlicmFyeShkYXRhLnRhYmxlKQ0KbGlicmFyeSh4Z2Jvb3N0KQ0KbGlicmFyeShST0NSKQ0KbGlicmFyeShwYXJhbGxlbCkNCg0KIyBQcmVwYXJlIHRoZSBYR0Jvb3N0IG1hdHJpY2VzDQp4cyA8LSBtb2RlbC5tYXRyaXgofiAuIC0gMSAtIGF0dGVtcHQgLSBteV9pZCwgZGF0YSA9IHNlbGVjdF9kYXRhKQ0KeSA8LSBhcy5udW1lcmljKGFzLmNoYXJhY3RlcihzZWxlY3RfZGF0YSRhdHRlbXB0KSkNCg0KDQojIENyZWF0ZSBwYXJhbWV0ZXIgZ3JpZA0KZ3JpZCA8LSBleHBhbmQuZ3JpZCgNCiAgZXRhID0gc2VxKDAuMDAxLCAwLjEsIGJ5ID0gMC4wMSksDQogIG1heF9kZXB0aCA9IHNlcSg1LCA3LCBieSA9IDIpLA0KICBtaW5fY2hpbGRfd2VpZ2h0ID0gc2VxKDEsIDEsIGJ5ID0gMSksICAgICAgICANCiAgc3Vic2FtcGxlID0gc2VxKDEsIDEsIGJ5ID0gMC4yKSwNCiAgY29sc2FtcGxlX2J5dHJlZSA9IHNlcSgwMSwgMSwgYnkgPSAwLjIpLA0KICBsYW1iZGEgPSBzZXEoMSwgMSwgYnkgPSAxKSwgICAgICAgICAgICAgICAgDQogIGFscGhhID0gc2VxKDAsIDAsIGJ5ID0gMSksICAgICAgICAgICAgICAgICAgDQogIGdhbW1hID0gc2VxKDAsIDAsIGJ5ID0gMC4xKSwgICAgICAgICAgICAgICANCiAgbnJvdW5kcyA9IHNlcSgxMDAsIDIwMCwgYnkgPSAxMDApDQopDQoNCg0KIyBTYW1wbGUgZ3JpZCBwb2ludHMNCmNvbmZfbGV2IDwtIC45NQ0KbnVtX21heCA8LSA1DQpuIDwtIGNlaWxpbmcobG9nKDEtY29uZl9sZXYpL2xvZygxLW51bV9tYXgvbnJvdyhncmlkKSkpDQppbmQgPC0gc2FtcGxlKG5yb3coZ3JpZCksIG4sIHJlcGxhY2UgPSBGQUxTRSkNCnJncmlkIDwtIGdyaWRbaW5kLCBdDQoNCiMgU2V0IHVwIHBhcmFsbGVsIHByb2Nlc3NpbmcNCm5jIDwtIGRldGVjdENvcmVzKCkgLSAxDQoNCiMgQ2FsY3VsYXRlIHNjYWxlX3Bvc193ZWlnaHQgZm9yIGltYmFsYW5jZWQgZGF0YXNldA0Kc2NhbGVfcG9zX3dlaWdodCA8LSBzdW0oeSA9PSAwKSAvIHN1bSh5ID09IDEpDQoNCiMgVmFsaWRhdGlvbiBwaGFzZQ0KI2NhdCgiXG5QaGFzZSAxOiBWYWxpZGF0aW9uIFBoYXNlXG4iKQ0Kbl92YWxpZGF0aW9ucyA8LSA1DQp2YWxpZGF0aW9uX3Jlc3VsdHMgPC0gbWF0cml4KG5yb3cgPSBucm93KHJncmlkKSwgbmNvbCA9IG5fdmFsaWRhdGlvbnMpDQoNCmZvciAoaiBpbiAxOm5yb3cocmdyaWQpKSB7DQogICNjYXQoIlxuVGVzdGluZyBwYXJhbWV0ZXIgc2V0IiwgaiwgIm9mIiwgbnJvdyhyZ3JpZCksICJcbiIpDQogIA0KICBmb3IgKGkgaW4gMTpuX3ZhbGlkYXRpb25zKSB7DQogICAgI2NhdCgiXG5WYWxpZGF0aW9uIGl0ZXJhdGlvbiIsIGksICJvZiIsIG5fdmFsaWRhdGlvbnMsICJcbiIpICAgICAgICAgICAgIA0KICAgICMgQ3JlYXRlIHZhbGlkYXRpb24gc3BsaXQNCiAgICBpZHggPC0gdW5pcXVlKHNhbXBsZShucm93KHhzKSwgbnJvdyh4cyksIFRSVUUpKQ0KICAgIHRyYWluX3ggPC0geHNbaWR4LCBdDQogICAgdHJhaW5feSA8LSB5W2lkeF0NCiAgICB2YWxfeCA8LSB4c1staWR4LCBdDQogICAgdmFsX3kgPC0geVstaWR4XQ0KICAgIA0KICAgIHBybSA8LSBsaXN0KA0KICAgICAgYm9vc3RlciA9ICJnYnRyZWUiLA0KICAgICAgb2JqZWN0aXZlID0gImJpbmFyeTpsb2dpc3RpYyIsDQogICAgICBtYXhfZGVwdGggPSByZ3JpZFtqLCAibWF4X2RlcHRoIl0sDQogICAgICBldGEgPSByZ3JpZFtqLCAiZXRhIl0sDQogICAgICBzdWJzYW1wbGUgPSByZ3JpZFtqLCAic3Vic2FtcGxlIl0sDQogICAgICBjb2xzYW1wbGVfYnl0cmVlID0gcmdyaWRbaiwgImNvbHNhbXBsZV9ieXRyZWUiXSwNCiAgICAgIGdhbW1hID0gcmdyaWRbaiwgImdhbW1hIl0sDQogICAgICBtaW5fY2hpbGRfd2VpZ2h0ID0gcmdyaWRbaiwgIm1pbl9jaGlsZF93ZWlnaHQiXSwNCiAgICAgIGFscGhhID0gcmdyaWRbaiwgImFscGhhIl0sDQogICAgICBsYW1iZGEgPSByZ3JpZFtqLCAibGFtYmRhIl0sDQogICAgICBzY2FsZV9wb3Nfd2VpZ2h0ID0gc2NhbGVfcG9zX3dlaWdodCwNCiAgICAgIG50aHJlYWQgPSBuYw0KICAgICkNCiAgICANCiAgICBkbV90cmFpbiA8LSB4Z2IuRE1hdHJpeChkYXRhID0gdHJhaW5feCwgbGFiZWwgPSB0cmFpbl95KQ0KICAgIG1kbCA8LSB4Z2IudHJhaW4oDQogICAgICBwYXJhbXMgPSBwcm0sDQogICAgICBkYXRhID0gZG1fdHJhaW4sDQogICAgICBucm91bmRzID0gcmdyaWRbaiwgIm5yb3VuZHMiXSwNCiAgICAgIHZlcmJvc2UgPSBGQUxTRQ0KICAgICkNCiAgICANCiAgICBwIDwtIHByZWRpY3QobWRsLCB4Z2IuRE1hdHJpeChkYXRhID0gdmFsX3gpKQ0KICAgIHByZWQgPC0gcHJlZGljdGlvbihwLCB2YWxfeSkNCiAgICB2YWxpZGF0aW9uX3Jlc3VsdHNbaiwgaV0gPC0gcGVyZm9ybWFuY2UocHJlZCwgImF1YyIpQHkudmFsdWVzW1sxXV0NCiAgfQ0KfQ0KDQojIFJ1biAxMDAgdGVzdHMgd2l0aCBiZXN0IHBhcmFtZXRlcnMNCmNhdCgiXG5SdW5uaW5nIFggdGVzdCBpdGVyYXRpb25zIHdpdGggYmVzdCBwYXJhbWV0ZXJzLi4uXG4iKQ0KdGVzdF9hdWNzIDwtIGMoKQ0KDQpiZXN0X3BhcmFtc19pZHggPC0gd2hpY2gubWF4KHJvd01lYW5zKHZhbGlkYXRpb25fcmVzdWx0cykpDQpiZXN0X3BhcmFtcyA8LSByZ3JpZFtiZXN0X3BhcmFtc19pZHgsXQ0KDQojIFRyYWluIGZpbmFsIG1vZGVsIHdpdGggYmVzdCBwYXJhbWV0ZXJzDQpiZXN0X3BhcmFtc19saXN0IDwtIGFzLmxpc3QoYmVzdF9wYXJhbXNbLXdoaWNoKG5hbWVzKGJlc3RfcGFyYW1zKSA9PSAibnJvdW5kcyIpXSkNCmJlc3RfcGFyYW1zX2xpc3QkYm9vc3RlciA8LSAiZ2J0cmVlIg0KYmVzdF9wYXJhbXNfbGlzdCRvYmplY3RpdmUgPC0gImJpbmFyeTpsb2dpc3RpYyINCmJlc3RfcGFyYW1zX2xpc3Qkc2NhbGVfcG9zX3dlaWdodCA8LSBzY2FsZV9wb3Nfd2VpZ2h0DQpiZXN0X3BhcmFtc19saXN0JG50aHJlYWQgPC0gbmMNCg0KZm9yKGkgaW4gMToyNSkgew0KICAjIENyZWF0ZSB0ZXN0IHNwbGl0DQogIGlkeCA8LSB1bmlxdWUoc2FtcGxlKG5yb3coeHMpLCBucm93KHhzKSwgVCkpDQogIHRyYWluX3ggPC0geHNbaWR4LCBdDQogIHRyYWluX3kgPC0geVtpZHhdDQogIHRlc3RfeCA8LSB4c1staWR4LCBdDQogIHRlc3RfeSA8LSB5Wy1pZHhdDQogIA0KICAjIFRyYWluIG1vZGVsIG9uIGZ1bGwgdW5iYWxhbmNlZCBkYXRhc2V0DQogIGRtX3RyYWluIDwtIHhnYi5ETWF0cml4KGRhdGEgPSB0cmFpbl94LCBsYWJlbCA9IHRyYWluX3kpDQogIG1kbCA8LSB4Z2IudHJhaW4oDQogICAgcGFyYW1zID0gYmVzdF9wYXJhbXNfbGlzdCwNCiAgICBkYXRhID0gZG1fdHJhaW4sDQogICAgbnJvdW5kcyA9IGJlc3RfcGFyYW1zW1sibnJvdW5kcyJdXSwNCiAgICB2ZXJib3NlID0gRkFMU0UNCiAgKQ0KICANCiAgIyBUZXN0IG9uIHVuYmFsYW5jZWQgdGVzdCBzZXQNCiAgcCA8LSBwcmVkaWN0KG1kbCwgeGdiLkRNYXRyaXgoZGF0YSA9IHRlc3RfeCkpDQogIHByZWQgPC0gcHJlZGljdGlvbihwLCB0ZXN0X3kpDQogIHRlc3RfYXVjc1tpXSA8LSBwZXJmb3JtYW5jZShwcmVkLCAiYXVjIilAeS52YWx1ZXNbWzFdXQ0KfQ0KIyBQcmludCByZXN1bHRzDQpjYXQoIlxuVGVzdCBSZXN1bHRzIG92ZXIgMTAwIGl0ZXJhdGlvbnM6XG4iKQ0KY2F0KCJNZWFuIEFVQzoiLCBtZWFuKHRlc3RfYXVjcyksICJcbiIpDQpjYXQoIlNEIEFVQzoiLCBzZCh0ZXN0X2F1Y3MpLCAiXG4iKQ0KY2F0KCI5NSUgQ0k6IiwgbWVhbih0ZXN0X2F1Y3MpIC0gMS45NiAqIHNkKHRlc3RfYXVjcyksIA0KICAgICJ0byIsIG1lYW4odGVzdF9hdWNzKSArIDEuOTYgKiBzZCh0ZXN0X2F1Y3MpLCAiXG4iKQ0KDQojIFBsb3R0aW5nIEFVQyBkaXN0cmlidXRpb24NCnBsb3QodGVzdF9hdWNzLCBjb2w9InJlZCIsIHBjaD0yMCwNCiAgICAgbWFpbj0iQVVDIFRlc3QgRGlzdHJpYnV0aW9uIiwNCiAgICAgeGxhYj0iSXRlcmF0aW9uIiwgeWxhYj0iQVVDIikNCmFibGluZShoPW1lYW4odGVzdF9hdWNzKSwgY29sPSJibHVlIiwgbHdkPTIsIGx0eT0yKSAgIyBBZGQgdGhpcyBsaW5lIHRvIHNob3cgbWVhbg0KYWJsaW5lKGg9bWVhbih0ZXN0X2F1Y3MpIC0gMS45NiAqIHNkKHRlc3RfYXVjcyksIGNvbD0iZ3JlZW4iLCBsd2Q9MiwgbHR5PTMpDQphYmxpbmUoaD1tZWFuKHRlc3RfYXVjcykgKyAxLjk2ICogc2QodGVzdF9hdWNzKSwgY29sPSJncmVlbiIsIGx3ZD0yLCBsdHk9MykNCmxlZ2VuZCgiYm90dG9tcmlnaHQiLCANCiAgICAgICBsZWdlbmQ9YygiQVVDIFZhbHVlcyIsICJNZWFuIiwgIjk1JSBDSSBCb3VuZHMiKSwNCiAgICAgICBjb2w9YygicmVkIiwgImJsdWUiLCAiZ3JlZW4iKSwNCiAgICAgICBsdHk9YyhOQSwgMiwgMyksDQogICAgICAgcGNoPWMoMjAsIE5BLCBOQSkpDQoNCiMgTm93IHRyYWluIGZpbmFsIG1vZGVsIG9uIGZ1bGwgZGF0YSBmb3IgeiBzY29yZXMNCmRtX2Z1bGwgPC0geGdiLkRNYXRyaXgoZGF0YSA9IHhzLCBsYWJlbCA9IHkpDQpmaW5hbF9tb2RlbCA8LSB4Z2IudHJhaW4oDQogIHBhcmFtcyA9IGJlc3RfcGFyYW1zX2xpc3QsDQogIGRhdGEgPSBkbV9mdWxsLA0KICBucm91bmRzID0gYmVzdF9wYXJhbXNbWyJucm91bmRzIl1dLA0KICB2ZXJib3NlID0gRkFMU0UNCikNCg0KIyBHZXQgcHJvYmFiaWxpdHkgcHJlZGljdGlvbnMgKHopIGZvciBBTEwgZGF0YQ0KeiA8LSBwcmVkaWN0KGZpbmFsX21vZGVsLCB4Z2IuRE1hdHJpeChkYXRhID0geHMpKQ0KYGBgDQoNCg0KYGBge3J9DQojIENhbGN1bGF0ZSByZXNpZHVhbHMgZm9yIFhHQm9vc3QgcHJlZGljdGlvbnMNCnkgPC0gYXMubnVtZXJpYyhhcy5jaGFyYWN0ZXIoc2VsZWN0X2RhdGEkYXR0ZW1wdCkpDQpyZXNpZHVhbHMgPC0geSAtIHoNCg0KIyBIaXN0b2dyYW0gb2YgcmVzaWR1YWxzDQpoaXN0KHJlc2lkdWFscywgbWFpbj0iRGlzdHJpYnV0aW9uIG9mIFhHQm9vc3QgTW9kZWwgUmVzaWR1YWxzIiwgeGxhYj0iUmVzaWR1YWwiLCBicmVha3M9MTAwKQ0KYGBgDQoNCmBgYHtyfQ0KIyBwbG90IG91dCB0aGUgeiB2YWx1ZXNcDQpwbG90KGRlbnNpdHkoeiksIA0KICAgICBtYWluID0gIkRlbnNpdHkgb2YgWiBQcmVkaWN0aW9ucyIsDQogICAgIHhsYWIgPSAiUHJlZGljdGVkIFByb2JhYmlsaXR5IG9mIEF0dGVtcHQiLA0KICAgICB5bGFiID0gIkRlbnNpdHkiKQ0KYGBgDQoNCmBgYHtyfQ0KIyBDYWxjdWxhdGUgR0lNUiAobGFtYmRhKSBUaGlzIGlzIEdlbmVyYWxpemVkIGludmVyc2UgbWlsbHMgcmF0aW8NCkdJTVIgPC0gZG5vcm0ocW5vcm0oeikpIC8gKDEgLSBwbm9ybShxbm9ybSh6KSkpDQoNCiMgQWRkIEdJTVIgdG8gdGhlIGRhdGENCnNlbGVjdF9kYXRhWywgR0lNUiA6PSBHSU1SXQ0KDQojIFByaW50IHZhcmlhYmxlIGltcG9ydGENCmBgYA0KDQpgYGB7cn0NCiMgQ3JlYXRlIGEgZGF0YS50YWJsZSB3aXRoIGp1c3QgbXlfaWQgYW5kIEdJTVIgZnJvbSBzZWxlY3RfZGF0YQ0KR0lNUl9kdCA8LSBkYXRhLnRhYmxlKG15X2lkID0gc2VsZWN0X2RhdGEkbXlfaWQsIEdJTVIgPSBHSU1SKQ0KDQojIEFkZCBHSU1SIHRvIG91dGNvbWVfZGF0YSBieSBtYXRjaGluZyBvbiBteV9pZA0Kb3V0Y29tZV9kYXRhW0dJTVJfZHQsIEdJTVIgOj0gaS5HSU1SLCBvbiA9ICJteV9pZCJdDQpgYGANCg0KYGBge3J9DQojcmVtb3ZlIGNvbHVtbnMgdG8gcHJldmVudCBwZXJmZWN0IGNvbGluZWFyaXR5DQpvdXRjb21lX2RhdGEgPC0gb3V0Y29tZV9kYXRhWywgbXlfaWQgOj0gTlVMTF0NCm91dGNvbWVfZGF0YVssIHlhcmRsaW5lXzMxXzQwIDo9IE5VTExdDQpvdXRjb21lX2RhdGFbLCB5ZWFyMjAyMl90ZWFtX0NMRSA6PSBOVUxMXSAjIHRpZWQgZm9yIG1vc3QgYXR0ZW1wdHMgd2l0aCAzMQ0KYGBgDQoNCmBgYHtyfQ0Kb3V0Y29tZV9kYXRhWywgY29udmVyc2lvbiA6PSBhcy5udW1lcmljKGFzLmNoYXJhY3Rlcihjb252ZXJzaW9uKSldDQojIFRoZW4gcnVuIE9MUyB3aXRoIEdJTVIgY29ycmVjdGlvbg0Kb2xzX21vZGVsIDwtIGxtKGNvbnZlcnNpb24gfiAgLiwgZGF0YSA9IG91dGNvbWVfZGF0YSkNCmBgYA0KDQpgYGB7cn0NCmxpYnJhcnkoc2FuZHdpY2gpDQpsaWJyYXJ5KGxtdGVzdCkNCg0KIyBHZXQgSEMwLWFkanVzdGVkIHQtdmFsdWVzIGFuZCBwLXZhbHVlcw0Kcm9idXN0X3Rlc3QgPC0gY29lZnRlc3Qob2xzX21vZGVsLCB2Y292ID0gdmNvdkhDKG9sc19tb2RlbCwgdHlwZSA9ICJIQzAiKSkNCnRfc3RhdHMgPC0gcm9idXN0X3Rlc3RbLCAidCB2YWx1ZSJdDQpwX3ZhbHVlcyA8LSByb2J1c3RfdGVzdFssICJQcig+fHR8KSJdDQoNCiMgRnVuY3Rpb24gdG8gYWRkIHNpZ25pZmljYW5jZSBzdGFycw0KZ2V0X3N0YXJzIDwtIGZ1bmN0aW9uKHApIHsNCiAgICBpZiAocCA8PSAwLjAxKSByZXR1cm4oIioqKiIpDQogICAgaWYgKHAgPD0gMC4wNSkgcmV0dXJuKCIqKiIpDQogICAgaWYgKHAgPD0gMC4xKSByZXR1cm4oIioiKQ0KICAgIGlmIChwIDw9IDAuMTUpIHJldHVybigiLiIpDQogICAgcmV0dXJuKCIiKQ0KfQ0KDQojIE1heGltdW0gd2lkdGggZm9yIHZhcmlhYmxlIG5hbWVzDQpuYW1lX3dpZHRoIDwtIDYwDQoNCiMgUHJpbnQgaGVhZGVyIHdpdGggYWxpZ25tZW50DQpjYXQoc3ByaW50ZigiJS0qcyAgJTEwcyAgJTEwcyAgJTRzXG4iLCBuYW1lX3dpZHRoLCAiVmFyaWFibGUiLCAidC12YWx1ZSIsICJwLXZhbHVlIiwgInNpZyIpKQ0KY2F0KHNwcmludGYoIiUtKnMgICUxMHMgICUxMHMgICU0c1xuIiwgbmFtZV93aWR0aCwgIi0tLS0tLS0tLSIsICItLS0tLS0tIiwgIi0tLS0tLS0iLCAiLS0tLSIpKQ0KDQojIExvb3AgdGhyb3VnaCBhbmQgcHJpbnQgdmFsdWVzDQpmb3IgKGkgaW4gMTpsZW5ndGgodF9zdGF0cykpIHsNCiAgICB2YXJfbmFtZSA8LSByb3duYW1lcyhyb2J1c3RfdGVzdClbaV0NCiAgICAjIFRydW5jYXRlIG5hbWUgaWYgdG9vIGxvbmcNCiAgICBpZiAobmNoYXIodmFyX25hbWUpID4gbmFtZV93aWR0aCkgew0KICAgICAgICB2YXJfbmFtZSA8LSBwYXN0ZTAoc3Vic3RyKHZhcl9uYW1lLCAxLCBuYW1lX3dpZHRoLTMpLCAiLi4uIikNCiAgICB9DQogICAgY2F0KHNwcmludGYoIiUtKnMgICUxMC40ZiAgJTEwLjRmICAlNHNcbiIsIA0KICAgICAgICAgICAgICAgIG5hbWVfd2lkdGgsIHZhcl9uYW1lLCANCiAgICAgICAgICAgICAgICB0X3N0YXRzW2ldLCBwX3ZhbHVlc1tpXSwNCiAgICAgICAgICAgICAgICBnZXRfc3RhcnMocF92YWx1ZXNbaV0pKSkNCn0NCg0KY2F0KCJcblNpZ25pZmljYW5jZSBjb2RlczogMCAnKioqJyAwLjAxICcqKicgMC4wNSAnKicgMC4xICcuJyAwLjE1IikNCmBgYA0KDQoNCmBgYHtyfQ0KIyBDcmVhdGUgYSBjb3B5IG9mIG91dGNvbWVfZGF0YSB3aXRob3V0IEdJTVINCm91dGNvbWVfZGF0YV9ub19naW1yIDwtIGNvcHkob3V0Y29tZV9kYXRhKQ0Kb3V0Y29tZV9kYXRhX25vX2dpbXJbLCBHSU1SIDo9IE5VTExdDQpvdXRjb21lX2RhdGFfbm9fZ2ltclssIG15X2lkIDo9IE5VTExdDQoNCiMgUnVuIE9MUyB3aXRob3V0IEdJTVIgY29ycmVjdGlvbg0Kb2xzX21vZGVsX25vX2dpbXIgPC0gbG0oY29udmVyc2lvbiB+IC4sIGRhdGEgPSBvdXRjb21lX2RhdGFfbm9fZ2ltcikNCg0KIyBHZXQgSEMwLWFkanVzdGVkIHQtdmFsdWVzIGFuZCBwLXZhbHVlcw0Kcm9idXN0X3Rlc3Rfbm9fZ2ltciA8LSBjb2VmdGVzdChvbHNfbW9kZWxfbm9fZ2ltciwgdmNvdiA9IHZjb3ZIQyhvbHNfbW9kZWxfbm9fZ2ltciwgdHlwZSA9ICJIQzAiKSkNCnRfc3RhdHNfbm9fZ2ltciA8LSByb2J1c3RfdGVzdF9ub19naW1yWywgInQgdmFsdWUiXQ0KcF92YWx1ZXNfbm9fZ2ltciA8LSByb2J1c3RfdGVzdF9ub19naW1yWywgIlByKD58dHwpIl0NCg0KIyBQcmludCBoZWFkZXIgd2l0aCBhbGlnbm1lbnQNCmNhdChzcHJpbnRmKCIlLSpzICAlMTBzICAlMTBzICAlNHNcbiIsIG5hbWVfd2lkdGgsICJWYXJpYWJsZSIsICJ0LXZhbHVlIiwgInAtdmFsdWUiLCAic2lnIikpDQpjYXQoc3ByaW50ZigiJS0qcyAgJTEwcyAgJTEwcyAgJTRzXG4iLCBuYW1lX3dpZHRoLCAiLS0tLS0tLS0tIiwgIi0tLS0tLS0iLCAiLS0tLS0tLSIsICItLS0tIikpDQoNCiMgTG9vcCB0aHJvdWdoIGFuZCBwcmludCB2YWx1ZXMNCmZvciAoaSBpbiAxOmxlbmd0aCh0X3N0YXRzX25vX2dpbXIpKSB7DQogICAgdmFyX25hbWUgPC0gcm93bmFtZXMocm9idXN0X3Rlc3Rfbm9fZ2ltcilbaV0NCiAgICAjIFRydW5jYXRlIG5hbWUgaWYgdG9vIGxvbmcNCiAgICBpZiAobmNoYXIodmFyX25hbWUpID4gbmFtZV93aWR0aCkgew0KICAgICAgICB2YXJfbmFtZSA8LSBwYXN0ZTAoc3Vic3RyKHZhcl9uYW1lLCAxLCBuYW1lX3dpZHRoLTMpLCAiLi4uIikNCiAgICB9DQogICAgY2F0KHNwcmludGYoIiUtKnMgICUxMC40ZiAgJTEwLjRmICAlNHNcbiIsIA0KICAgICAgICAgICAgICAgIG5hbWVfd2lkdGgsIHZhcl9uYW1lLCANCiAgICAgICAgICAgICAgICB0X3N0YXRzX25vX2dpbXJbaV0sIHBfdmFsdWVzX25vX2dpbXJbaV0sDQogICAgICAgICAgICAgICAgZ2V0X3N0YXJzKHBfdmFsdWVzX25vX2dpbXJbaV0pKSkNCn0NCg0KY2F0KCJcblNpZ25pZmljYW5jZSBjb2RlczogMCAnKioqJyAwLjAxICcqKicgMC4wNSAnKicgMC4xICcuJyAwLjE1IikNCg0KYGBgDQo=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("heckman.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Heckman Selection Model Analysis</title>

<script src="site_libs/header-attrs-2.22/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">4th Downs in the NFL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="heckman.html">Heckman Selection</a>
</li>
<li>
  <a href="xgboost.html">XGBoost Prediction</a>
</li>
<li>
  <a href="attendance_binary.html">Attendance Impact Binary</a>
</li>
<li>
  <a href="thirddown.html">Third Down Analysis</a>
</li>
<li>
  <a href="attempt_ols.html">Attempts OLS</a>
</li>
<li>
  <a href="robustness_checks.html">Robustness Checks</a>
</li>
<li>
  <a href="Writing.html">Writing</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Heckman Selection Model Analysis</h1>

</div>


<pre class="r"><code>library(data.table)
outcome_data &lt;- fread(&quot;predict_outcome.csv.gz&quot;)
select_data &lt;- fread(&quot;predict_select.csv.gz&quot;)</code></pre>
<pre class="r"><code>select_data[, score_diff := as.integer(score_diff &gt; 0)]</code></pre>
<pre class="r"><code>select_data[, attempt := as.numeric(as.character(attempt))]</code></pre>
<pre class="r"><code>library(data.table)
library(xgboost)
library(ROCR)
library(parallel)

# Prepare the XGBoost matrices
xs &lt;- model.matrix(~ . - 1 - attempt - my_id, data = select_data)
y &lt;- as.numeric(as.character(select_data$attempt))


# Create parameter grid
grid &lt;- expand.grid(
  eta = seq(0.001, 0.05, by = 0.01),
  max_depth = seq(5, 7, by = 2),
  min_child_weight = seq(1, 1, by = 1),        
  subsample = seq(1, 1, by = 0.2),
  colsample_bytree = seq(1, 1, by = 0.2),
  lambda = seq(1, 1, by = 1),                
  alpha = seq(0, 0, by = 1),                  
  gamma = seq(0, 0, by = 0.1),               
  nrounds = seq(100, 300, by = 50)
)


# Sample grid points
conf_lev &lt;- .95
num_max &lt;- 5
n &lt;- ceiling(log(1-conf_lev)/log(1-num_max/nrow(grid)))
ind &lt;- sample(nrow(grid), n, replace = FALSE)
rgrid &lt;- grid[ind, ]

# Set up parallel processing
nc &lt;- detectCores() - 1

# Calculate scale_pos_weight for imbalanced dataset
scale_pos_weight &lt;- sum(y == 0) / sum(y == 1)

# Validation phase
#cat(&quot;\nPhase 1: Validation Phase\n&quot;)
n_validations &lt;- 5
validation_results &lt;- matrix(nrow = nrow(rgrid), ncol = n_validations)

for (j in 1:nrow(rgrid)) {
  #cat(&quot;\nTesting parameter set&quot;, j, &quot;of&quot;, nrow(rgrid), &quot;\n&quot;)
  
  for (i in 1:n_validations) {
    #cat(&quot;\nValidation iteration&quot;, i, &quot;of&quot;, n_validations, &quot;\n&quot;)             
    # Create validation split
    idx &lt;- unique(sample(nrow(xs), nrow(xs), TRUE))
    train_x &lt;- xs[idx, ]
    train_y &lt;- y[idx]
    val_x &lt;- xs[-idx, ]
    val_y &lt;- y[-idx]
    
    prm &lt;- list(
      booster = &quot;gbtree&quot;,
      objective = &quot;binary:logistic&quot;,
      max_depth = rgrid[j, &quot;max_depth&quot;],
      eta = rgrid[j, &quot;eta&quot;],
      subsample = rgrid[j, &quot;subsample&quot;],
      colsample_bytree = rgrid[j, &quot;colsample_bytree&quot;],
      gamma = rgrid[j, &quot;gamma&quot;],
      min_child_weight = rgrid[j, &quot;min_child_weight&quot;],
      alpha = rgrid[j, &quot;alpha&quot;],
      lambda = rgrid[j, &quot;lambda&quot;],
      scale_pos_weight = scale_pos_weight,
      nthread = nc
    )
    
    dm_train &lt;- xgb.DMatrix(data = train_x, label = train_y)
    mdl &lt;- xgb.train(
      params = prm,
      data = dm_train,
      nrounds = rgrid[j, &quot;nrounds&quot;],
      verbose = FALSE
    )
    
    p &lt;- predict(mdl, xgb.DMatrix(data = val_x))
    pred &lt;- prediction(p, val_y)
    validation_results[j, i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
  }
}

# Run 100 tests with best parameters
cat(&quot;\nRunning X test iterations with best parameters...\n&quot;)</code></pre>
<pre><code>## 
## Running X test iterations with best parameters...</code></pre>
<pre class="r"><code>test_aucs &lt;- c()

best_params_idx &lt;- which.max(rowMeans(validation_results))
best_params &lt;- rgrid[best_params_idx,]

# Train final model with best parameters
best_params_list &lt;- as.list(best_params[-which(names(best_params) == &quot;nrounds&quot;)])
best_params_list$booster &lt;- &quot;gbtree&quot;
best_params_list$objective &lt;- &quot;binary:logistic&quot;
best_params_list$scale_pos_weight &lt;- scale_pos_weight
best_params_list$nthread &lt;- nc

for(i in 1:20) {
  # Create test split
  idx &lt;- unique(sample(nrow(xs), nrow(xs), T))
  train_x &lt;- xs[idx, ]
  train_y &lt;- y[idx]
  test_x &lt;- xs[-idx, ]
  test_y &lt;- y[-idx]
  
  # Train model on full unbalanced dataset
  dm_train &lt;- xgb.DMatrix(data = train_x, label = train_y)
  mdl &lt;- xgb.train(
    params = best_params_list,
    data = dm_train,
    nrounds = best_params[[&quot;nrounds&quot;]],
    verbose = FALSE
  )
  
  # Test on unbalanced test set
  p &lt;- predict(mdl, xgb.DMatrix(data = test_x))
  pred &lt;- prediction(p, test_y)
  test_aucs[i] &lt;- performance(pred, &quot;auc&quot;)@y.values[[1]]
}
# Print results
cat(&quot;\nTest Results over 100 iterations:\n&quot;)</code></pre>
<pre><code>## 
## Test Results over 100 iterations:</code></pre>
<pre class="r"><code>cat(&quot;Mean AUC:&quot;, mean(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## Mean AUC: 0.885682</code></pre>
<pre class="r"><code>cat(&quot;SD AUC:&quot;, sd(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## SD AUC: 0.003784546</code></pre>
<pre class="r"><code>cat(&quot;95% CI:&quot;, mean(test_aucs) - 1.96 * sd(test_aucs), 
    &quot;to&quot;, mean(test_aucs) + 1.96 * sd(test_aucs), &quot;\n&quot;)</code></pre>
<pre><code>## 95% CI: 0.8782643 to 0.8930997</code></pre>
<pre class="r"><code># Plotting AUC distribution
plot(test_aucs, col=&quot;red&quot;, pch=20,
     main=&quot;AUC Test Distribution&quot;,
     xlab=&quot;Iteration&quot;, ylab=&quot;AUC&quot;)
abline(h=mean(test_aucs), col=&quot;blue&quot;, lwd=2, lty=2)  # Add this line to show mean
abline(h=mean(test_aucs) - 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
abline(h=mean(test_aucs) + 1.96 * sd(test_aucs), col=&quot;green&quot;, lwd=2, lty=3)
legend(&quot;bottomright&quot;, 
       legend=c(&quot;AUC Values&quot;, &quot;Mean&quot;, &quot;95% CI Bounds&quot;),
       col=c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;),
       lty=c(NA, 2, 3),
       pch=c(20, NA, NA))</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code># Now train final model on full data for z scores
dm_full &lt;- xgb.DMatrix(data = xs, label = y)
final_model &lt;- xgb.train(
  params = best_params_list,
  data = dm_full,
  nrounds = best_params[[&quot;nrounds&quot;]],
  verbose = FALSE
)

# Get probability predictions (z) for ALL data
z &lt;- predict(final_model, xgb.DMatrix(data = xs))</code></pre>
<pre class="r"><code># Calculate residuals for XGBoost predictions
y &lt;- as.numeric(as.character(select_data$attempt))
residuals &lt;- y - z

# Histogram of residuals
hist(residuals, main=&quot;Distribution of XGBoost Model Residuals&quot;, xlab=&quot;Residual&quot;, breaks=100)</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code># plot out the z values\
plot(density(z), 
     main = &quot;Density of Z Predictions&quot;,
     xlab = &quot;Predicted Probability of Attempt&quot;,
     ylab = &quot;Density&quot;)</code></pre>
<p><img src="heckman_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code># Calculate GIMR (lambda) This is Generalized inverse mills ratio
GIMR &lt;- dnorm(qnorm(z)) / (1 - pnorm(qnorm(z)))

# Add GIMR to the data
select_data[, GIMR := GIMR]

# Print variable importa</code></pre>
<pre class="r"><code># Create a data.table with just my_id and GIMR from select_data
GIMR_dt &lt;- data.table(my_id = select_data$my_id, GIMR = GIMR)

# Add GIMR to outcome_data by matching on my_id
outcome_data[GIMR_dt, GIMR := i.GIMR, on = &quot;my_id&quot;]</code></pre>
<pre class="r"><code># # Existing code
# outcome_data &lt;- outcome_data[, my_id := NULL]
# outcome_data[, yardline_31_40 := NULL]
# outcome_data[, year2022_team_CLE := NULL] # tied for most attempts with 31

# Remove all columns with &quot;_present&quot; in the name
present_cols &lt;- grep(&quot;_present&quot;, names(outcome_data), value = TRUE)
for (col in present_cols) {
  outcome_data[, (col) := NULL]
}</code></pre>
<pre class="r"><code># Create copies of outcome_data for different models
outcome_data_player &lt;- copy(outcome_data)
outcome_data_starter &lt;- copy(outcome_data)

# Remove specific columns as in original code
for (dt in list(outcome_data_player, outcome_data_starter)) {
  dt[, my_id := NULL]
  dt[, yardline_31_40 := NULL]
  dt[, year2022_team_CLE := NULL] # tied for most attempts with 31
  
  # Remove attendance variables
  dt[, attendance_pct := NULL]
  dt[, attendance_raw := NULL]
  dt[, vegas_wp_posteam := NULL]
}</code></pre>
<pre><code>## Warning in `[.data.table`(dt, , `:=`(vegas_wp_posteam, NULL)): Column
## &#39;vegas_wp_posteam&#39; does not exist to remove

## Warning in `[.data.table`(dt, , `:=`(vegas_wp_posteam, NULL)): Column
## &#39;vegas_wp_posteam&#39; does not exist to remove</code></pre>
<pre class="r"><code># For player models, remove starter columns
player_cols &lt;- grep(&quot;^starter_&quot;, names(outcome_data_player), value = TRUE)
for (col in player_cols) {
  outcome_data_player[, (col) := NULL]
}

# For starter models, remove player columns
starter_cols &lt;- grep(&quot;^(offense|defense)_player_&quot;, names(outcome_data_starter), value = TRUE)
for (col in starter_cols) {
  outcome_data_starter[, (col) := NULL]
}

# Ensure conversion is numeric
for (dt in list(outcome_data_player, outcome_data_starter)) {
  dt[, conversion := as.numeric(as.character(conversion))]
}

# MODEL 1: Player model with GIMR
ols_model_player &lt;- lm(conversion ~ ., data = outcome_data_player)

# MODEL 2: Starter model with GIMR
ols_model_starter &lt;- lm(conversion ~ ., data = outcome_data_starter)

# Function to analyze and print model results
analyze_model &lt;- function(model, model_name) {
  library(sandwich)
  library(lmtest)
  
  # Get HC0-adjusted t-values and p-values
  robust_test &lt;- coeftest(model, vcov = vcovHC(model, type = &quot;HC0&quot;))
  t_stats &lt;- robust_test[, &quot;t value&quot;]
  p_values &lt;- robust_test[, &quot;Pr(&gt;|t|)&quot;]
  
  # Function to add significance stars
  get_stars &lt;- function(p) {
    if (p &lt;= 0.01) return(&quot;***&quot;)
    if (p &lt;= 0.05) return(&quot;**&quot;)
    if (p &lt;= 0.1) return(&quot;*&quot;)
    if (p &lt;= 0.15) return(&quot;.&quot;)
    return(&quot;&quot;)
  }
  
  # Maximum width for variable names
  name_width &lt;- 60
  
  # Print model name and header
  cat(&quot;\n\n&quot;, paste(rep(&quot;=&quot;, 80), collapse=&quot;&quot;), &quot;\n&quot;)
  cat(&quot;MODEL:&quot;, model_name, &quot;\n&quot;)
  cat(paste(rep(&quot;=&quot;, 80), collapse=&quot;&quot;), &quot;\n\n&quot;)
  
  # Print header with alignment
  cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;Variable&quot;, &quot;t-value&quot;, &quot;p-value&quot;, &quot;sig&quot;))
  cat(sprintf(&quot;%-*s  %10s  %10s  %4s\n&quot;, name_width, &quot;---------&quot;, &quot;-------&quot;, &quot;-------&quot;, &quot;----&quot;))
  
  # Loop through and print values
  for (i in 1:length(t_stats)) {
    var_name &lt;- rownames(robust_test)[i]
    # Truncate name if too long
    if (nchar(var_name) &gt; name_width) {
      var_name &lt;- paste0(substr(var_name, 1, name_width-3), &quot;...&quot;)
    }
    cat(sprintf(&quot;%-*s  %10.4f  %10.4f  %4s\n&quot;, 
                name_width, var_name, 
                t_stats[i], p_values[i],
                get_stars(p_values[i])))
  }
  
  cat(&quot;\nSignificance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15\n&quot;)
  
  # Print R-squared
  r_squared &lt;- summary(model)$adj.r.squared
  cat(&quot;\nAdjusted R-squared:&quot;, r_squared, &quot;\n&quot;)
  
  # Calculate VIFs
  library(car)
  vifs &lt;- vif(model)
  
  # Filter to show only VIFs over 5
  high_vifs &lt;- vifs[vifs &gt; 5]
  if(length(high_vifs) &gt; 0) {
    cat(&quot;\nVariables with VIF &gt; 5:\n&quot;)
    print(high_vifs)
  } else {
    cat(&quot;\nNo variables with VIF &gt; 5 found in this model\n&quot;)
  }
  
  return(r_squared)
}

# Analyze models with GIMR only
r2_player &lt;- analyze_model(ols_model_player, &quot;Player Model with GIMR&quot;)</code></pre>
<pre><code>## 
## 
##  ================================================================================ 
## MODEL: Player Model with GIMR 
## ================================================================================ 
## 
## Variable                                                         t-value     p-value   sig
## ---------                                                        -------     -------  ----
## (Intercept)                                                       3.4527      0.0006   ***
## ydstogo                                                         -12.4748      0.0000   ***
## posteam_timeouts_remaining                                        1.1253      0.2605      
## defteam_timeouts_remaining                                        0.9777      0.3283      
## rush_attempt                                                      7.2806      0.0000   ***
## week                                                              0.6877      0.4917      
## temp                                                             -1.1198      0.2629      
## wind                                                              1.0228      0.3065      
## vegas_wp                                                          1.1118      0.2663      
## spread_line                                                      -0.5213      0.6022      
## total_line                                                        1.7750      0.0760     *
## prep_days                                                         0.8998      0.3683      
## overall_win_pct                                                   0.1817      0.8558      
## team_win_pct                                                      1.7239      0.0848     *
## prev_win_pct                                                     -2.5316      0.0114    **
## prev_shotgun_rate                                                 0.4360      0.6629      
## prev_singleback_rate                                              0.5781      0.5633      
## prev_empty_rate                                                   0.9158      0.3598      
## prev_iform_rate                                                   0.3617      0.7176      
## prev_shotgun_success                                              0.4241      0.6715      
## prev_singleback_success                                           0.5363      0.5918      
## prev_empty_success                                               -0.1186      0.9056      
## prev_iform_success                                                2.5882      0.0097   ***
## prev_stop_rate_run                                               -0.0008      0.9994      
## prev_stop_rate_pass                                              -3.7698      0.0002   ***
## shotgun_rate                                                      1.1427      0.2532      
## singleback_rate                                                   0.5790      0.5626      
## empty_rate                                                        0.0097      0.9923      
## iform_rate                                                       -1.7492      0.0803     *
## shotgun_success                                                  -2.2440      0.0249    **
## singleback_success                                               -1.0829      0.2789      
## empty_success                                                    -0.6899      0.4903      
## iform_success                                                    -1.6872      0.0917     *
## def_stop_rate_run                                                 1.8270      0.0678     *
## def_stop_rate_pass                                               -1.5113      0.1308     .
## avg_pass_rushers                                                 -0.7750      0.4384      
## avg_box_defenders                                                -0.5014      0.6162      
## cover0_rate                                                      -0.4017      0.6880      
## cover1_rate                                                      -0.5661      0.5714      
## cover2_rate                                                      -0.7243      0.4689      
## cover3_rate                                                       0.9983      0.3182      
## cover4_rate                                                       0.5725      0.5670      
## cover6_rate                                                      -0.8216      0.4113      
## two_man_rate                                                      1.4395      0.1501      
## prevent_rate                                                      2.6499      0.0081   ***
## roof_outdoors                                                    -0.5248      0.5997      
## posteam_type_home                                                -1.4025      0.1608      
## offense_formation_EMPTY                                           0.4541      0.6498      
## offense_formation_SHOTGUN                                         0.0757      0.9396      
## offense_formation_SINGLEBACK                                     -0.3350      0.7376      
## offense_formation_I_FORM                                         -0.3658      0.7145      
## offense_player_1_passing_depth_short_grades_pass_12w              2.0218      0.0433    **
## offense_player_1_passing_depth_medium_grades_pass_12w            -0.1404      0.8884      
## offense_player_1_passing_depth_deep_grades_pass_12w              -1.3210      0.1866      
## offense_player_1_rushing_grades_grades_run_12w                    0.1979      0.8432      
## offense_player_4_rushing_grades_first_downs_12w                   1.5556      0.1199     .
## offense_player_4_pass_blocking_true_pass_set_grades_pass_...      0.2470      0.8049      
## offense_player_8_receiving_depth_medium_yprr_12w                 -2.2884      0.0222    **
## offense_player_8_blocking_grades_block_percent_12w               -1.2978      0.1944      
## offense_player_8_receiving_grades_first_downs_12w                 1.2933      0.1960      
## offense_player_9_receiving_depth_medium_yprr_12w                 -2.7826      0.0054   ***
## offense_player_9_blocking_grades_block_percent_12w                0.2457      0.8059      
## offense_player_9_receiving_grades_first_downs_12w                 0.5870      0.5572      
## offense_player_10_receiving_depth_medium_yprr_12w                 0.9096      0.3631      
## offense_player_10_blocking_grades_block_percent_12w               0.2690      0.7879      
## offense_player_10_receiving_grades_first_downs_12w                1.3355      0.1818      
## offense_player_14_receiving_grades_first_downs_12w                0.5847      0.5588      
## offense_player_14_blocking_grades_pass_block_percent_12w          0.7841      0.4331      
## offense_player_17_blocking_grades_grades_offense_12w              1.3752      0.1692      
## offense_player_18_blocking_grades_grades_offense_12w             -0.8209      0.4118      
## offense_player_19_blocking_grades_grades_offense_12w             -0.0562      0.9552      
## offense_player_20_blocking_grades_grades_offense_12w              0.0421      0.9664      
## offense_player_21_blocking_grades_grades_offense_12w             -0.8678      0.3856      
## defense_player_1_pass_rushing_productivity_hurries_12w           -0.4070      0.6841      
## defense_player_1_run_defense_grades_stops_12w                    -0.7320      0.4642      
## defense_player_2_pass_rushing_productivity_hurries_12w           -0.4304      0.6669      
## defense_player_2_run_defense_grades_stops_12w                     0.6581      0.5105      
## defense_player_3_pass_rushing_productivity_hurries_12w           -1.2476      0.2123      
## defense_player_3_run_defense_grades_stops_12w                     1.1895      0.2343      
## defense_player_4_pass_rushing_productivity_hurries_12w           -1.2832      0.1995      
## defense_player_4_run_defense_grades_stops_12w                    -0.9154      0.3600      
## defense_player_9_pass_rushing_productivity_hurries_12w           -0.7875      0.4311      
## defense_player_9_run_defense_grades_stops_12w                    -1.5639      0.1179     .
## defense_player_9_coverage_schemes_zone_stops_12w                  0.1465      0.8835      
## defense_player_10_pass_rushing_productivity_hurries_12w          -1.2527      0.2104      
## defense_player_10_run_defense_grades_stops_12w                   -1.3594      0.1741      
## defense_player_10_coverage_schemes_zone_stops_12w                 0.8512      0.3947      
## defense_player_11_pass_rushing_productivity_hurries_12w           1.3529      0.1762      
## defense_player_11_run_defense_grades_stops_12w                   -1.2350      0.2169      
## defense_player_11_coverage_schemes_zone_stops_12w                -0.1862      0.8523      
## defense_player_12_pass_rushing_productivity_hurries_12w           0.8075      0.4194      
## defense_player_12_run_defense_grades_stops_12w                   -0.3071      0.7587      
## defense_player_12_coverage_schemes_zone_stops_12w                -0.3466      0.7289      
## defense_player_15_defensive_grades_receptions_12w                 0.3671      0.7136      
## defense_player_15_coverage_grades_stops_12w                       0.7513      0.4525      
## defense_player_16_defensive_grades_receptions_12w                 0.5096      0.6104      
## defense_player_16_coverage_grades_stops_12w                       0.0416      0.9668      
## defense_player_17_defensive_grades_receptions_12w                -0.7075      0.4793      
## defense_player_17_coverage_grades_stops_12w                       0.8659      0.3866      
## defense_player_20_defensive_grades_receptions_12w                -0.9324      0.3512      
## defense_player_20_coverage_grades_stops_12w                       0.9562      0.3390      
## defense_player_21_defensive_grades_receptions_12w                 0.1395      0.8891      
## defense_player_21_coverage_grades_stops_12w                      -0.0591      0.9529      
## defense_player_22_defensive_grades_receptions_12w                -1.5119      0.1306     .
## defense_player_22_coverage_grades_stops_12w                       1.4216      0.1552      
## yardline_1_10                                                    -2.3491      0.0189    **
## yardline_11_20                                                    0.1961      0.8446      
## yardline_21_30                                                    0.2447      0.8067      
## yardline_41_50                                                    1.7887      0.0737     *
## yardline_51_60                                                    0.5116      0.6089      
## yardline_61_70                                                    1.3158      0.1883      
## yardline_71_80                                                    1.6809      0.0929     *
## yardline_81_90                                                    2.1402      0.0324    **
## yardline_91_100                                                   1.4286      0.1532      
## year2017_team_ARI                                                 0.1865      0.8520      
## year2017_team_BUF                                                -0.8594      0.3902      
## year2017_team_CHI                                                -0.4169      0.6767      
## year2017_team_CLE                                                 0.4641      0.6426      
## year2017_team_DAL                                                -1.2377      0.2159      
## year2017_team_DET                                                -0.9690      0.3326      
## year2017_team_GB                                                  1.8618      0.0627     *
## year2017_team_HOU                                                 1.5281      0.1266     .
## year2017_team_MIA                                                -1.3781      0.1683      
## year2017_team_MIN                                                -0.6396      0.5224      
## year2017_team_NE                                                 -0.1740      0.8619      
## year2017_team_SF                                                  1.9076      0.0565     *
## year2017_team_BAL                                                -0.2610      0.7941      
## year2017_team_DEN                                                -0.0342      0.9727      
## year2017_team_LA                                                  0.1502      0.8806      
## year2017_team_NYG                                                -0.5147      0.6068      
## year2017_team_OAK                                                -0.7935      0.4276      
## year2017_team_SEA                                                 0.3552      0.7224      
## year2017_team_CAR                                                 0.2204      0.8256      
## year2017_team_CIN                                                 0.3880      0.6980      
## year2017_team_IND                                                 0.7408      0.4588      
## year2017_team_NO                                                  0.3103      0.7563      
## year2017_team_PHI                                                 0.0460      0.9633      
## year2017_team_PIT                                                -1.2627      0.2068      
## year2017_team_TEN                                                 0.2113      0.8327      
## year2017_team_WAS                                                 0.2195      0.8263      
## year2017_team_KC                                                  1.4998      0.1338     .
## year2017_team_LAC                                                -0.1527      0.8786      
## year2017_team_NYJ                                                 0.6698      0.5031      
## year2017_team_TB                                                  0.1131      0.9100      
## year2017_team_ATL                                                -0.5020      0.6157      
## year2017_team_JAX                                                 0.3612      0.7180      
## year2018_team_ARI                                                 0.7125      0.4762      
## year2018_team_BAL                                                 0.5757      0.5648      
## year2018_team_CAR                                                 0.5162      0.6058      
## year2018_team_CLE                                                -0.2790      0.7803      
## year2018_team_DET                                                 0.5822      0.5605      
## year2018_team_HOU                                                 1.3386      0.1808      
## year2018_team_IND                                                -0.6818      0.4954      
## year2018_team_KC                                                  0.9182      0.3586      
## year2018_team_NYG                                                 0.3838      0.7011      
## year2018_team_OAK                                                -0.5524      0.5807      
## year2018_team_PHI                                                 0.6886      0.4911      
## year2018_team_SEA                                                -0.1118      0.9110      
## year2018_team_BUF                                                -0.4504      0.6524      
## year2018_team_CHI                                                -0.3674      0.7134      
## year2018_team_CIN                                                -0.3368      0.7363      
## year2018_team_DAL                                                -0.3097      0.7568      
## year2018_team_DEN                                                -0.0241      0.9807      
## year2018_team_GB                                                 -0.1170      0.9069      
## year2018_team_LAC                                                 0.3364      0.7366      
## year2018_team_NE                                                 -0.6795      0.4968      
## year2018_team_NO                                                  0.9074      0.3643      
## year2018_team_PIT                                                 0.4908      0.6236      
## year2018_team_SF                                                  0.7724      0.4399      
## year2018_team_MIA                                                 0.8542      0.3930      
## year2018_team_MIN                                                 0.4069      0.6841      
## year2018_team_NYJ                                                 0.7837      0.4333      
## year2018_team_TB                                                  0.3495      0.7267      
## year2018_team_ATL                                                 0.7264      0.4676      
## year2018_team_JAX                                                 0.3040      0.7612      
## year2018_team_LA                                                 -0.9384      0.3481      
## year2018_team_TEN                                                 0.6888      0.4910      
## year2018_team_WAS                                                -0.1038      0.9173      
## year2019_team_ARI                                                -0.6095      0.5422      
## year2019_team_BUF                                                -1.0675      0.2858      
## year2019_team_CHI                                                 0.3325      0.7396      
## year2019_team_CLE                                                 0.9351      0.3498      
## year2019_team_DAL                                                -0.2479      0.8042      
## year2019_team_IND                                                -0.5379      0.5907      
## year2019_team_JAX                                                 0.5176      0.6047      
## year2019_team_KC                                                 -0.2222      0.8241      
## year2019_team_LAC                                                -0.8847      0.3764      
## year2019_team_MIN                                                -0.4306      0.6668      
## year2019_team_NE                                                 -0.2620      0.7934      
## year2019_team_NO                                                 -1.2290      0.2192      
## year2019_team_PHI                                                 0.3167      0.7515      
## year2019_team_SEA                                                 0.1243      0.9011      
## year2019_team_SF                                                 -0.4374      0.6619      
## year2019_team_TB                                                 -1.1441      0.2526      
## year2019_team_BAL                                                -0.0356      0.9716      
## year2019_team_CAR                                                -0.4572      0.6476      
## year2019_team_DEN                                                 0.7993      0.4242      
## year2019_team_DET                                                -0.6943      0.4875      
## year2019_team_HOU                                                -0.1113      0.9114      
## year2019_team_LA                                                 -0.7873      0.4311      
## year2019_team_MIA                                                -1.9088      0.0564     *
## year2019_team_NYG                                                -0.9278      0.3536      
## year2019_team_NYJ                                                -1.6189      0.1055     .
## year2019_team_OAK                                                -0.2246      0.8223      
## year2019_team_PIT                                                -2.4668      0.0137    **
## year2019_team_TEN                                                -1.0969      0.2727      
## year2019_team_CIN                                                 0.4438      0.6572      
## year2019_team_WAS                                                -0.3319      0.7400      
## year2019_team_ATL                                                -0.1214      0.9034      
## year2019_team_GB                                                 -0.3148      0.7530      
## year2020_team_ATL                                                 0.0604      0.9518      
## year2020_team_BAL                                                 0.4196      0.6748      
## year2020_team_BUF                                                -0.1769      0.8596      
## year2020_team_CAR                                                 0.5801      0.5619      
## year2020_team_CIN                                                 0.2987      0.7652      
## year2020_team_DEN                                                -0.6069      0.5440      
## year2020_team_DET                                                -0.9368      0.3489      
## year2020_team_JAX                                                -0.6433      0.5201      
## year2020_team_KC                                                  0.1319      0.8950      
## year2020_team_LA                                                 -1.0953      0.2735      
## year2020_team_MIN                                                 0.8982      0.3691      
## year2020_team_NE                                                 -0.1811      0.8563      
## year2020_team_NO                                                  0.2485      0.8037      
## year2020_team_NYG                                                 0.1378      0.8904      
## year2020_team_SF                                                  0.1769      0.8596      
## year2020_team_WAS                                                 0.1247      0.9008      
## year2020_team_CHI                                                 0.3445      0.7305      
## year2020_team_DAL                                                -0.3082      0.7579      
## year2020_team_GB                                                 -0.0167      0.9867      
## year2020_team_HOU                                                -0.5431      0.5871      
## year2020_team_MIA                                                -1.0596      0.2894      
## year2020_team_NYJ                                                 0.0990      0.9211      
## year2020_team_TB                                                  0.2211      0.8250      
## year2020_team_TEN                                                -0.5286      0.5971      
## year2020_team_ARI                                                 0.3517      0.7251      
## year2020_team_CLE                                                -1.2960      0.1951      
## year2020_team_IND                                                -0.9069      0.3645      
## year2020_team_LAC                                                 0.1779      0.8588      
## year2020_team_PHI                                                 0.6693      0.5033      
## year2020_team_SEA                                                -0.1962      0.8445      
## year2020_team_LV                                                  0.6494      0.5161      
## year2020_team_PIT                                                -0.8226      0.4108      
## year2021_team_ATL                                                -1.9419      0.0522     *
## year2021_team_BUF                                                 0.3101      0.7565      
## year2021_team_CIN                                                -2.1219      0.0339    **
## year2021_team_DAL                                                -0.5856      0.5582      
## year2021_team_DEN                                                 0.5214      0.6021      
## year2021_team_DET                                                -0.7452      0.4562      
## year2021_team_KC                                                  0.1265      0.8994      
## year2021_team_LA                                                 -0.1788      0.8581      
## year2021_team_LV                                                  0.5910      0.5546      
## year2021_team_MIN                                                -0.6174      0.5370      
## year2021_team_NE                                                  0.3004      0.7639      
## year2021_team_NO                                                  0.0559      0.9554      
## year2021_team_NYG                                                 0.1710      0.8642      
## year2021_team_SF                                                 -0.2338      0.8151      
## year2021_team_TEN                                                -0.4281      0.6686      
## year2021_team_ARI                                                 0.5353      0.5925      
## year2021_team_BAL                                                 0.6060      0.5445      
## year2021_team_CAR                                                -0.7196      0.4718      
## year2021_team_CHI                                                -1.6964      0.0899     *
## year2021_team_GB                                                  0.7763      0.4376      
## year2021_team_IND                                                -0.3914      0.6955      
## year2021_team_LAC                                                 0.2536      0.7998      
## year2021_team_MIA                                                -0.0118      0.9906      
## year2021_team_NYJ                                                -0.0678      0.9460      
## year2021_team_PHI                                                -1.5249      0.1274     .
## year2021_team_SEA                                                -1.2583      0.2084      
## year2021_team_TB                                                  0.1503      0.8805      
## year2021_team_WAS                                                -0.8958      0.3704      
## year2021_team_CLE                                                -0.9764      0.3289      
## year2021_team_HOU                                                -0.3313      0.7404      
## year2021_team_JAX                                                -0.1725      0.8630      
## year2021_team_PIT                                                 0.1214      0.9034      
## year2022_team_ARI                                                -1.1280      0.2594      
## year2022_team_ATL                                                -1.8753      0.0608     *
## year2022_team_CAR                                                 1.0015      0.3167      
## year2022_team_CHI                                                -0.4358      0.6630      
## year2022_team_CIN                                                -0.8640      0.3877      
## year2022_team_HOU                                                -0.0423      0.9663      
## year2022_team_IND                                                -0.8930      0.3719      
## year2022_team_LAC                                                -0.6579      0.5107      
## year2022_team_MIA                                                -1.3554      0.1754      
## year2022_team_SEA                                                -0.1393      0.8892      
## year2022_team_TB                                                  0.2509      0.8019      
## year2022_team_TEN                                                 1.5124      0.1305     .
## year2022_team_WAS                                                -0.1031      0.9179      
## year2022_team_BAL                                                -1.2946      0.1956      
## year2022_team_BUF                                                 0.2334      0.8155      
## year2022_team_DAL                                                 0.1668      0.8676      
## year2022_team_DET                                                -0.7233      0.4695      
## year2022_team_GB                                                 -0.8404      0.4008      
## year2022_team_JAX                                                -1.1609      0.2458      
## year2022_team_KC                                                 -0.8200      0.4122      
## year2022_team_LA                                                  1.2710      0.2038      
## year2022_team_LV                                                  1.0674      0.2859      
## year2022_team_NO                                                 -0.1755      0.8607      
## year2022_team_PHI                                                 0.2438      0.8074      
## year2022_team_PIT                                                 1.4335      0.1518      
## year2022_team_DEN                                                 0.6537      0.5134      
## year2022_team_MIN                                                -1.0951      0.2735      
## year2022_team_NE                                                  0.0858      0.9316      
## year2022_team_NYJ                                                -0.6311      0.5280      
## year2022_team_NYG                                                -0.5966      0.5508      
## year2022_team_SF                                                 -1.1080      0.2679      
## year2023_team_BAL                                                -0.6835      0.4943      
## year2023_team_CHI                                                -0.9771      0.3286      
## year2023_team_CLE                                                -0.8149      0.4152      
## year2023_team_GB                                                  0.1428      0.8865      
## year2023_team_IND                                                 0.7818      0.4344      
## year2023_team_KC                                                  0.2625      0.7929      
## year2023_team_LAC                                                 0.3541      0.7233      
## year2023_team_LV                                                 -0.0166      0.9867      
## year2023_team_MIA                                                 0.1808      0.8565      
## year2023_team_MIN                                                 1.3140      0.1889      
## year2023_team_NO                                                 -0.3487      0.7273      
## year2023_team_NYG                                                 0.5885      0.5562      
## year2023_team_SEA                                                -1.7704      0.0767     *
## year2023_team_SF                                                  0.2654      0.7907      
## year2023_team_WAS                                                 1.5534      0.1204     .
## year2023_team_ATL                                                -0.8095      0.4183      
## year2023_team_BUF                                                -0.5487      0.5833      
## year2023_team_CAR                                                 0.3131      0.7542      
## year2023_team_DAL                                                 0.8187      0.4130      
## year2023_team_DEN                                                 0.2007      0.8409      
## year2023_team_HOU                                                 0.1100      0.9124      
## year2023_team_LA                                                  0.1062      0.9154      
## year2023_team_NE                                                  0.2999      0.7643      
## year2023_team_PHI                                                -0.0626      0.9501      
## year2023_team_PIT                                                 0.0878      0.9300      
## year2023_team_TEN                                                 0.0957      0.9238      
## year2023_team_ARI                                                -1.1036      0.2698      
## year2023_team_CIN                                                -1.0414      0.2978      
## year2023_team_DET                                                 0.1332      0.8941      
## year2023_team_TB                                                  0.6442      0.5195      
## year2023_team_JAX                                                -0.4643      0.6424      
## year2023_team_NYJ                                                 1.5039      0.1327     .
## is_first_half                                                    -0.8978      0.3693      
## time_in_half                                                      1.6801      0.0930     *
## home_attendance                                                  -0.3344      0.7381      
## GIMR                                                              1.7979      0.0723     *
## 
## Significance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15
## 
## Adjusted R-squared: 0.1091907 
## 
## Variables with VIF &gt; 5:
##         prev_shotgun_rate      prev_singleback_rate               cover1_rate 
##                  9.516474                  5.544659                  6.451361 
##               cover3_rate offense_formation_SHOTGUN           home_attendance 
##                  7.139464                  6.777828                 14.136629</code></pre>
<pre class="r"><code>r2_starter &lt;- analyze_model(ols_model_starter, &quot;Starter Model with GIMR&quot;)</code></pre>
<pre><code>## 
## 
##  ================================================================================ 
## MODEL: Starter Model with GIMR 
## ================================================================================ 
## 
## Variable                                                         t-value     p-value   sig
## ---------                                                        -------     -------  ----
## (Intercept)                                                       3.0680      0.0022   ***
## ydstogo                                                         -13.0042      0.0000   ***
## posteam_timeouts_remaining                                        0.9728      0.3307      
## defteam_timeouts_remaining                                        1.0904      0.2756      
## rush_attempt                                                      7.1757      0.0000   ***
## week                                                              0.5825      0.5603      
## temp                                                             -0.8294      0.4070      
## wind                                                              0.8685      0.3852      
## vegas_wp                                                          0.9710      0.3316      
## spread_line                                                      -0.4858      0.6271      
## total_line                                                        2.1015      0.0357    **
## prep_days                                                         0.7242      0.4690      
## overall_win_pct                                                   0.1152      0.9083      
## team_win_pct                                                      1.5541      0.1202     .
## prev_win_pct                                                     -2.8821      0.0040   ***
## prev_shotgun_rate                                                 0.5182      0.6044      
## prev_singleback_rate                                              0.6335      0.5265      
## prev_empty_rate                                                   1.1998      0.2303      
## prev_iform_rate                                                   0.4752      0.6347      
## prev_shotgun_success                                              0.6239      0.5327      
## prev_singleback_success                                           0.9839      0.3252      
## prev_empty_success                                                0.2669      0.7896      
## prev_iform_success                                                2.6861      0.0073   ***
## prev_stop_rate_run                                               -0.2295      0.8185      
## prev_stop_rate_pass                                              -3.5570      0.0004   ***
## shotgun_rate                                                      1.0319      0.3022      
## singleback_rate                                                   0.3866      0.6990      
## empty_rate                                                        0.0457      0.9635      
## iform_rate                                                       -1.5982      0.1101     .
## shotgun_success                                                  -2.4428      0.0146    **
## singleback_success                                               -1.2762      0.2020      
## empty_success                                                    -0.8301      0.4066      
## iform_success                                                    -1.3485      0.1776      
## def_stop_rate_run                                                 1.9232      0.0545     *
## def_stop_rate_pass                                               -1.5024      0.1331     .
## avg_pass_rushers                                                 -0.9483      0.3430      
## avg_box_defenders                                                -0.5231      0.6009      
## cover0_rate                                                       0.1173      0.9066      
## cover1_rate                                                      -0.5729      0.5667      
## cover2_rate                                                      -0.5009      0.6164      
## cover3_rate                                                       1.0109      0.3121      
## cover4_rate                                                       0.9860      0.3242      
## cover6_rate                                                      -0.6370      0.5242      
## two_man_rate                                                      1.3140      0.1889      
## prevent_rate                                                      2.9583      0.0031   ***
## roof_outdoors                                                     0.0898      0.9285      
## posteam_type_home                                                -1.3815      0.1672      
## offense_formation_EMPTY                                           0.1646      0.8693      
## offense_formation_SHOTGUN                                        -0.1930      0.8470      
## offense_formation_SINGLEBACK                                     -0.6305      0.5284      
## offense_formation_I_FORM                                         -0.7227      0.4699      
## starter_offense_player_1_passing_depth_short_grades_pass_12w      2.1662      0.0304    **
## starter_offense_player_1_passing_depth_medium_grades_pass...     -0.1976      0.8434      
## starter_offense_player_1_passing_depth_deep_grades_pass_12w       0.3354      0.7373      
## starter_offense_player_1_rushing_grades_grades_run_12w           -0.9031      0.3666      
## starter_offense_player_4_rushing_grades_first_downs_12w           0.7079      0.4791      
## starter_offense_player_4_pass_blocking_true_pass_set_grad...     -0.8910      0.3730      
## starter_offense_player_8_receiving_depth_medium_yprr_12w         -2.6248      0.0087   ***
## starter_offense_player_8_blocking_grades_block_percent_12w        0.1726      0.8630      
## starter_offense_player_8_receiving_grades_first_downs_12w         1.5236      0.1277     .
## starter_offense_player_9_receiving_depth_medium_yprr_12w         -1.9387      0.0526     *
## starter_offense_player_9_blocking_grades_block_percent_12w       -0.3036      0.7614      
## starter_offense_player_9_receiving_grades_first_downs_12w         0.5030      0.6150      
## starter_offense_player_10_receiving_depth_medium_yprr_12w        -0.1985      0.8426      
## starter_offense_player_10_blocking_grades_block_percent_12w      -0.6417      0.5211      
## starter_offense_player_10_receiving_grades_first_downs_12w       -1.0443      0.2964      
## starter_offense_player_14_receiving_grades_first_downs_12w       -0.3277      0.7432      
## starter_offense_player_14_blocking_grades_pass_block_perc...      0.5700      0.5687      
## starter_offense_player_17_blocking_grades_grades_offense_12w      3.0288      0.0025   ***
## starter_offense_player_18_blocking_grades_grades_offense_12w     -1.1743      0.2404      
## starter_offense_player_19_blocking_grades_grades_offense_12w      0.2663      0.7901      
## starter_offense_player_20_blocking_grades_grades_offense_12w      0.7168      0.4736      
## starter_offense_player_21_blocking_grades_grades_offense_12w     -1.3029      0.1927      
## starter_defense_player_1_pass_rushing_productivity_hurrie...     -2.0822      0.0374    **
## starter_defense_player_1_run_defense_grades_stops_12w            -0.9361      0.3493      
## starter_defense_player_2_pass_rushing_productivity_hurrie...      1.0799      0.2802      
## starter_defense_player_2_run_defense_grades_stops_12w             0.2234      0.8232      
## starter_defense_player_3_pass_rushing_productivity_hurrie...      0.0478      0.9619      
## starter_defense_player_3_run_defense_grades_stops_12w             0.7619      0.4462      
## starter_defense_player_4_pass_rushing_productivity_hurrie...     -0.1570      0.8752      
## starter_defense_player_4_run_defense_grades_stops_12w             0.0751      0.9402      
## starter_defense_player_9_pass_rushing_productivity_hurrie...      1.7373      0.0824     *
## starter_defense_player_9_run_defense_grades_stops_12w            -1.5276      0.1267     .
## starter_defense_player_9_coverage_schemes_zone_stops_12w          0.0100      0.9920      
## starter_defense_player_10_pass_rushing_productivity_hurri...      0.4600      0.6455      
## starter_defense_player_10_run_defense_grades_stops_12w           -0.7546      0.4506      
## starter_defense_player_10_coverage_schemes_zone_stops_12w         0.2965      0.7669      
## starter_defense_player_11_pass_rushing_productivity_hurri...      1.7159      0.0863     *
## starter_defense_player_11_run_defense_grades_stops_12w           -0.9439      0.3453      
## starter_defense_player_11_coverage_schemes_zone_stops_12w        -1.4589      0.1447     .
## starter_defense_player_12_pass_rushing_productivity_hurri...     -0.5924      0.5536      
## starter_defense_player_12_run_defense_grades_stops_12w            0.1823      0.8553      
## starter_defense_player_12_coverage_schemes_zone_stops_12w        -0.2518      0.8012      
## starter_defense_player_15_defensive_grades_receptions_12w        -0.2973      0.7663      
## starter_defense_player_15_coverage_grades_stops_12w               0.8633      0.3881      
## starter_defense_player_16_defensive_grades_receptions_12w        -0.6323      0.5273      
## starter_defense_player_16_coverage_grades_stops_12w              -1.4339      0.1517      
## starter_defense_player_17_defensive_grades_receptions_12w        -0.8856      0.3759      
## starter_defense_player_17_coverage_grades_stops_12w               0.3374      0.7358      
## starter_defense_player_20_defensive_grades_receptions_12w        -0.8456      0.3979      
## starter_defense_player_20_coverage_grades_stops_12w               0.9861      0.3241      
## starter_defense_player_21_defensive_grades_receptions_12w        -1.5726      0.1159     .
## starter_defense_player_21_coverage_grades_stops_12w               0.2573      0.7970      
## starter_defense_player_22_defensive_grades_receptions_12w         1.4641      0.1432     .
## starter_defense_player_22_coverage_grades_stops_12w              -1.6964      0.0899     *
## yardline_1_10                                                    -2.5442      0.0110    **
## yardline_11_20                                                    0.0955      0.9239      
## yardline_21_30                                                    0.0216      0.9828      
## yardline_41_50                                                    1.7040      0.0885     *
## yardline_51_60                                                    0.6625      0.5077      
## yardline_61_70                                                    1.2787      0.2011      
## yardline_71_80                                                    1.4715      0.1412     .
## yardline_81_90                                                    2.0035      0.0452    **
## yardline_91_100                                                   1.1841      0.2365      
## year2017_team_ARI                                                 0.3822      0.7024      
## year2017_team_BUF                                                -0.6160      0.5379      
## year2017_team_CHI                                                -0.1083      0.9138      
## year2017_team_CLE                                                 0.8723      0.3831      
## year2017_team_DAL                                                -1.0457      0.2958      
## year2017_team_DET                                                -0.1998      0.8417      
## year2017_team_GB                                                  2.1578      0.0310    **
## year2017_team_HOU                                                 1.5610      0.1186     .
## year2017_team_MIA                                                -0.6515      0.5147      
## year2017_team_MIN                                                -0.3772      0.7060      
## year2017_team_NE                                                 -0.0294      0.9766      
## year2017_team_SF                                                  1.8714      0.0614     *
## year2017_team_BAL                                                -0.1089      0.9133      
## year2017_team_DEN                                                 0.1397      0.8889      
## year2017_team_LA                                                  0.6557      0.5121      
## year2017_team_NYG                                                -0.0148      0.9882      
## year2017_team_OAK                                                -0.5159      0.6059      
## year2017_team_SEA                                                 0.7913      0.4288      
## year2017_team_CAR                                                 0.4122      0.6802      
## year2017_team_CIN                                                 0.8322      0.4054      
## year2017_team_IND                                                 1.0775      0.2813      
## year2017_team_NO                                                  0.4525      0.6510      
## year2017_team_PHI                                                 0.1223      0.9027      
## year2017_team_PIT                                                -0.7454      0.4561      
## year2017_team_TEN                                                 0.4163      0.6772      
## year2017_team_WAS                                                 0.3118      0.7552      
## year2017_team_KC                                                  1.8442      0.0652     *
## year2017_team_LAC                                                 0.1337      0.8936      
## year2017_team_NYJ                                                 0.9193      0.3580      
## year2017_team_TB                                                  0.2972      0.7663      
## year2017_team_ATL                                                -0.1804      0.8568      
## year2017_team_JAX                                                 0.7268      0.4674      
## year2018_team_ARI                                                 0.9564      0.3389      
## year2018_team_BAL                                                 0.7189      0.4723      
## year2018_team_CAR                                                 0.7435      0.4572      
## year2018_team_CLE                                                -0.1544      0.8773      
## year2018_team_DET                                                 0.7963      0.4259      
## year2018_team_HOU                                                 1.2431      0.2139      
## year2018_team_IND                                                -0.4613      0.6446      
## year2018_team_KC                                                  1.0102      0.3125      
## year2018_team_NYG                                                 0.8093      0.4184      
## year2018_team_OAK                                                -0.3257      0.7447      
## year2018_team_PHI                                                 0.5468      0.5845      
## year2018_team_SEA                                                 0.1539      0.8777      
## year2018_team_BUF                                                -0.1516      0.8795      
## year2018_team_CHI                                                 0.1355      0.8922      
## year2018_team_CIN                                                -0.1718      0.8636      
## year2018_team_DAL                                                 0.0156      0.9876      
## year2018_team_DEN                                                 0.3834      0.7014      
## year2018_team_GB                                                  0.1686      0.8662      
## year2018_team_LAC                                                 0.7297      0.4656      
## year2018_team_NE                                                 -0.5763      0.5644      
## year2018_team_NO                                                  0.8346      0.4040      
## year2018_team_PIT                                                 0.4749      0.6349      
## year2018_team_SF                                                  0.4496      0.6530      
## year2018_team_MIA                                                 1.2949      0.1954      
## year2018_team_MIN                                                 0.4861      0.6269      
## year2018_team_NYJ                                                 0.8639      0.3877      
## year2018_team_TB                                                  0.2466      0.8052      
## year2018_team_ATL                                                 0.5462      0.5850      
## year2018_team_JAX                                                 0.8108      0.4175      
## year2018_team_LA                                                 -0.5829      0.5600      
## year2018_team_TEN                                                 1.0351      0.3007      
## year2018_team_WAS                                                 0.2276      0.8200      
## year2019_team_ARI                                                -0.5920      0.5539      
## year2019_team_BUF                                                -0.8857      0.3758      
## year2019_team_CHI                                                 0.4907      0.6236      
## year2019_team_CLE                                                 0.5476      0.5840      
## year2019_team_DAL                                                -0.2125      0.8317      
## year2019_team_IND                                                -0.6550      0.5125      
## year2019_team_JAX                                                 0.9319      0.3515      
## year2019_team_KC                                                  0.1495      0.8812      
## year2019_team_LAC                                                -0.4515      0.6516      
## year2019_team_MIN                                                -0.5516      0.5812      
## year2019_team_NE                                                 -0.1209      0.9037      
## year2019_team_NO                                                 -1.0669      0.2861      
## year2019_team_PHI                                                 0.4511      0.6520      
## year2019_team_SEA                                                 0.3012      0.7633      
## year2019_team_SF                                                 -0.0560      0.9553      
## year2019_team_TB                                                 -0.9168      0.3593      
## year2019_team_BAL                                                -0.0313      0.9750      
## year2019_team_CAR                                                -0.4664      0.6410      
## year2019_team_DEN                                                 0.9523      0.3410      
## year2019_team_DET                                                -0.6334      0.5265      
## year2019_team_HOU                                                -0.0542      0.9568      
## year2019_team_LA                                                 -0.6874      0.4919      
## year2019_team_MIA                                                -1.6073      0.1081     .
## year2019_team_NYG                                                -0.8482      0.3964      
## year2019_team_NYJ                                                -1.3387      0.1808      
## year2019_team_OAK                                                 0.0119      0.9905      
## year2019_team_PIT                                                -2.8566      0.0043   ***
## year2019_team_TEN                                                -0.9204      0.3574      
## year2019_team_CIN                                                 0.1012      0.9194      
## year2019_team_WAS                                                -0.1883      0.8506      
## year2019_team_ATL                                                 0.1467      0.8834      
## year2019_team_GB                                                 -0.2885      0.7730      
## year2020_team_ATL                                                 0.3223      0.7472      
## year2020_team_BAL                                                 0.8050      0.4208      
## year2020_team_BUF                                                 0.0918      0.9269      
## year2020_team_CAR                                                 0.9340      0.3504      
## year2020_team_CIN                                                 0.6803      0.4964      
## year2020_team_DEN                                                 0.1832      0.8547      
## year2020_team_DET                                                -0.1612      0.8720      
## year2020_team_JAX                                                -0.3154      0.7525      
## year2020_team_KC                                                  0.3861      0.6995      
## year2020_team_LA                                                 -0.9576      0.3383      
## year2020_team_MIN                                                 1.3043      0.1922      
## year2020_team_NE                                                  0.0144      0.9885      
## year2020_team_NO                                                  0.3847      0.7005      
## year2020_team_NYG                                                 0.3476      0.7281      
## year2020_team_SF                                                  0.4367      0.6623      
## year2020_team_WAS                                                 0.5929      0.5533      
## year2020_team_CHI                                                 0.6395      0.5226      
## year2020_team_DAL                                                 0.2410      0.8096      
## year2020_team_GB                                                  0.2681      0.7886      
## year2020_team_HOU                                                -0.7394      0.4597      
## year2020_team_MIA                                                -0.9095      0.3631      
## year2020_team_NYJ                                                 0.4403      0.6598      
## year2020_team_TB                                                  0.3627      0.7169      
## year2020_team_TEN                                                -0.3599      0.7190      
## year2020_team_ARI                                                 0.7182      0.4727      
## year2020_team_CLE                                                -1.1361      0.2560      
## year2020_team_IND                                                -0.6000      0.5485      
## year2020_team_LAC                                                 0.2021      0.8399      
## year2020_team_PHI                                                 1.2289      0.2192      
## year2020_team_SEA                                                -0.1131      0.9100      
## year2020_team_LV                                                  0.9110      0.3623      
## year2020_team_PIT                                                -0.4002      0.6890      
## year2021_team_ATL                                                -1.6988      0.0894     *
## year2021_team_BUF                                                 0.1933      0.8467      
## year2021_team_CIN                                                -1.6539      0.0982     *
## year2021_team_DAL                                                -0.3774      0.7059      
## year2021_team_DEN                                                 1.1389      0.2548      
## year2021_team_DET                                                -0.4847      0.6279      
## year2021_team_KC                                                  0.3288      0.7423      
## year2021_team_LA                                                  0.0305      0.9757      
## year2021_team_LV                                                  0.9436      0.3455      
## year2021_team_MIN                                                -0.5122      0.6086      
## year2021_team_NE                                                  0.4894      0.6246      
## year2021_team_NO                                                  0.0720      0.9426      
## year2021_team_NYG                                                 0.1523      0.8790      
## year2021_team_SF                                                  0.2172      0.8281      
## year2021_team_TEN                                                -0.4227      0.6725      
## year2021_team_ARI                                                 0.9266      0.3542      
## year2021_team_BAL                                                 0.8396      0.4012      
## year2021_team_CAR                                                -0.4550      0.6492      
## year2021_team_CHI                                                -1.5207      0.1284     .
## year2021_team_GB                                                  1.2489      0.2118      
## year2021_team_IND                                                -0.1534      0.8781      
## year2021_team_LAC                                                 0.0114      0.9909      
## year2021_team_MIA                                                 0.1174      0.9065      
## year2021_team_NYJ                                                -0.1601      0.8728      
## year2021_team_PHI                                                -1.3637      0.1728      
## year2021_team_SEA                                                -0.9983      0.3182      
## year2021_team_TB                                                  0.1743      0.8616      
## year2021_team_WAS                                                -0.5723      0.5672      
## year2021_team_CLE                                                -0.7208      0.4711      
## year2021_team_HOU                                                -0.5494      0.5828      
## year2021_team_JAX                                                 0.0640      0.9490      
## year2021_team_PIT                                                 0.5788      0.5628      
## year2022_team_ARI                                                -0.6207      0.5348      
## year2022_team_ATL                                                -1.5682      0.1169     .
## year2022_team_CAR                                                 1.1740      0.2405      
## year2022_team_CHI                                                 0.1333      0.8939      
## year2022_team_CIN                                                -0.6221      0.5339      
## year2022_team_HOU                                                 0.0777      0.9381      
## year2022_team_IND                                                -0.3804      0.7037      
## year2022_team_LAC                                                -0.4050      0.6855      
## year2022_team_MIA                                                -1.0625      0.2881      
## year2022_team_SEA                                                -0.0038      0.9969      
## year2022_team_TB                                                  0.3417      0.7326      
## year2022_team_TEN                                                 1.6574      0.0975     *
## year2022_team_WAS                                                 0.3069      0.7589      
## year2022_team_BAL                                                -1.1311      0.2581      
## year2022_team_BUF                                                 0.6698      0.5030      
## year2022_team_DAL                                                 0.3904      0.6962      
## year2022_team_DET                                                 0.0332      0.9735      
## year2022_team_GB                                                 -0.6480      0.5170      
## year2022_team_JAX                                                -0.8409      0.4004      
## year2022_team_KC                                                 -0.5871      0.5572      
## year2022_team_LA                                                  1.6146      0.1065     .
## year2022_team_LV                                                  1.3396      0.1805      
## year2022_team_NO                                                 -0.0818      0.9348      
## year2022_team_PHI                                                 0.6832      0.4945      
## year2022_team_PIT                                                 2.0160      0.0439    **
## year2022_team_DEN                                                 0.9408      0.3469      
## year2022_team_MIN                                                -0.7666      0.4434      
## year2022_team_NE                                                  0.2953      0.7677      
## year2022_team_NYJ                                                -0.8013      0.4230      
## year2022_team_NYG                                                -0.3472      0.7285      
## year2022_team_SF                                                 -0.8173      0.4138      
## year2023_team_BAL                                                 0.1108      0.9118      
## year2023_team_CHI                                                -0.5771      0.5639      
## year2023_team_CLE                                                -0.5289      0.5969      
## year2023_team_GB                                                  0.6179      0.5367      
## year2023_team_IND                                                 1.3138      0.1890      
## year2023_team_KC                                                  0.5214      0.6021      
## year2023_team_LAC                                                 0.6413      0.5214      
## year2023_team_LV                                                  0.1108      0.9118      
## year2023_team_MIA                                                 0.5647      0.5723      
## year2023_team_MIN                                                 1.9388      0.0526     *
## year2023_team_NO                                                 -0.0566      0.9548      
## year2023_team_NYG                                                 0.9193      0.3580      
## year2023_team_SEA                                                -1.6274      0.1037     .
## year2023_team_SF                                                  0.7469      0.4551      
## year2023_team_WAS                                                 1.5232      0.1278     .
## year2023_team_ATL                                                -0.4584      0.6467      
## year2023_team_BUF                                                -0.3661      0.7143      
## year2023_team_CAR                                                 0.6179      0.5367      
## year2023_team_DAL                                                 1.0951      0.2736      
## year2023_team_DEN                                                 0.3151      0.7527      
## year2023_team_HOU                                                 0.2807      0.7789      
## year2023_team_LA                                                  0.0441      0.9649      
## year2023_team_NE                                                  0.5895      0.5556      
## year2023_team_PHI                                                 0.0215      0.9829      
## year2023_team_PIT                                                 0.0341      0.9728      
## year2023_team_TEN                                                 0.3054      0.7601      
## year2023_team_ARI                                                -0.8172      0.4139      
## year2023_team_CIN                                                -0.7688      0.4420      
## year2023_team_DET                                                 0.4922      0.6226      
## year2023_team_TB                                                  1.2383      0.2157      
## year2023_team_JAX                                                 0.1134      0.9097      
## year2023_team_NYJ                                                 1.8918      0.0586     *
## is_first_half                                                    -0.6284      0.5298      
## time_in_half                                                      1.6676      0.0955     *
## home_attendance                                                  -0.1960      0.8446      
## GIMR                                                              1.9801      0.0478    **
## 
## Significance codes: 0 &#39;***&#39; 0.01 &#39;**&#39; 0.05 &#39;*&#39; 0.1 &#39;.&#39; 0.15
## 
## Adjusted R-squared: 0.111706 
## 
## Variables with VIF &gt; 5:
##                                             prev_shotgun_rate 
##                                                      9.880322 
##                                          prev_singleback_rate 
##                                                      5.649719 
##                                               prev_iform_rate 
##                                                      5.054955 
##                                                   cover1_rate 
##                                                      6.220857 
##                                                   cover3_rate 
##                                                      6.465757 
##                                     offense_formation_SHOTGUN 
##                                                      5.638419 
##  starter_offense_player_1_passing_depth_short_grades_pass_12w 
##                                                     16.448401 
## starter_offense_player_1_passing_depth_medium_grades_pass_12w 
##                                                      8.916748 
##   starter_offense_player_1_passing_depth_deep_grades_pass_12w 
##                                                      7.395895 
##        starter_offense_player_1_rushing_grades_grades_run_12w 
##                                                      8.759015 
##    starter_offense_player_8_blocking_grades_block_percent_12w 
##                                                      6.524048 
##  starter_offense_player_17_blocking_grades_grades_offense_12w 
##                                                     11.480641 
##  starter_offense_player_18_blocking_grades_grades_offense_12w 
##                                                     11.881943 
##  starter_offense_player_19_blocking_grades_grades_offense_12w 
##                                                     10.045466 
##  starter_offense_player_20_blocking_grades_grades_offense_12w 
##                                                     11.580387 
##  starter_offense_player_21_blocking_grades_grades_offense_12w 
##                                                     10.049651 
##                                               home_attendance 
##                                                     13.937493</code></pre>
<pre class="r"><code># Compare R-squared values
cat(&quot;\n\n&quot;, paste(rep(&quot;=&quot;, 80), collapse=&quot;&quot;), &quot;\n&quot;)</code></pre>
<pre><code>## 
## 
##  ================================================================================</code></pre>
<pre class="r"><code>cat(&quot;MODEL COMPARISON - Adjusted R-squared values\n&quot;)</code></pre>
<pre><code>## MODEL COMPARISON - Adjusted R-squared values</code></pre>
<pre class="r"><code>cat(paste(rep(&quot;=&quot;, 80), collapse=&quot;&quot;), &quot;\n\n&quot;)</code></pre>
<pre><code>## ================================================================================</code></pre>
<pre class="r"><code>cat(&quot;Player Model with GIMR:&quot;, r2_player, &quot;\n&quot;)</code></pre>
<pre><code>## Player Model with GIMR: 0.1091907</code></pre>
<pre class="r"><code>cat(&quot;Starter Model with GIMR:&quot;, r2_starter, &quot;\n&quot;)</code></pre>
<pre><code>## Starter Model with GIMR: 0.111706</code></pre>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkhlY2ttYW4gU2VsZWN0aW9uIE1vZGVsIEFuYWx5c2lzIg0Kb3V0cHV0OiBodG1sX2RvY3VtZW50DQotLS0NCg0KYGBge3Igb3B0aW9ucywgaW5jbHVkZT1GQUxTRX0NCm9wdGlvbnMobWF4LnByaW50PTEwMDAwKQ0KYGBgDQoNCmBgYHtyfQ0KbGlicmFyeShkYXRhLnRhYmxlKQ0Kb3V0Y29tZV9kYXRhIDwtIGZyZWFkKCJwcmVkaWN0X291dGNvbWUuY3N2Lmd6IikNCnNlbGVjdF9kYXRhIDwtIGZyZWFkKCJwcmVkaWN0X3NlbGVjdC5jc3YuZ3oiKQ0KYGBgDQoNCmBgYHtyfQ0Kc2VsZWN0X2RhdGFbLCBzY29yZV9kaWZmIDo9IGFzLmludGVnZXIoc2NvcmVfZGlmZiA+IDApXQ0KYGBgDQoNCg0KYGBge3J9DQpzZWxlY3RfZGF0YVssIGF0dGVtcHQgOj0gYXMubnVtZXJpYyhhcy5jaGFyYWN0ZXIoYXR0ZW1wdCkpXQ0KYGBgDQoNCmBgYHtyfQ0KbGlicmFyeShkYXRhLnRhYmxlKQ0KbGlicmFyeSh4Z2Jvb3N0KQ0KbGlicmFyeShST0NSKQ0KbGlicmFyeShwYXJhbGxlbCkNCg0KIyBQcmVwYXJlIHRoZSBYR0Jvb3N0IG1hdHJpY2VzDQp4cyA8LSBtb2RlbC5tYXRyaXgofiAuIC0gMSAtIGF0dGVtcHQgLSBteV9pZCwgZGF0YSA9IHNlbGVjdF9kYXRhKQ0KeSA8LSBhcy5udW1lcmljKGFzLmNoYXJhY3RlcihzZWxlY3RfZGF0YSRhdHRlbXB0KSkNCg0KDQojIENyZWF0ZSBwYXJhbWV0ZXIgZ3JpZA0KZ3JpZCA8LSBleHBhbmQuZ3JpZCgNCiAgZXRhID0gc2VxKDAuMDAxLCAwLjA1LCBieSA9IDAuMDEpLA0KICBtYXhfZGVwdGggPSBzZXEoNSwgNywgYnkgPSAyKSwNCiAgbWluX2NoaWxkX3dlaWdodCA9IHNlcSgxLCAxLCBieSA9IDEpLCAgICAgICAgDQogIHN1YnNhbXBsZSA9IHNlcSgxLCAxLCBieSA9IDAuMiksDQogIGNvbHNhbXBsZV9ieXRyZWUgPSBzZXEoMSwgMSwgYnkgPSAwLjIpLA0KICBsYW1iZGEgPSBzZXEoMSwgMSwgYnkgPSAxKSwgICAgICAgICAgICAgICAgDQogIGFscGhhID0gc2VxKDAsIDAsIGJ5ID0gMSksICAgICAgICAgICAgICAgICAgDQogIGdhbW1hID0gc2VxKDAsIDAsIGJ5ID0gMC4xKSwgICAgICAgICAgICAgICANCiAgbnJvdW5kcyA9IHNlcSgxMDAsIDMwMCwgYnkgPSA1MCkNCikNCg0KDQojIFNhbXBsZSBncmlkIHBvaW50cw0KY29uZl9sZXYgPC0gLjk1DQpudW1fbWF4IDwtIDUNCm4gPC0gY2VpbGluZyhsb2coMS1jb25mX2xldikvbG9nKDEtbnVtX21heC9ucm93KGdyaWQpKSkNCmluZCA8LSBzYW1wbGUobnJvdyhncmlkKSwgbiwgcmVwbGFjZSA9IEZBTFNFKQ0KcmdyaWQgPC0gZ3JpZFtpbmQsIF0NCg0KIyBTZXQgdXAgcGFyYWxsZWwgcHJvY2Vzc2luZw0KbmMgPC0gZGV0ZWN0Q29yZXMoKSAtIDENCg0KIyBDYWxjdWxhdGUgc2NhbGVfcG9zX3dlaWdodCBmb3IgaW1iYWxhbmNlZCBkYXRhc2V0DQpzY2FsZV9wb3Nfd2VpZ2h0IDwtIHN1bSh5ID09IDApIC8gc3VtKHkgPT0gMSkNCg0KIyBWYWxpZGF0aW9uIHBoYXNlDQojY2F0KCJcblBoYXNlIDE6IFZhbGlkYXRpb24gUGhhc2VcbiIpDQpuX3ZhbGlkYXRpb25zIDwtIDUNCnZhbGlkYXRpb25fcmVzdWx0cyA8LSBtYXRyaXgobnJvdyA9IG5yb3cocmdyaWQpLCBuY29sID0gbl92YWxpZGF0aW9ucykNCg0KZm9yIChqIGluIDE6bnJvdyhyZ3JpZCkpIHsNCiAgI2NhdCgiXG5UZXN0aW5nIHBhcmFtZXRlciBzZXQiLCBqLCAib2YiLCBucm93KHJncmlkKSwgIlxuIikNCiAgDQogIGZvciAoaSBpbiAxOm5fdmFsaWRhdGlvbnMpIHsNCiAgICAjY2F0KCJcblZhbGlkYXRpb24gaXRlcmF0aW9uIiwgaSwgIm9mIiwgbl92YWxpZGF0aW9ucywgIlxuIikgICAgICAgICAgICAgDQogICAgIyBDcmVhdGUgdmFsaWRhdGlvbiBzcGxpdA0KICAgIGlkeCA8LSB1bmlxdWUoc2FtcGxlKG5yb3coeHMpLCBucm93KHhzKSwgVFJVRSkpDQogICAgdHJhaW5feCA8LSB4c1tpZHgsIF0NCiAgICB0cmFpbl95IDwtIHlbaWR4XQ0KICAgIHZhbF94IDwtIHhzWy1pZHgsIF0NCiAgICB2YWxfeSA8LSB5Wy1pZHhdDQogICAgDQogICAgcHJtIDwtIGxpc3QoDQogICAgICBib29zdGVyID0gImdidHJlZSIsDQogICAgICBvYmplY3RpdmUgPSAiYmluYXJ5OmxvZ2lzdGljIiwNCiAgICAgIG1heF9kZXB0aCA9IHJncmlkW2osICJtYXhfZGVwdGgiXSwNCiAgICAgIGV0YSA9IHJncmlkW2osICJldGEiXSwNCiAgICAgIHN1YnNhbXBsZSA9IHJncmlkW2osICJzdWJzYW1wbGUiXSwNCiAgICAgIGNvbHNhbXBsZV9ieXRyZWUgPSByZ3JpZFtqLCAiY29sc2FtcGxlX2J5dHJlZSJdLA0KICAgICAgZ2FtbWEgPSByZ3JpZFtqLCAiZ2FtbWEiXSwNCiAgICAgIG1pbl9jaGlsZF93ZWlnaHQgPSByZ3JpZFtqLCAibWluX2NoaWxkX3dlaWdodCJdLA0KICAgICAgYWxwaGEgPSByZ3JpZFtqLCAiYWxwaGEiXSwNCiAgICAgIGxhbWJkYSA9IHJncmlkW2osICJsYW1iZGEiXSwNCiAgICAgIHNjYWxlX3Bvc193ZWlnaHQgPSBzY2FsZV9wb3Nfd2VpZ2h0LA0KICAgICAgbnRocmVhZCA9IG5jDQogICAgKQ0KICAgIA0KICAgIGRtX3RyYWluIDwtIHhnYi5ETWF0cml4KGRhdGEgPSB0cmFpbl94LCBsYWJlbCA9IHRyYWluX3kpDQogICAgbWRsIDwtIHhnYi50cmFpbigNCiAgICAgIHBhcmFtcyA9IHBybSwNCiAgICAgIGRhdGEgPSBkbV90cmFpbiwNCiAgICAgIG5yb3VuZHMgPSByZ3JpZFtqLCAibnJvdW5kcyJdLA0KICAgICAgdmVyYm9zZSA9IEZBTFNFDQogICAgKQ0KICAgIA0KICAgIHAgPC0gcHJlZGljdChtZGwsIHhnYi5ETWF0cml4KGRhdGEgPSB2YWxfeCkpDQogICAgcHJlZCA8LSBwcmVkaWN0aW9uKHAsIHZhbF95KQ0KICAgIHZhbGlkYXRpb25fcmVzdWx0c1tqLCBpXSA8LSBwZXJmb3JtYW5jZShwcmVkLCAiYXVjIilAeS52YWx1ZXNbWzFdXQ0KICB9DQp9DQoNCiMgUnVuIDEwMCB0ZXN0cyB3aXRoIGJlc3QgcGFyYW1ldGVycw0KY2F0KCJcblJ1bm5pbmcgWCB0ZXN0IGl0ZXJhdGlvbnMgd2l0aCBiZXN0IHBhcmFtZXRlcnMuLi5cbiIpDQp0ZXN0X2F1Y3MgPC0gYygpDQoNCmJlc3RfcGFyYW1zX2lkeCA8LSB3aGljaC5tYXgocm93TWVhbnModmFsaWRhdGlvbl9yZXN1bHRzKSkNCmJlc3RfcGFyYW1zIDwtIHJncmlkW2Jlc3RfcGFyYW1zX2lkeCxdDQoNCiMgVHJhaW4gZmluYWwgbW9kZWwgd2l0aCBiZXN0IHBhcmFtZXRlcnMNCmJlc3RfcGFyYW1zX2xpc3QgPC0gYXMubGlzdChiZXN0X3BhcmFtc1std2hpY2gobmFtZXMoYmVzdF9wYXJhbXMpID09ICJucm91bmRzIildKQ0KYmVzdF9wYXJhbXNfbGlzdCRib29zdGVyIDwtICJnYnRyZWUiDQpiZXN0X3BhcmFtc19saXN0JG9iamVjdGl2ZSA8LSAiYmluYXJ5OmxvZ2lzdGljIg0KYmVzdF9wYXJhbXNfbGlzdCRzY2FsZV9wb3Nfd2VpZ2h0IDwtIHNjYWxlX3Bvc193ZWlnaHQNCmJlc3RfcGFyYW1zX2xpc3QkbnRocmVhZCA8LSBuYw0KDQpmb3IoaSBpbiAxOjIwKSB7DQogICMgQ3JlYXRlIHRlc3Qgc3BsaXQNCiAgaWR4IDwtIHVuaXF1ZShzYW1wbGUobnJvdyh4cyksIG5yb3coeHMpLCBUKSkNCiAgdHJhaW5feCA8LSB4c1tpZHgsIF0NCiAgdHJhaW5feSA8LSB5W2lkeF0NCiAgdGVzdF94IDwtIHhzWy1pZHgsIF0NCiAgdGVzdF95IDwtIHlbLWlkeF0NCiAgDQogICMgVHJhaW4gbW9kZWwgb24gZnVsbCB1bmJhbGFuY2VkIGRhdGFzZXQNCiAgZG1fdHJhaW4gPC0geGdiLkRNYXRyaXgoZGF0YSA9IHRyYWluX3gsIGxhYmVsID0gdHJhaW5feSkNCiAgbWRsIDwtIHhnYi50cmFpbigNCiAgICBwYXJhbXMgPSBiZXN0X3BhcmFtc19saXN0LA0KICAgIGRhdGEgPSBkbV90cmFpbiwNCiAgICBucm91bmRzID0gYmVzdF9wYXJhbXNbWyJucm91bmRzIl1dLA0KICAgIHZlcmJvc2UgPSBGQUxTRQ0KICApDQogIA0KICAjIFRlc3Qgb24gdW5iYWxhbmNlZCB0ZXN0IHNldA0KICBwIDwtIHByZWRpY3QobWRsLCB4Z2IuRE1hdHJpeChkYXRhID0gdGVzdF94KSkNCiAgcHJlZCA8LSBwcmVkaWN0aW9uKHAsIHRlc3RfeSkNCiAgdGVzdF9hdWNzW2ldIDwtIHBlcmZvcm1hbmNlKHByZWQsICJhdWMiKUB5LnZhbHVlc1tbMV1dDQp9DQojIFByaW50IHJlc3VsdHMNCmNhdCgiXG5UZXN0IFJlc3VsdHMgb3ZlciAxMDAgaXRlcmF0aW9uczpcbiIpDQpjYXQoIk1lYW4gQVVDOiIsIG1lYW4odGVzdF9hdWNzKSwgIlxuIikNCmNhdCgiU0QgQVVDOiIsIHNkKHRlc3RfYXVjcyksICJcbiIpDQpjYXQoIjk1JSBDSToiLCBtZWFuKHRlc3RfYXVjcykgLSAxLjk2ICogc2QodGVzdF9hdWNzKSwgDQogICAgInRvIiwgbWVhbih0ZXN0X2F1Y3MpICsgMS45NiAqIHNkKHRlc3RfYXVjcyksICJcbiIpDQoNCiMgUGxvdHRpbmcgQVVDIGRpc3RyaWJ1dGlvbg0KcGxvdCh0ZXN0X2F1Y3MsIGNvbD0icmVkIiwgcGNoPTIwLA0KICAgICBtYWluPSJBVUMgVGVzdCBEaXN0cmlidXRpb24iLA0KICAgICB4bGFiPSJJdGVyYXRpb24iLCB5bGFiPSJBVUMiKQ0KYWJsaW5lKGg9bWVhbih0ZXN0X2F1Y3MpLCBjb2w9ImJsdWUiLCBsd2Q9MiwgbHR5PTIpICAjIEFkZCB0aGlzIGxpbmUgdG8gc2hvdyBtZWFuDQphYmxpbmUoaD1tZWFuKHRlc3RfYXVjcykgLSAxLjk2ICogc2QodGVzdF9hdWNzKSwgY29sPSJncmVlbiIsIGx3ZD0yLCBsdHk9MykNCmFibGluZShoPW1lYW4odGVzdF9hdWNzKSArIDEuOTYgKiBzZCh0ZXN0X2F1Y3MpLCBjb2w9ImdyZWVuIiwgbHdkPTIsIGx0eT0zKQ0KbGVnZW5kKCJib3R0b21yaWdodCIsIA0KICAgICAgIGxlZ2VuZD1jKCJBVUMgVmFsdWVzIiwgIk1lYW4iLCAiOTUlIENJIEJvdW5kcyIpLA0KICAgICAgIGNvbD1jKCJyZWQiLCAiYmx1ZSIsICJncmVlbiIpLA0KICAgICAgIGx0eT1jKE5BLCAyLCAzKSwNCiAgICAgICBwY2g9YygyMCwgTkEsIE5BKSkNCg0KIyBOb3cgdHJhaW4gZmluYWwgbW9kZWwgb24gZnVsbCBkYXRhIGZvciB6IHNjb3Jlcw0KZG1fZnVsbCA8LSB4Z2IuRE1hdHJpeChkYXRhID0geHMsIGxhYmVsID0geSkNCmZpbmFsX21vZGVsIDwtIHhnYi50cmFpbigNCiAgcGFyYW1zID0gYmVzdF9wYXJhbXNfbGlzdCwNCiAgZGF0YSA9IGRtX2Z1bGwsDQogIG5yb3VuZHMgPSBiZXN0X3BhcmFtc1tbIm5yb3VuZHMiXV0sDQogIHZlcmJvc2UgPSBGQUxTRQ0KKQ0KDQojIEdldCBwcm9iYWJpbGl0eSBwcmVkaWN0aW9ucyAoeikgZm9yIEFMTCBkYXRhDQp6IDwtIHByZWRpY3QoZmluYWxfbW9kZWwsIHhnYi5ETWF0cml4KGRhdGEgPSB4cykpDQpgYGANCg0KDQpgYGB7cn0NCiMgQ2FsY3VsYXRlIHJlc2lkdWFscyBmb3IgWEdCb29zdCBwcmVkaWN0aW9ucw0KeSA8LSBhcy5udW1lcmljKGFzLmNoYXJhY3RlcihzZWxlY3RfZGF0YSRhdHRlbXB0KSkNCnJlc2lkdWFscyA8LSB5IC0geg0KDQojIEhpc3RvZ3JhbSBvZiByZXNpZHVhbHMNCmhpc3QocmVzaWR1YWxzLCBtYWluPSJEaXN0cmlidXRpb24gb2YgWEdCb29zdCBNb2RlbCBSZXNpZHVhbHMiLCB4bGFiPSJSZXNpZHVhbCIsIGJyZWFrcz0xMDApDQpgYGANCg0KYGBge3J9DQojIHBsb3Qgb3V0IHRoZSB6IHZhbHVlc1wNCnBsb3QoZGVuc2l0eSh6KSwgDQogICAgIG1haW4gPSAiRGVuc2l0eSBvZiBaIFByZWRpY3Rpb25zIiwNCiAgICAgeGxhYiA9ICJQcmVkaWN0ZWQgUHJvYmFiaWxpdHkgb2YgQXR0ZW1wdCIsDQogICAgIHlsYWIgPSAiRGVuc2l0eSIpDQpgYGANCg0KYGBge3J9DQojIENhbGN1bGF0ZSBHSU1SIChsYW1iZGEpIFRoaXMgaXMgR2VuZXJhbGl6ZWQgaW52ZXJzZSBtaWxscyByYXRpbw0KR0lNUiA8LSBkbm9ybShxbm9ybSh6KSkgLyAoMSAtIHBub3JtKHFub3JtKHopKSkNCg0KIyBBZGQgR0lNUiB0byB0aGUgZGF0YQ0Kc2VsZWN0X2RhdGFbLCBHSU1SIDo9IEdJTVJdDQoNCiMgUHJpbnQgdmFyaWFibGUgaW1wb3J0YQ0KYGBgDQoNCmBgYHtyfQ0KIyBDcmVhdGUgYSBkYXRhLnRhYmxlIHdpdGgganVzdCBteV9pZCBhbmQgR0lNUiBmcm9tIHNlbGVjdF9kYXRhDQpHSU1SX2R0IDwtIGRhdGEudGFibGUobXlfaWQgPSBzZWxlY3RfZGF0YSRteV9pZCwgR0lNUiA9IEdJTVIpDQoNCiMgQWRkIEdJTVIgdG8gb3V0Y29tZV9kYXRhIGJ5IG1hdGNoaW5nIG9uIG15X2lkDQpvdXRjb21lX2RhdGFbR0lNUl9kdCwgR0lNUiA6PSBpLkdJTVIsIG9uID0gIm15X2lkIl0NCmBgYA0KDQpgYGB7cn0NCiMgIyBFeGlzdGluZyBjb2RlDQojIG91dGNvbWVfZGF0YSA8LSBvdXRjb21lX2RhdGFbLCBteV9pZCA6PSBOVUxMXQ0KIyBvdXRjb21lX2RhdGFbLCB5YXJkbGluZV8zMV80MCA6PSBOVUxMXQ0KIyBvdXRjb21lX2RhdGFbLCB5ZWFyMjAyMl90ZWFtX0NMRSA6PSBOVUxMXSAjIHRpZWQgZm9yIG1vc3QgYXR0ZW1wdHMgd2l0aCAzMQ0KDQojIFJlbW92ZSBhbGwgY29sdW1ucyB3aXRoICJfcHJlc2VudCIgaW4gdGhlIG5hbWUNCnByZXNlbnRfY29scyA8LSBncmVwKCJfcHJlc2VudCIsIG5hbWVzKG91dGNvbWVfZGF0YSksIHZhbHVlID0gVFJVRSkNCmZvciAoY29sIGluIHByZXNlbnRfY29scykgew0KICBvdXRjb21lX2RhdGFbLCAoY29sKSA6PSBOVUxMXQ0KfQ0KYGBgDQoNCg0KYGBge3J9DQoNCiMgQ3JlYXRlIGNvcGllcyBvZiBvdXRjb21lX2RhdGEgZm9yIGRpZmZlcmVudCBtb2RlbHMNCm91dGNvbWVfZGF0YV9wbGF5ZXIgPC0gY29weShvdXRjb21lX2RhdGEpDQpvdXRjb21lX2RhdGFfc3RhcnRlciA8LSBjb3B5KG91dGNvbWVfZGF0YSkNCg0KIyBSZW1vdmUgc3BlY2lmaWMgY29sdW1ucyBhcyBpbiBvcmlnaW5hbCBjb2RlDQpmb3IgKGR0IGluIGxpc3Qob3V0Y29tZV9kYXRhX3BsYXllciwgb3V0Y29tZV9kYXRhX3N0YXJ0ZXIpKSB7DQogIGR0WywgbXlfaWQgOj0gTlVMTF0NCiAgZHRbLCB5YXJkbGluZV8zMV80MCA6PSBOVUxMXQ0KICBkdFssIHllYXIyMDIyX3RlYW1fQ0xFIDo9IE5VTExdICMgdGllZCBmb3IgbW9zdCBhdHRlbXB0cyB3aXRoIDMxDQogIA0KICAjIFJlbW92ZSBhdHRlbmRhbmNlIHZhcmlhYmxlcw0KICBkdFssIGF0dGVuZGFuY2VfcGN0IDo9IE5VTExdDQogIGR0WywgYXR0ZW5kYW5jZV9yYXcgOj0gTlVMTF0NCiAgZHRbLCB2ZWdhc193cF9wb3N0ZWFtIDo9IE5VTExdDQp9DQoNCiMgRm9yIHBsYXllciBtb2RlbHMsIHJlbW92ZSBzdGFydGVyIGNvbHVtbnMNCnBsYXllcl9jb2xzIDwtIGdyZXAoIl5zdGFydGVyXyIsIG5hbWVzKG91dGNvbWVfZGF0YV9wbGF5ZXIpLCB2YWx1ZSA9IFRSVUUpDQpmb3IgKGNvbCBpbiBwbGF5ZXJfY29scykgew0KICBvdXRjb21lX2RhdGFfcGxheWVyWywgKGNvbCkgOj0gTlVMTF0NCn0NCg0KIyBGb3Igc3RhcnRlciBtb2RlbHMsIHJlbW92ZSBwbGF5ZXIgY29sdW1ucw0Kc3RhcnRlcl9jb2xzIDwtIGdyZXAoIl4ob2ZmZW5zZXxkZWZlbnNlKV9wbGF5ZXJfIiwgbmFtZXMob3V0Y29tZV9kYXRhX3N0YXJ0ZXIpLCB2YWx1ZSA9IFRSVUUpDQpmb3IgKGNvbCBpbiBzdGFydGVyX2NvbHMpIHsNCiAgb3V0Y29tZV9kYXRhX3N0YXJ0ZXJbLCAoY29sKSA6PSBOVUxMXQ0KfQ0KDQojIEVuc3VyZSBjb252ZXJzaW9uIGlzIG51bWVyaWMNCmZvciAoZHQgaW4gbGlzdChvdXRjb21lX2RhdGFfcGxheWVyLCBvdXRjb21lX2RhdGFfc3RhcnRlcikpIHsNCiAgZHRbLCBjb252ZXJzaW9uIDo9IGFzLm51bWVyaWMoYXMuY2hhcmFjdGVyKGNvbnZlcnNpb24pKV0NCn0NCg0KIyBNT0RFTCAxOiBQbGF5ZXIgbW9kZWwgd2l0aCBHSU1SDQpvbHNfbW9kZWxfcGxheWVyIDwtIGxtKGNvbnZlcnNpb24gfiAuLCBkYXRhID0gb3V0Y29tZV9kYXRhX3BsYXllcikNCg0KIyBNT0RFTCAyOiBTdGFydGVyIG1vZGVsIHdpdGggR0lNUg0Kb2xzX21vZGVsX3N0YXJ0ZXIgPC0gbG0oY29udmVyc2lvbiB+IC4sIGRhdGEgPSBvdXRjb21lX2RhdGFfc3RhcnRlcikNCg0KIyBGdW5jdGlvbiB0byBhbmFseXplIGFuZCBwcmludCBtb2RlbCByZXN1bHRzDQphbmFseXplX21vZGVsIDwtIGZ1bmN0aW9uKG1vZGVsLCBtb2RlbF9uYW1lKSB7DQogIGxpYnJhcnkoc2FuZHdpY2gpDQogIGxpYnJhcnkobG10ZXN0KQ0KICANCiAgIyBHZXQgSEMwLWFkanVzdGVkIHQtdmFsdWVzIGFuZCBwLXZhbHVlcw0KICByb2J1c3RfdGVzdCA8LSBjb2VmdGVzdChtb2RlbCwgdmNvdiA9IHZjb3ZIQyhtb2RlbCwgdHlwZSA9ICJIQzAiKSkNCiAgdF9zdGF0cyA8LSByb2J1c3RfdGVzdFssICJ0IHZhbHVlIl0NCiAgcF92YWx1ZXMgPC0gcm9idXN0X3Rlc3RbLCAiUHIoPnx0fCkiXQ0KICANCiAgIyBGdW5jdGlvbiB0byBhZGQgc2lnbmlmaWNhbmNlIHN0YXJzDQogIGdldF9zdGFycyA8LSBmdW5jdGlvbihwKSB7DQogICAgaWYgKHAgPD0gMC4wMSkgcmV0dXJuKCIqKioiKQ0KICAgIGlmIChwIDw9IDAuMDUpIHJldHVybigiKioiKQ0KICAgIGlmIChwIDw9IDAuMSkgcmV0dXJuKCIqIikNCiAgICBpZiAocCA8PSAwLjE1KSByZXR1cm4oIi4iKQ0KICAgIHJldHVybigiIikNCiAgfQ0KICANCiAgIyBNYXhpbXVtIHdpZHRoIGZvciB2YXJpYWJsZSBuYW1lcw0KICBuYW1lX3dpZHRoIDwtIDYwDQogIA0KICAjIFByaW50IG1vZGVsIG5hbWUgYW5kIGhlYWRlcg0KICBjYXQoIlxuXG4iLCBwYXN0ZShyZXAoIj0iLCA4MCksIGNvbGxhcHNlPSIiKSwgIlxuIikNCiAgY2F0KCJNT0RFTDoiLCBtb2RlbF9uYW1lLCAiXG4iKQ0KICBjYXQocGFzdGUocmVwKCI9IiwgODApLCBjb2xsYXBzZT0iIiksICJcblxuIikNCiAgDQogICMgUHJpbnQgaGVhZGVyIHdpdGggYWxpZ25tZW50DQogIGNhdChzcHJpbnRmKCIlLSpzICAlMTBzICAlMTBzICAlNHNcbiIsIG5hbWVfd2lkdGgsICJWYXJpYWJsZSIsICJ0LXZhbHVlIiwgInAtdmFsdWUiLCAic2lnIikpDQogIGNhdChzcHJpbnRmKCIlLSpzICAlMTBzICAlMTBzICAlNHNcbiIsIG5hbWVfd2lkdGgsICItLS0tLS0tLS0iLCAiLS0tLS0tLSIsICItLS0tLS0tIiwgIi0tLS0iKSkNCiAgDQogICMgTG9vcCB0aHJvdWdoIGFuZCBwcmludCB2YWx1ZXMNCiAgZm9yIChpIGluIDE6bGVuZ3RoKHRfc3RhdHMpKSB7DQogICAgdmFyX25hbWUgPC0gcm93bmFtZXMocm9idXN0X3Rlc3QpW2ldDQogICAgIyBUcnVuY2F0ZSBuYW1lIGlmIHRvbyBsb25nDQogICAgaWYgKG5jaGFyKHZhcl9uYW1lKSA+IG5hbWVfd2lkdGgpIHsNCiAgICAgIHZhcl9uYW1lIDwtIHBhc3RlMChzdWJzdHIodmFyX25hbWUsIDEsIG5hbWVfd2lkdGgtMyksICIuLi4iKQ0KICAgIH0NCiAgICBjYXQoc3ByaW50ZigiJS0qcyAgJTEwLjRmICAlMTAuNGYgICU0c1xuIiwgDQogICAgICAgICAgICAgICAgbmFtZV93aWR0aCwgdmFyX25hbWUsIA0KICAgICAgICAgICAgICAgIHRfc3RhdHNbaV0sIHBfdmFsdWVzW2ldLA0KICAgICAgICAgICAgICAgIGdldF9zdGFycyhwX3ZhbHVlc1tpXSkpKQ0KICB9DQogIA0KICBjYXQoIlxuU2lnbmlmaWNhbmNlIGNvZGVzOiAwICcqKionIDAuMDEgJyoqJyAwLjA1ICcqJyAwLjEgJy4nIDAuMTVcbiIpDQogIA0KICAjIFByaW50IFItc3F1YXJlZA0KICByX3NxdWFyZWQgPC0gc3VtbWFyeShtb2RlbCkkYWRqLnIuc3F1YXJlZA0KICBjYXQoIlxuQWRqdXN0ZWQgUi1zcXVhcmVkOiIsIHJfc3F1YXJlZCwgIlxuIikNCiAgDQogICMgQ2FsY3VsYXRlIFZJRnMNCiAgbGlicmFyeShjYXIpDQogIHZpZnMgPC0gdmlmKG1vZGVsKQ0KICANCiAgIyBGaWx0ZXIgdG8gc2hvdyBvbmx5IFZJRnMgb3ZlciA1DQogIGhpZ2hfdmlmcyA8LSB2aWZzW3ZpZnMgPiA1XQ0KICBpZihsZW5ndGgoaGlnaF92aWZzKSA+IDApIHsNCiAgICBjYXQoIlxuVmFyaWFibGVzIHdpdGggVklGID4gNTpcbiIpDQogICAgcHJpbnQoaGlnaF92aWZzKQ0KICB9IGVsc2Ugew0KICAgIGNhdCgiXG5ObyB2YXJpYWJsZXMgd2l0aCBWSUYgPiA1IGZvdW5kIGluIHRoaXMgbW9kZWxcbiIpDQogIH0NCiAgDQogIHJldHVybihyX3NxdWFyZWQpDQp9DQoNCiMgQW5hbHl6ZSBtb2RlbHMgd2l0aCBHSU1SIG9ubHkNCnIyX3BsYXllciA8LSBhbmFseXplX21vZGVsKG9sc19tb2RlbF9wbGF5ZXIsICJQbGF5ZXIgTW9kZWwgd2l0aCBHSU1SIikNCnIyX3N0YXJ0ZXIgPC0gYW5hbHl6ZV9tb2RlbChvbHNfbW9kZWxfc3RhcnRlciwgIlN0YXJ0ZXIgTW9kZWwgd2l0aCBHSU1SIikNCg0KIyBDb21wYXJlIFItc3F1YXJlZCB2YWx1ZXMNCmNhdCgiXG5cbiIsIHBhc3RlKHJlcCgiPSIsIDgwKSwgY29sbGFwc2U9IiIpLCAiXG4iKQ0KY2F0KCJNT0RFTCBDT01QQVJJU09OIC0gQWRqdXN0ZWQgUi1zcXVhcmVkIHZhbHVlc1xuIikNCmNhdChwYXN0ZShyZXAoIj0iLCA4MCksIGNvbGxhcHNlPSIiKSwgIlxuXG4iKQ0KY2F0KCJQbGF5ZXIgTW9kZWwgd2l0aCBHSU1SOiIsIHIyX3BsYXllciwgIlxuIikNCmNhdCgiU3RhcnRlciBNb2RlbCB3aXRoIEdJTVI6IiwgcjJfc3RhcnRlciwgIlxuIikNCg0KYGBgDQoNCg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("heckman.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
